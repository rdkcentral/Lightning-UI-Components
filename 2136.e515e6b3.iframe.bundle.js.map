{"version":3,"file":"2136.e515e6b3.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAQA;AACA;AAAA;AANA;AACA;AACA;AAAA;AAAA;AAAA;AAYA;AACA;AAAA;AANA;AACA;AACA;AAAA;AAAA;AAAA;AAgBA;AACA;AAAA;AAVA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAYA;AACA;AAAA;AANA;AACA;AACA;AAAA;AAAA;AAAA;AAYA;AACA;AAAA;AANA;AACA;AACA;AAAA;AAAA;AAAA;AAYA;AACA;AAAA;AANA;AACA;AACA;AAAA;AAAA;AAAA;AAYA;AACA;AAAA;AANA;AACA;AACA;AAAA;AAAA;AAAA;AAeA;AARA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAQA;AACA;;AAEA;AACA;;AAQA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAQA;AACA;;AAEA;AACA;;AAQA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;;;;;;;;;;;;;AC5MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0CA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAOA;AACA;AAAA;AALA;AACA;AAAA;AAAA;AAAA;AArKA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAGA;AAGA;AAAA;AACA;AAGA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AASA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAGA;AAGA;AACA;AACA;AACA;AACA;AAGA;AAOA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAKA;AAAA;AAAA;AAAA;AAMA;AAGA;AAAA;AAAA;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA","sources":["webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/textures/Bubble.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Tooltip/Tooltip.styles.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Tooltip/Tooltip.js","webpack://lightning-ui-docs/","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/docs/utils.js"],"sourcesContent":["/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport lng from '@lightningjs/core';\n\nexport default class Bubble extends lng.Texture {\n  constructor(stage) {\n    super(stage);\n    this._w = 0;\n    this._h = 0;\n    this._radius = 0;\n    this._pointerWidth = 0;\n    this._pointerHeight = 0;\n    this._strokeWidth = 0;\n    this._color = 'white';\n  }\n\n  set w(w) {\n    this._w = w;\n    this._changed();\n  }\n\n  get w() {\n    return this._w;\n  }\n\n  set h(h) {\n    this._h = h;\n    this._changed();\n  }\n\n  get h() {\n    return this._h;\n  }\n\n  set radius(radius) {\n    if (Array.isArray(radius)) {\n      this._radius = new Array(4).fill().map((_, index) => radius[index] || 0);\n    } else {\n      this._radius = radius;\n    }\n    this._changed();\n  }\n\n  get radius() {\n    return this._radius;\n  }\n\n  set pointerWidth(pointerWidth) {\n    this._pointerWidth = pointerWidth;\n    this._changed();\n  }\n\n  get pointerWidth() {\n    return this._pointerWidth;\n  }\n\n  set pointerHeight(pointerHeight) {\n    this._pointerHeight = pointerHeight;\n    this._changed();\n  }\n\n  get pointerHeight() {\n    return this._pointerHeight;\n  }\n\n  set strokeWidth(strokeWidth) {\n    this._strokeWidth = strokeWidth;\n    this._changed();\n  }\n\n  get strokeWidth() {\n    return this._strokeWidth;\n  }\n\n  set color(color) {\n    this._color = lng.StageUtils.getRgbaString(color);\n    this._changed();\n  }\n\n  get color() {\n    return this._color;\n  }\n\n  createBubble({\n    stage,\n    w = 0,\n    h = 0,\n    radius = 0,\n    pointerWidth = 0,\n    pointerHeight = 0,\n    strokeWidth = 1,\n    color = 'white'\n  }) {\n    const canvas = stage.platform.getDrawingCanvas();\n    const ctx = canvas.getContext('2d');\n\n    canvas.width = w + strokeWidth + 4;\n    canvas.height = h + strokeWidth + 4;\n\n    ctx.imageSmoothingEnabled = true;\n    ctx.fillStyle = color;\n    ctx.strokeStyle = color;\n    ctx.lineWidth = strokeWidth;\n    ctx.lineCap = 'round';\n    ctx.lineJoin = 'round';\n\n    const initialCoord = 0.5 * strokeWidth + 1;\n    const leftX = initialCoord;\n    const rightX = leftX + w;\n    const topY = initialCoord;\n    const bottomY = topY + h;\n    const bottomBubbleY = bottomY - pointerHeight;\n    const isRadiusAnArray = Array.isArray(radius);\n    // start: top left\n    ctx.beginPath();\n    ctx.moveTo(leftX + (isRadiusAnArray ? radius[0] : radius), topY);\n    // top side\n    ctx.lineTo(rightX - (isRadiusAnArray ? radius[0] : radius), topY);\n    // top right corner\n    ctx.arcTo(\n      rightX,\n      topY,\n      rightX,\n      topY + (isRadiusAnArray ? radius[1] : radius),\n      isRadiusAnArray ? radius[1] : radius\n    );\n\n    // right side\n    ctx.lineTo(rightX, bottomBubbleY - (isRadiusAnArray ? radius[2] : radius));\n\n    // bottom right corner\n    ctx.arcTo(\n      rightX,\n      bottomBubbleY,\n      rightX - (isRadiusAnArray ? radius[2] : radius),\n      bottomBubbleY,\n      isRadiusAnArray ? radius[2] : radius\n    );\n\n    // bottom side, right of point\n    ctx.lineTo(w / 2 + pointerWidth / 2, bottomBubbleY);\n\n    // point\n    ctx.arcTo(w / 2, bottomY, w / 2 - pointerWidth / 2, bottomBubbleY, 2);\n    ctx.lineTo(w / 2 - pointerWidth / 2, bottomBubbleY);\n\n    // bottom side, left of point\n    ctx.lineTo(leftX + (isRadiusAnArray ? radius[3] : radius), bottomBubbleY);\n\n    // bottom left corner\n    ctx.arcTo(\n      leftX,\n      bottomBubbleY,\n      leftX,\n      bottomBubbleY - (isRadiusAnArray ? radius[3] : radius),\n      isRadiusAnArray ? radius[3] : radius\n    );\n\n    // left side\n    ctx.lineTo(leftX, topY + (isRadiusAnArray ? radius[0] : radius));\n\n    // top left corner\n    ctx.arcTo(\n      leftX,\n      topY,\n      leftX + (isRadiusAnArray ? radius[0] : radius),\n      topY,\n      isRadiusAnArray ? radius[0] : radius\n    );\n\n    // draw shape and fill with color\n    ctx.stroke();\n    ctx.fill();\n\n    return canvas;\n  }\n\n  _getLookupId() {\n    const { w, h, radius, pointerWidth, pointerHeight, color } = this;\n    return `__bubble_${w}x${h}_radius-${radius}_pointer-${pointerWidth}x${pointerHeight}_fill-${color}`;\n  }\n\n  _getSourceLoader() {\n    return cb => {\n      cb(null, {\n        source: this.createBubble(this)\n      });\n    };\n  }\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const base = theme => ({\n  marginBottom: theme.spacer.xl,\n  paddingX: theme.spacer.lg,\n  paddingY: theme.spacer.md,\n  pointerWidth: theme.spacer.xxl,\n  pointerHeight: theme.spacer.lg,\n  radius: theme.radius.sm,\n  textStyle: {\n    ...theme.typography.body3,\n    textColor: theme.color.textInverse\n  },\n  transition: theme.animation.utility // TODO: should delay and duration be xfast?\n});\n\nexport const tone = theme => ({\n  neutral: {\n    backgroundColor: theme.color.fillNeutral,\n    textStyle: { textColor: theme.color.textInverse }\n  },\n  inverse: {\n    backgroundColor: theme.color.fillInverse,\n    textStyle: { textColor: theme.color.textNeutral }\n  },\n  brand: {\n    backgroundColor: theme.color.fillBrand,\n    textStyle: { textColor: theme.color.textNeutral }\n  }\n});\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Bubble from '../../textures/Bubble';\nimport TextBox from '../TextBox';\nimport Base from '../Base';\nimport * as styles from './Tooltip.styles';\nimport { getMaxRoundRadius } from '../../utils';\n\nexport default class Tooltip extends Base {\n  static get __componentName() {\n    return 'Tooltip';\n  }\n\n  static get __themeStyle() {\n    return styles;\n  }\n\n  static _template() {\n    return {\n      alpha: 0,\n      scale: 0.5,\n      mountX: 0.5,\n      x: w => w / 2,\n      Background: {\n        Text: {\n          type: TextBox,\n          signals: {\n            textBoxChanged: '_textLoaded'\n          }\n        }\n      }\n    };\n  }\n\n  static get properties() {\n    return ['title', 'delayVisible', 'timeVisible'];\n  }\n\n  static get tags() {\n    return ['Background', { name: 'Text', path: 'Background.Text' }];\n  }\n\n  static get aliasStyles() {\n    return [\n      { prev: 'pointerH', curr: 'pointerHeight' },\n      { prev: 'pointerW', curr: 'pointerWidth' }\n    ];\n  }\n\n  _update() {\n    this._updateText();\n    this._updateBackground();\n  }\n\n  _updateText() {\n    if (this._Text) {\n      this._Text.patch({\n        content: this.title,\n        style: { textStyle: this.style.textStyle }\n      });\n    }\n  }\n\n  _textLoaded() {\n    this._updateBackgroundHeight();\n    this._updateTextPosition();\n  }\n\n  /**\n   * patches Background prop updates\n   */\n  _updateBackground() {\n    this.patch({\n      Background: {\n        texture: {\n          type: Bubble,\n          w: this._Background.w,\n          h: this._Background.h,\n          radius: getMaxRoundRadius(\n            this.style.radius,\n            this._Background.w - this.style.pointerHeight,\n            this._Background.h - this.style.pointerHeight\n          ),\n          pointerWidth: this.style.pointerWidth,\n          pointerHeight: this.style.pointerHeight,\n          color: this.style.backgroundColor\n        }\n      }\n    });\n  }\n\n  /**\n   * updates height of background when text height or width is changed\n   */\n  _updateBackgroundHeight() {\n    const backgroundH =\n      this._Text.finalH + this.style.paddingY * 2 + this.style.pointerHeight;\n    const backgroundW = this._Text.finalW + this.style.paddingX * 2;\n    this.patch({\n      w: backgroundW,\n      h: backgroundH,\n      mountY: 1,\n      y: -this.style.marginBottom,\n      Background: {\n        w: backgroundW,\n        h: backgroundH,\n        texture: {\n          type: Bubble,\n          w: backgroundW,\n          h: backgroundH\n        }\n      }\n    });\n  }\n\n  _updateTextPosition() {\n    if (this._Text) {\n      this._Text.patch({\n        mount: 0.5,\n        x: this._Background.w / 2,\n        y: (this._Background.h - this.style.pointerHeight) / 2\n      });\n    }\n  }\n\n  _clearTimers() {\n    clearTimeout(this._hideTimer);\n    clearTimeout(this._showTimer);\n  }\n\n  _transitionIn() {\n    const smooth = {\n      smooth: {\n        alpha: [1, this.style.transition],\n        scale: [1, this.style.transition]\n      }\n    };\n\n    if (this.delayVisible) {\n      this._showTimer = setTimeout(() => {\n        this.patch({ smooth });\n      }, this.delayVisible);\n    } else {\n      this._showTimer = undefined;\n      this.patch({ smooth });\n    }\n\n    this._hideTimer = this.timeVisible\n      ? setTimeout(() => {\n          this._unfocus();\n        }, this.timeVisible + (this.delayVisible || 0))\n      : undefined;\n  }\n\n  _transitionOut() {\n    this.patch({\n      smooth: {\n        alpha: [0, this.style.transition],\n        scale: [0.5, this.style.transition]\n      }\n    });\n  }\n\n  _focus() {\n    this._clearTimers();\n    this._transitionIn();\n  }\n\n  _unfocus() {\n    this._clearTimers();\n    this._transitionOut();\n  }\n\n  set announce(announce) {\n    super.announce = announce;\n  }\n\n  get announce() {\n    return this._announce || (this._Text && this._Text.announce);\n  }\n}\n",null,"/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// eslint-disable-next-line no-unused-vars\nimport React from 'react';\nimport utils from '../utils';\n\n// creates Mode control on stories\nexport const createModeControl = ({ options, summaryValue } = {}) => {\n  return {\n    mode: {\n      control: 'radio',\n      options:\n        options && Array.isArray(options)\n          ? ['unfocused', ...options]\n          : ['unfocused', 'focused', 'disabled'],\n      description: 'Sets the visual mode for the component',\n      table: {\n        defaultValue: { summary: summaryValue }\n      },\n      type: { name: 'string', required: true }\n    }\n  };\n};\n\n/**\n * @param {object} config Parameters for generating nested args: { argsObj, targetProp, include, overrides }\n */\nexport function nestedArgs(config) {\n  const { argsObj, targetProp, include, overrides } = config;\n  return Object.keys(argsObj).reduce((acc, curr) => {\n    if (!include.includes(curr)) return acc;\n    return {\n      ...acc,\n      [targetProp + '_' + curr]:\n        (overrides.args && overrides.args[curr]) || argsObj[curr]\n    };\n  }, {});\n}\n\n/**\n * @param {object} config Parameters for generating nested arg types: { argsObj, targetProp, include, overrides }\n */\nexport function nestedArgTypes(config) {\n  const { argTypesObj, targetProp, include, overrides } = config;\n  return Object.keys(argTypesObj).reduce((acc, curr) => {\n    if (!include.includes(curr)) return acc;\n    return {\n      ...acc,\n      [targetProp + '_' + curr]: {\n        // Namespaced to avoid conflicts\n        name: curr,\n        ...argTypesObj[curr],\n        ...overrides[curr],\n        table: {\n          ...(argTypesObj[curr].table || {}),\n          ...(overrides[curr] && overrides[curr].table),\n          category: targetProp\n        }\n      }\n    };\n  }, {});\n}\n\nexport const prevValues = {};\n\n/**\n * @param {object} config Parameters for generating nested arg actions: { componentName, argsTypeObj, targetProp, include, overrides }\n */\nexport function nestedArgActions(config) {\n  const { componentName, argTypesObj, targetProp, include, overrides } = config;\n  return Object.keys(argTypesObj).reduce((acc, curr) => {\n    if (!include.includes(curr)) return acc;\n    return {\n      ...acc,\n      [targetProp + '_' + curr]: (value, component) => {\n        component.tag(componentName).patch({\n          [targetProp]: {\n            ...prevValues[targetProp],\n            [curr.replace(targetProp + '_', '')]:\n              value === 'none'\n                ? undefined\n                : (overrides && overrides[curr]) || value // There are issues with merging objects here\n          }\n        });\n        // Allow patching to work with nested objects\n        if (!prevValues[targetProp]) {\n          prevValues[targetProp] = {};\n        }\n        prevValues[targetProp][curr.replace(targetProp + '_', '')] =\n          value === 'none'\n            ? undefined\n            : (overrides && overrides[curr]) || value;\n      }\n    };\n  }, {});\n}\n\n/**\n * @param {object} config Parameters for generating story: { componentName, baseStory, subStory, targetProperty, include, options }\n */\nexport function generateSubStory(config) {\n  config.baseStory.args = {\n    ...config.baseStory.args,\n    ...nestedArgs({\n      argsObj: config.subStory.args || {},\n      targetProp: config.targetProperty,\n      include: config.include,\n      overrides: (config.overrides && config.overrides.args) || {}\n    })\n  };\n\n  config.baseStory.argTypes = {\n    ...config.baseStory.argTypes,\n    ...nestedArgTypes({\n      argTypesObj: config.subStory.argTypes || {},\n      targetProp: config.targetProperty,\n      include: config.include,\n      overrides: (config.overrides && config.overrides.argTypes) || {}\n    })\n  };\n\n  if (\n    !(\n      config.baseStory &&\n      config.baseStory.parameters &&\n      config.baseStory.parameters.argActions\n    )\n  ) {\n    config.baseStory.parameters = {\n      argActions: {}\n    };\n  }\n\n  config.baseStory.parameters.argActions = {\n    ...config.baseStory.parameters.argActions,\n    ...nestedArgActions({\n      componentName: config.componentName,\n      argTypesObj: config.subStory.argTypes || {},\n      targetProp: config.targetProperty,\n      include: config.include,\n      overrides: (config.overrides && config.overrides.argActions) || {}\n    })\n  };\n}\n\n// used to create links to Lightning docs given an id\nexport const DocsLink = ({ children, id }) => {\n  const docsmap = {\n    lng: {\n      _base: 'https://rdkcentral.github.io/Lightning/docs',\n      Component: '/components/overview',\n      Text: '/textures/text',\n      Transition: '/transitions/attributes'\n    }\n  };\n  const [source, path] = id.split('.');\n  const href = docsmap[source]._base + docsmap[source][path];\n  return (\n    <a href={href} target=\"_blank\">\n      {children || id}\n    </a>\n  );\n};\n\nexport const Item = ({ children }) => children;\n\n/**\n * Creates formatted object for markdown prop tables\n * see Column and Row stories\n * @param {object} props\n * @param {object} props.type - TS-style generic/utility type\n */\nexport const ObjectFormat = ({ object }) => {\n  return [\n    '{',\n    <br />,\n    '  ',\n    ...utils.flatten(\n      Object.entries(object).map(([k, v]) => [\n        <span>&nbsp;&nbsp;</span>,\n        `${k}: `,\n        v,\n        ',',\n        <br />\n      ])\n    ),\n    '}'\n  ].map((x, i) => <Item key={i}>{x}</Item>);\n};\n\n/**\n * Formats TS-style generic types\n * See Columns and Row stories\n * @param {object} props\n * @param {object} props.children - component children\n * @param {string} props.type - Name of generic type\n */\nexport const GenericType = ({ children, type }) => {\n  return [type, '<', children, '>'].map((x, i) => <Item key={i}>{x}</Item>);\n};\n"],"names":[],"sourceRoot":""}