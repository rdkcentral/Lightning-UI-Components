import { Canvas, Story } from '@storybook/addon-docs';
import { Theme } from '../../.storybook/utils';
import Input from '.';

# Input

Text input field component

## Usage

The `Input` component manages the state of a user's keyboard input. An important distinction between `Input` and the standard web `<input />` is that `Input` **does not do key handling for input**. Instead, you use the `insert()` method to add values based on the current cursor `position`.

```js
import { Input } from '@lightning/ui';

class Example extends lng.Component {
  static _template() {
    return {
      Input: {
        type: Input
      }
    };
  }

  _handleKey(event) {
    const { key } = event;
    if (key.length === 1) {
      this.tag('Input').input(key);
    }
    if (key === 'Backspace') {
      this.tag('Input').backspace();
    }
  }
}
```

<Canvas>
  <Story id="patterns-input--basic" />
</Canvas>

### Setting/Inserting values

The `Input` component keeps track of it's current `value` and cursor `position`. You can manage the value state in a few ways. Let's work off of the above example. We see the cursor blinking which is the `placeholder` value when listening mode is true and component in focused mode.

```js
this.tag('Input').value = 'Hello';
```

Now we will see "Hello" in the input, but the cursor will be at the beginning of the text. We can set the position:

```js
this.tag('Input').position = 5;
```

If we want to set the value _and_ change the position, we can use the `insert()` method.

```js
this.tag('Input').insert('Hello');

// is the same as
this.tag('Input').value = 'Hello';
this.tag('Input').position = 5;
```

### Deletion

To clear the current value, use `clear()`. This also repositions the cursor.

```js
this.tag('Input').clear();
```

Use the `backspace()` method to handle insert deletions. This will remove the character at the current cursor `position - 1` and moves the cursor back. To illustrate this behavior, let's look at a simple example:

```js
this.tag('Input').value = 'foo';
this.tag('Input').position = 1;

this.tag('Input').backspace();
this.tag('Input').value; //=> 'oo'
this.tag('Input').position; //=> 0
```

### Cursor position

The `Input` component has left and right key handlers to manage cursor position, so it works out of the box!

```js
this.tag('Input').value = 'foo';

this.tag('Input')._handleRight();
this.tag('Input').position; //=> 1

this.tag('Input')._handleLeft();
this.tag('Input').position; //=> 0
```

The cursor position stays within the bounds of the current `value`, so it is always >= 0 and <= `value.length`

## API

### Properties

| name      | type    | required | default | description                                                                                                                                                    |
| --------- | ------- | -------- | ------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| cursor    | number  | false    | -       | index of current cursor position                                                                                                                               |
| eyebrow   | string  | false    | -       | Eyebrow of input container                                                                                                                                     |
| listening | boolean | false    | -       | when true, input will accept changes from clear, insert, and backspace methods. When false, effects of those methods will be ignored and not affect the input. |
| helpText  | string  | false    | -       | HelpText of input container                                                                                                                                    |
| position  | number  | false    | -       | index of current cursor position                                                                                                                               |

### Style Properties

| name             | type   | description                                                                            |
| ---------------- | ------ | -------------------------------------------------------------------------------------- |
| cursorStyles     | object | styles of the cursor                                                                   |
| eyebrowColor     | string | color applied to eyebrow                                                               |
| helpTextColor    | string | color applied to helpText                                                              |
| minWidth         | number | used as a fallback width if no width is passed into the component and `fixed` is false |
| paddingX         | number | space between the button horizontal edge and the content                               |
| paddingY         | number | space between the button vertical edge and the content                                 |
| suffixPadding    | number | padding between title and suffix                                                       |
| supportTextStyle | string | font property applied to the eyebrow and help text                                     |
| titleWrapperX    | number | space between the title and suffix                                                     |
