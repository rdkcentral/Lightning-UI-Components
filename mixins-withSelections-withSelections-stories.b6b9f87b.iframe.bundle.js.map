{"version":3,"file":"mixins-withSelections-withSelections-stories.b6b9f87b.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAcA;AAGA;AAhBA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAEA;AAIA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AA9CA;AACA;AAAA;AAAA;AAAA;AA+CA;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withSelections/index.js","webpack://lightning-ui-docs/"],"sourcesContent":["/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport default function withSelections(Base, options = {}) {\n  const defaultOpts = {\n    captureKey: 'Enter',\n    defaultIndex: 0,\n    eventName: 'onSelect',\n    keys: {\n      currentSelected: 'currentSelected',\n      currentSelectedIndex: 'currentSelectedIndex',\n      isSelected: 'isSelected',\n      items: 'items',\n      setSelected: 'setSelected'\n    }\n  };\n  const {\n    captureKey,\n    defaultIndex,\n    eventName,\n    keys: {\n      currentSelected,\n      currentSelectedIndex,\n      isSelected,\n      items,\n      setSelected\n    }\n  } = {\n    ...defaultOpts,\n    ...options,\n    keys: {\n      ...defaultOpts.keys,\n      ...options.keys\n    }\n  };\n\n  return class extends Base {\n    static get name() {\n      return Base.name;\n    }\n\n    _construct() {\n      super._construct();\n      this[currentSelectedIndex] = defaultIndex;\n    }\n\n    _init() {\n      super._init();\n      this[currentSelected][isSelected] = true;\n    }\n\n    [setSelected](selected, val) {\n      const prevSelected = (this[items] || [])[this[currentSelectedIndex]];\n\n      if (\n        selected &&\n        (selected !== prevSelected || selected[isSelected] !== val)\n      ) {\n        prevSelected && (prevSelected[isSelected] = false);\n        selected[isSelected] = val;\n        this[currentSelectedIndex] = Array.from(this[items] || []).indexOf(\n          selected\n        );\n        this.fireAncestors('$' + eventName, selected, val);\n      }\n    }\n\n    _captureKey(event) {\n      if (\n        (Array.isArray(captureKey) && captureKey.indexOf(event.key) > -1) ||\n        event.key === captureKey\n      ) {\n        const [selected] = this.stage.application.focusPath.slice(-1);\n        this[setSelected](selected, true);\n      }\n      return false;\n    }\n\n    ['$' + setSelected](selected, val) {\n      this[setSelected](selected, val);\n    }\n\n    get [currentSelected]() {\n      return this[items][this[currentSelectedIndex]];\n    }\n  };\n}\n"],"names":[],"sourceRoot":""}