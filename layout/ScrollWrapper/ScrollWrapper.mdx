import { Canvas, Story } from '@storybook/addon-docs/blocks';
import { Theme } from '../../.storybook/utils';
import ScrollWrapper from '.';

# ScrollWrapper

A scrollable container for text content.

## Usage

`ScrollWrapper` requires three properties: `w`, `h`, and `content`:

```js
import { ScrollWrapper } from '@lightning/ui';

class Example extends lng.Component {
  static _template() {
    return {
      ScrollWrapper: {
        type: ScrollWrapper,
        h: 450,
        w: 600,
        content: 'Text content long enough to scroll vertically'
      }
    };
  }
};
```
<Canvas>
  <Story id="layout-scrollwrapper--basic" />
</Canvas>

Alternatively, an array of objects containing `text` and `style` keys may be provided as `content`. Styles provided here will override the ones set using the [`withStyles` mixin](#styling) for it's section of text:
```js
import { ScrollWrapper } from '@lightning/ui';

class Example extends lng.Component {
  static _template() {
    return {
      ScrollWrapper: {
        type: ScrollWrapper,
        h: 450,
        w: 600,
        content: [
          {
            text: 'Text Heading',
            style: {
              fontFace: 'XfinityBrownBold',
              alignContent: 'center'
            }
          },
          {
            text: 'Text content long enough to scroll vertically'
          }
        ]
      }
    };
  }
};
```
<Canvas>
  <Story id="layout-scrollwrapper--content-array" />
</Canvas>

The `h` and `w` properties will determine the viewable box for `ScrollWrapper`. When focused, `ScrollWrapper` will display a scroll bar to the right of the content and up/down scrolling will be handled.

The amount of scrolling per keypress is determined via the `scrollStep` property. Change it to allow smaller or larger scroll steps per keypress.

Additionally, `ScrollWrapper` supports autoScroll flag, which will auto scroll the content. The delay to start is set via `autoScrollDelay` and
speed via `autoScrollSpeed` both in ms. You can also hide the scrollBar with `showScrollBar`

```js
this.tag('ScrollWrapper').scrollStep = 50;
```

### Styling

Below is the `styles` function for `ScrollWrapper`.

```js
const styles = theme => ({
  text: {
    ...theme.typography.body1,
    color: theme.palette.text.light.primary
  },
  scrollBar: {
    fillColor: theme.palette.grey[80],
    strokeColor: theme.palette.grey[10],
    stroke: 5,
    w: 32,
    h: 32,
    radius: 16
  },
  scrollBarContainer: {
    color: theme.palette.grey[50],
    progressColor: theme.palette.grey[10],
    w: 8,
    radius: 4
  }
});
```

To change the internal styles for `ScrollWrapper`, wrap it in the `withStyles` mixin.

**Example**

```js
import withStyles from '@lightning/ui/mixins/withStyles';
import BaseScrollWrapper from '@lightning/ui/components/ScrollWrapper';

const styles = theme => ({
  text: {
    ...theme.typography.body2
  }
})
class ScrollWrapper = withStyles(BaseScrollWrapper, styles);
```

## API

### Properties

name|type|required|default|description
--|--|--|--|--
content|string\|array|true|-|text content to be displayed. Can be passed as a string, or array of objects if varying text styles are needed
h|number|true|0|height of viewable container
autoScroll|boolean|false|false|auto scroll the content
autoScrollDelay|number|false|2000|delay before auto scroll starts
autoScrollSpeed|number|false|200|time delay before each scroll step
fadeContent|boolean|false|true|fade out content at the bottom of the ScrollWrapper
scrollDuration|number|false|0.2|animation duration for the scroll
scrollStep|number|false|10|how many pixels to scroll by on every up/down keypress
showScrollBar|boolean|false|true|show the scroll bar when focused
w|number|true|0|width of viewable container

### Methods

#### resetScroll(): void

Resets the `y` value of both the content and the scroll bar.

### Events

#### $scrollChanged('endUp'|'endDown', this)

Event fired via `fireAncestors`, is triggered when scroll reaches the top or bottom of the scroll boundaries.

### Styles

Styled components can be adjusted by composing using [withStyles](?path=/docs/mixins-withstyles--basic). Below is the default `styles` object

<Theme theme={ScrollWrapper.styles} />
