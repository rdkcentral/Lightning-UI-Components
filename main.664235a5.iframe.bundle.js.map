{"version":3,"file":"main.664235a5.iframe.bundle.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiCA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AACA;AASA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAOA;AACA;AAAA;AALA;AACA;AAAA;AAAA;AAAA;AA5IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAOA;AANA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;;;;;;;;;;;;;;;;;;;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AAMA;AAGA;AAAA;AAAA;AAGA;AAGA;AAEA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AAGA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAEA;AACA;AACA;;AAIA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AAEA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AACA;AACA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AA3QA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AA8PA;;;;;;;;;;;;;;;ACzSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AArGA;AACA;AAAA;AAAA;AAuGA;AACA;AAKA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AAAA;;;;;;;;;;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AAMA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAKA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAAA;;AAGA;AACA;AACA;AACA;AAAA;AAEA;;AAIA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AApLA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AAAA;AAEA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAOA;AACA;AAAA;AALA;AACA;AAAA;AAAA;AAAA;AAWA;AACA;AAAA;AALA;AACA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAAA;AAIA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;AAIA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAGA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAKA;AACA;AAEA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;;AAEA;AACA;AAEA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAQA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAMA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AApcA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AA8bA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AAAA;AAAA;AAAA;AAGA;AAGA;AAAA;AAAA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AAGA;AAAA;AAAA;AAAA;AAGA;AAGA;AAAA;AAAA;AAGA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AAEA;AAAA;AAEA;AAEA;AAAA;AAEA;AAAA;;;;;;;;;;;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+CA;AACA;AAEA;AACA;AAIA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAzDA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AA5CA;AA8DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgJA;AACA;AAMA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;;AAEA;AACA;AAEA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAxUA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAOA;AAAA;AAAA;AAAA;AAGA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAOA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAOA;AAAA;AACA;AACA;AAFA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AA3IA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;;AAEA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAGA;AAGA;;AAGA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAAA;AAEA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAAA;AAAA;AAGA;AAIA;AAEA;AACA;AAIA;AAGA;AAAA;AACA;AAEA;AACA;AAGA;AAAA;AAEA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AA3BA;AACA;AAAA;AAAA;AAAA;AA9eA;AAWA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyDA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAIA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAOA;AACA;AAAA;AALA;AACA;AAAA;AAAA;AAAA;AArQA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAGA;AAUA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AAKA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AAEA;AAIA;AAKA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAIA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AAEA;AAOA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAOA;AACA;AACA;;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AAMA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAGA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAGA;AAAA;AAAA;AAAA;AAGA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAzgBA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAWA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAUA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAIA;AACA;AAEA;AAMA;AACA;AACA;AAEA;AAOA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AA9NA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AAMA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AAIA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;;AAEA;AAAA;AAAA;AAAA;AAQA;AACA;AAAA;AAPA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AAEA;AAMA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAMA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AAAA;AAAA;AAAA;AAhUA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AAQA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAEA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAGA;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAEA;AAEA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC7VA;AAAA;AAAA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAEA;AA/BA;AAAA;AAAA;AAgCA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAfA;AAAA;AAAA;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAMA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAEA;AAAA;AAGA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AANA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAKA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6BA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAEA;AAAA;AAIA;AACA;AAEA;AACA;AACA;AAEA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AArCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwCA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AAGA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AASA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;;;;;;;;;AC5aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAGA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAGA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;;;;;;;;;;;;;;;;;;;AC9MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAmBA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAGA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAGA;;;;;;;;;;;;;;;;;;;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAGA;;;;;;;;;;;;AC1FA;AAAA;AAAA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAFA;AAGA;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;AAEA;AACA;AAIA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AAGA;AACA;AACA;AACA;;AAEA;AACA;AAAA;AAPA;AAAA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AAOA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAQA;AACA;AAAA;AANA;AACA;AACA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;ACrOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AA/BA;AACA;AAAA;AAAA;AAgCA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AArBA;AACA;AAAA;AAAA;AAsBA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA;;AAEA;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AAEA;AAIA;AAGA;AAKA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AAJA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AACA;AAOA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAIA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAKA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;AAEA;AACA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;AAEA;AACA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AAAA;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AAKA;AAKA;AAIA;AACA;AACA;AACA;;;;ACxxBA;AAEA;AAEA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAOA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAOA;AAEA;AAAA;AAAA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAAA;AAAA;AAQA;AACA;AAAA;AALA;AACA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAbA;AACA;AAAA;AAAA;AAAA;AAgBA;AAMA;AACA;AAMA;AAEA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAIA;AAEA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAIA;AAIA;AAIA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAOA;;AAEA;AAKA;AACA;;AAEA;AACA;;AAOA;AACA;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAOA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAQA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AASA;AACA;AACA;AACA;AAGA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAmBA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAeA;AACA;AAGA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAfA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAeA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAlKA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAsJA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACraA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AAAA;AACA;AACA;AAKA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAKA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAKA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AAAA;AASA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AA7GA;AACA;AAAA;AAAA;AA8GA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAQA;AAQA;AAAA;AAAA;AA1CA;AA6CA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAQA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAMA;AAOA;AACA;AAEA;AAAA;AACA;AAEA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAKA;AAJA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAGA;AAEA;AAEA;AAEA;AAGA;AAMA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;AAEA;AACA;AACA;;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAJA;AAAA;AAAA;AAAA;AAQA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAJA;AAAA;AAAA;AAAA;AAQA;AAEA;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAKA;AACA;AAEA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AAQA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAAA;AAGA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAAA;AAHA;AACA;AAAA;AACA;AAEA;AACA;AAGA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC14BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAGA;AAKA;AACA;AACA;AAGA;AACA;;;;;;;;;;;;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAMA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAMA;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA;;AAEA;AAGA;AADA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAvDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AA6CA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAOA;AACA;AACA;AAIA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACvQA;AAAA;AAAA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;;;;;;;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC10BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvBA;;;;;;;;ACAA;;;;;;;;ACAA;;;;;;;;ACAA;;;;;;;;ACAA;;;;;;;;ACAA","sources":["webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Badge/Badge.styles.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Badge/Badge.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withLayout/index.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withExtensions/index.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Base/Base.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Column/Column.styles.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Column/Column.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/FocusManager/FocusManager.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/GridOverlay/GridOverlay.styles.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/GridOverlay/GridOverlay.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Icon/Icon.styles.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Icon/Icon.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/InlineContent/InlineContent.styles.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/InlineContent/InlineContent.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Marquee/Marquee.styles.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Marquee/Marquee.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/NavigationManager/NavigationManager.styles.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/NavigationManager/NavigationManager.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Row/Row.styles.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/Row/Row.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/TextBox/TextBox.styles.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/components/TextBox/TextBox.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/globals/context/metrics.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/globals/context/events.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components-theme-base/index.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/globals/context/fonts.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/globals/context/constants.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/globals/context/theme-manager.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/globals/context/index.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/globals/context/logger.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/globals/global-update-manager/GlobalUpdateManager.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withAnnouncer/Speech.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withAnnouncer/abbreviations.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withAnnouncer/index.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withHandleKey/index.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withTags/index.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withThemeStyles/utils.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withThemeStyles/cache.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withThemeStyles/StyleManager.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withThemeStyles/index.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/mixins/withUpdates/index.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/shaders/FadeShader.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/textures/CustomImageTexture.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/utils/index.js","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/globals/pool/index.js","webpack://lightning-ui-docs/./.storybook/utils/registerEvents.js","webpack://lightning-ui-docs/./index.js","webpack://lightning-ui-docs/./.storybook/addons/decorators/withLightning.js","webpack://lightning-ui-docs/./.storybook/preview.js","webpack://lightning-ui-docs/../../../node_modules/@storybook/core/dist/theming/ sync","webpack://lightning-ui-docs/../../@lightningjs/ui-components-test-utils/src/docs/ lazy ^\\.\\/.*$ include: (?678b","webpack://lightning-ui-docs/../../@lightningjs/ui-components-test-utils/src/docs/ lazy ^\\.\\/.*$ include: (","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/ lazy ^\\.\\/.*$ include: (","webpack://lightning-ui-docs/../../@lightningjs/ui-components/src/ lazy ^\\.\\/.*$ include: (?cb14","webpack://lightning-ui-docs/./src/ lazy ^\\.\\/.*$ include: (","webpack://lightning-ui-docs/./storybook-stories.js","webpack://lightning-ui-docs/./storybook-config-entry.js","webpack://lightning-ui-docs/external var \"__STORYBOOK_MODULE_CHANNELS__\"","webpack://lightning-ui-docs/external var \"__STORYBOOK_MODULE_CLIENT_LOGGER__\"","webpack://lightning-ui-docs/external var \"__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__\"","webpack://lightning-ui-docs/external var \"__STORYBOOK_MODULE_CORE_EVENTS__\"","webpack://lightning-ui-docs/external var \"__STORYBOOK_MODULE_GLOBAL__\"","webpack://lightning-ui-docs/external var \"__STORYBOOK_MODULE_PREVIEW_API__\""],"sourcesContent":["/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const base = theme => {\n  return {\n    contentSpacing: theme.spacer.xs,\n    offsetY: 1,\n    paddingX: theme.spacer.md,\n    paddingY: theme.spacer.xs,\n    radius: theme.radius.sm,\n    strokeWidth: theme.stroke.sm,\n    textStyle: {\n      ...theme.typography.tag1,\n      textAlign: 'center'\n    }\n  };\n};\n\nexport const tone = theme => ({\n  neutral: {\n    backgroundColor: theme.color.fillInverseSecondary,\n    iconColor: theme.color.textNeutral,\n    textStyle: { textColor: theme.color.textNeutral },\n    strokeColor: theme.color.strokeNeutralSecondary\n  },\n  inverse: {\n    backgroundColor: theme.color.fillNeutralSecondary,\n    iconColor: theme.color.textInverse,\n    textStyle: { textColor: theme.color.textInverse },\n    strokeColor: theme.color.strokeInverseSecondary\n  },\n  brand: {\n    backgroundColor: theme.color.fillBrand,\n    iconColor: theme.color.textNeutral,\n    textStyle: { textColor: theme.color.textNeutral },\n    strokeColor: theme.color.strokeInverseSecondary\n  }\n});\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Base from '../Base';\nimport Icon from '../Icon';\nimport { getHexColor, getMaxRoundRadius } from '../../utils';\nimport * as styles from './Badge.styles';\nimport lng from '@lightningjs/core';\n\nexport default class Badge extends Base {\n  static _template() {\n    return {\n      Text: {\n        mountY: 0.5\n      },\n      Icon: {\n        type: Icon,\n        mountY: 0.5,\n        signals: {\n          itemChanged: '_updateLayout'\n        }\n      }\n    };\n  }\n\n  static get __componentName() {\n    return 'Badge';\n  }\n\n  static get __themeStyle() {\n    return styles;\n  }\n\n  static get properties() {\n    return ['title', 'icon', 'iconAlign', 'iconWidth', 'iconHeight'];\n  }\n\n  static get tags() {\n    return ['Background', 'Text', 'Icon'];\n  }\n\n  _init() {\n    this._Text.on('txLoaded', this._updateLayout.bind(this));\n    super._init();\n  }\n\n  _update() {\n    this._updateText();\n    this._updateIcon();\n    this._updateLayout();\n    this._updateVisibility();\n  }\n\n  _updateVisibility() {\n    this.alpha = this.title || this.icon ? 1 : 0;\n  }\n\n  _updateLayout() {\n    this._updateWidth();\n    this._updateBackground();\n    this._updatePositions();\n    this.signal('loadedBadge', this);\n  }\n\n  _updateBackground() {\n    const height =\n      Math.max(this._Text.renderHeight, this._Icon.h) + this.style.paddingY * 2;\n\n    this.patch({\n      h: height,\n      texture: lng.Tools.getRoundRect(\n        this.w,\n        height,\n        getMaxRoundRadius(this.style.radius, this.w, height),\n        this.style.strokeWidth,\n        this.style.strokeColor,\n        true,\n        this.style.backgroundColor\n      )\n    });\n  }\n\n  _updateText() {\n    if (this._Text) {\n      this._Text.patch({\n        text: {\n          ...this.style.textStyle,\n          text: this.title || ''\n        }\n      });\n    }\n  }\n\n  _updateIcon() {\n    this._Icon.patch({\n      icon: this.icon,\n      w: this.iconWidth,\n      h: this.iconHeight,\n      style: {\n        color: getHexColor(this.style.iconColor)\n      }\n    });\n  }\n\n  _updateWidth() {\n    let width = 0;\n    if (this.title && this.icon) {\n      width =\n        this._Text.renderWidth +\n        this._Icon.finalW +\n        this.style.contentSpacing +\n        this.style.paddingX * 2;\n    } else if (this.title) {\n      width = this._Text.renderWidth + this.style.paddingX * 2;\n    } else if (this.icon) {\n      width = this._Icon.finalW + this.style.paddingX * 2;\n    }\n\n    this.w = width;\n  }\n\n  _updatePositions() {\n    this._Icon.y = this.h / 2;\n\n    if (this.iconAlign === 'left' && this.title && this.icon) {\n      this._Icon.x = this.style.paddingX;\n      this._Text.x =\n        this._Icon.x + this._Icon.finalW + this.style.contentSpacing;\n    } else if (this.iconAlign === 'right' && this.title && this.icon) {\n      this._Text.x = this.style.paddingX;\n      this._Icon.x =\n        this._Text.x + this._Text.renderWidth + this.style.contentSpacing;\n    } else {\n      this._Text.x = this.style.paddingX;\n      this._Icon.x = this.style.paddingX;\n    }\n\n    this._Text.y = this._h / 2 + this.style.offsetY;\n  }\n\n  _getIconHeight() {\n    if (this.icon) {\n      return !this._Icon.finalH && this._Text\n        ? this._Text.text.lineHeight\n        : this._Icon.finalH;\n    }\n    return 0;\n  }\n\n  set announce(announce) {\n    super.announce = announce;\n  }\n\n  get announce() {\n    return this._announce || this.title;\n  }\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport context from '../../globals/context/index';\nimport { stringifyCompare, getDimensions } from '../../utils';\n\nexport default function withLayout(Base) {\n  return class extends Base {\n    _construct() {\n      super._construct && super._construct();\n      this._previousDimensionData = null; // Store the previous dimension data to compare next time _updateItemLayout is called\n    }\n\n    get itemLayout() {\n      return this._itemLayout;\n    }\n\n    set itemLayout(v) {\n      const componentName =\n        this.constructor._componentName || this.constructor.name;\n      let itemLayout;\n      if (v) {\n        itemLayout = JSON.parse(\n          JSON.stringify(v, (k, v) => {\n            if (k !== 'circle' && v < 0) {\n              context.error(\n                `itemLayout for ${componentName} received an invalid value of ${v} for ${k}`\n              );\n              return;\n            } else if (k === 'circle') {\n              return Boolean(v);\n            }\n            return v;\n          })\n        );\n      }\n\n      if (!stringifyCompare(this._itemLayout, itemLayout)) {\n        if (itemLayout && !itemLayout.upCount) {\n          this._originalW = this.w;\n          this._originalH = this.h;\n          this._itemLayout = {\n            w: this._originalW,\n            h: this._originalH,\n            ...itemLayout\n          };\n        } else {\n          this._itemLayout = itemLayout;\n        }\n\n        this._updateItemLayout();\n      }\n    }\n\n    _allowUpdate() {\n      const {\n        w = '',\n        h = '',\n        circle = '',\n        ratioX = '',\n        ratioY = '',\n        upCount = ''\n      } = this._itemLayout || {};\n      // Store a string representation of all values from previous update to compare and decide if layout should change\n      const layoutString =\n        Object.values(context.theme.layout).join('') +\n        `${w}${h}${circle ? 1 : 0}${ratioX}${ratioY}${upCount}`;\n      if (layoutString !== this._previousDimensionData) {\n        this._previousDimensionData = layoutString;\n        return true;\n      }\n      return false;\n    }\n\n    _updateItemLayout() {\n      if (!this._allowUpdate()) return;\n      const { w, h } = getDimensions(this.theme, this._itemLayout);\n      if (h || w) {\n        // If there is not enough information passed in args to calculate item size\n        const width = context.theme.layout.screenW;\n        const height = context.theme.layout.screenH;\n        const calculatedWidth = w || h * (width / height);\n        const calculatedHeight = h || w * (height / width);\n        this.w =\n          this._itemLayout && this._itemLayout.circle\n            ? calculatedHeight\n            : calculatedWidth; // Width must be set first in order for Cards to be displayed properly\n        this.h = calculatedHeight;\n        if (this._itemLayout && this._itemLayout.circle && this.style.radius) {\n          this._circleSet = true;\n          this._originalRadius = this.style.radius;\n          this.style = {\n            ...this.style,\n            radius: calculatedHeight / 2\n          };\n        } else if (this._circleSet) {\n          // Restore to it's original state\n          this.style = {\n            ...this.style,\n            radius: this._originalRadius\n          };\n          this._originalRadius = undefined;\n          this._circleSet = false;\n        }\n        this.queueRequestUpdate && this.queueRequestUpdate();\n        this.fireAncestors('$itemChanged');\n      }\n    }\n  };\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport context from '../../globals/context/index';\n\nconst SUFFIX = '__original';\n\nexport default function withExtensions(Base) {\n  if (Base.prototype.constructor._withExtensionsApplied) {\n    return Base;\n  }\n  return class extends Base {\n    static get name() {\n      return Base.name;\n    }\n\n    static get __componentName() {\n      if (!super.__componentName) {\n        throw new Error(\n          `A valid static __componentName property is required for theming to work properly. Please add this to the ${this.constructor.name} class.`\n        );\n      }\n      return super.__componentName;\n    }\n\n    static get _withExtensionsApplied() {\n      // Extensions should only be applied once per class. This prevents it running multiple times. Ex. Surface -> Tile\n      return true;\n    }\n\n    /**\n     * Climb the prototype chain to establish what component's extension rules this component should also inherit\n     * @returns {set} // set of strings\n     */\n    get _prototypeChain() {\n      if (this.__prototypeChain) return this.__prototypeChain;\n      const prototypeChain = new Set();\n      let proto = this;\n      do {\n        proto = Object.getPrototypeOf(proto);\n        if (null !== proto && typeof proto === 'object') {\n          try {\n            if (proto.constructor.__componentName)\n              prototypeChain.add(proto.constructor.__componentName);\n          } catch (error) {\n            // Catch error when __componentName is not set in Base component\n          }\n        }\n      } while (proto);\n      this.__prototypeChain = prototypeChain;\n      return prototypeChain;\n    }\n\n    /**\n     * Get all valid extensions from the current theme\n     * @returns {object[]} // Array of objects\n     */\n    get _extensions() {\n      const extensions = context && context.theme && context.theme.extensions;\n      if (\n        !extensions ||\n        !Array.isArray(extensions) ||\n        (Array.isArray(extensions) && !extensions.length)\n      )\n        return [];\n      return (\n        extensions\n          .filter(\n            ({ targetComponent, extension }) =>\n              (typeof targetComponent === 'string' ||\n                Array.isArray(targetComponent)) &&\n              typeof extension === 'function'\n          )\n          .slice()\n          .reverse() || [] // Array is reversed to ensure extensions are executed in the proper order top -> bottom\n      );\n    }\n\n    /**\n     * Get all extensions to apply to this component\n     * @return {class[]} // Array of classes\n     */\n    get _componentExtensions() {\n      return this._extensions\n        .filter(({ targetComponent }) => {\n          // check to see if extension should be applied to this component\n          if (typeof targetComponent === 'string') {\n            return (\n              targetComponent === this.constructor.__componentName ||\n              this._prototypeChain.has(targetComponent)\n            );\n          } else if (Array.isArray(targetComponent)) {\n            return targetComponent.find(pattern => {\n              if (pattern.startsWith('/') && pattern.endsWith('/')) {\n                const ComponentRegExp = new RegExp(pattern.slice(1, -1));\n                return Array.from(this._prototypeChain).some(name =>\n                  ComponentRegExp.test(name)\n                );\n              } else {\n                return this._prototypeChain.has(pattern);\n              }\n            });\n          }\n          return false;\n        })\n        .reduce((acc, { extension }) => {\n          acc.push(extension);\n          return acc;\n        }, []);\n    }\n\n    /**\n     * Check if theme extension mixins have already been applied\n     * @return {boolean}\n     */\n    get _extensionApplied() {\n      return (\n        this._currentComponentExtensionLength === this._appliedExtensionLength\n      );\n    }\n\n    _construct() {\n      this._appliedExtensionLength = 0; // After the extensions are applied we store the length of all to determine later on if they have been applied before\n      this._extendedList = {};\n      this._extensionInstance = {}; // This will hold the extension instance once created\n      this._setupExtensionBound = this._setupExtension.bind(this);\n      context.on('themeUpdate', this._setupExtensionBound);\n      this._currentComponentExtensionLength =\n        this._calculateComponentExtensionLength();\n      this._createExtension();\n      super._construct();\n    }\n\n    _detach() {\n      super._detach();\n      context.off('themeUpdate', this._setupExtensionBound);\n    }\n\n    _setupExtension() {\n      this._currentComponentExtensionLength =\n        this._calculateComponentExtensionLength();\n      this._createExtension.call(this);\n    }\n\n    _resetComponent() {\n      this._extensionInstance._extensionCleanup &&\n        this._extensionInstance._extensionCleanup.call(this);\n\n      (Object.keys(this._extendedList) || []).forEach(prop => {\n        delete this[prop];\n        delete this[prop + SUFFIX];\n      });\n\n      this._extensionInstance = {};\n      this._extendedList = {};\n    }\n\n    _calculateComponentExtensionLength() {\n      const extensionLength = this._componentExtensions.reduce(\n        (acc, extensionMixin) => {\n          acc += extensionMixin.toString().length;\n          return acc;\n        },\n        0\n      );\n      return extensionLength;\n    }\n\n    _createExtension() {\n      if (this._extensionApplied) return;\n      this._resetComponent();\n      const ExtendedClass = this._createExtensionClass();\n      const instance = new ExtendedClass();\n      this._extendedList = this._createExtensionAliases(instance);\n      this._extensionInstance = instance;\n      this._setComponentAliases(this._extendedList);\n    }\n\n    /**\n     * Create the extension class\n     * @return {class}\n     */\n    _createExtensionClass() {\n      /**\n       *\n       * This class will sit at the bottom of the prototype stack and redirect all calls to the original to prevent an infinite loop\n       *\n       */\n      function ExtensionBase() {}\n\n      /** Create a new class the represents the extensions */\n      const ExtendedClass = this._componentExtensions.reduce(\n        (acc, extension) => {\n          // Get the length of the extension and store the value. This will be used to determine if the mixin has been changed and needs to be re-applied\n          return extension(acc);\n        },\n        ExtensionBase\n      );\n\n      // Store the length of the extension to be applied\n      this._appliedExtensionLength = this._calculateComponentExtensionLength();\n\n      return ExtendedClass;\n    }\n\n    _createExtensionAliases(obj) {\n      // Find the prototype to be replaced\n      let baseProto = obj;\n      for (let i = 0; i < this._componentExtensions.length + 1; i++) {\n        baseProto = Object.getPrototypeOf(baseProto);\n      }\n\n      /**\n       * We will create alias for all the methods, getters, setters that will be overwritten by the extension layer\n       * Create a list of properties to alias\n       */\n\n      const extended = {};\n\n      const extensionOverrides = this._componentExtensions.reduce(\n        (acc, extension) => {\n          const extensionClass = new extension(class FakeClass {});\n          const instance = new extensionClass();\n          // Get the descriptors\n          const originalComponentDescriptors = Object.getOwnPropertyDescriptors(\n            Object.getPrototypeOf(instance)\n          );\n          Object.keys(originalComponentDescriptors).forEach(prop => {\n            if (['constructor'].includes(prop)) return;\n            if (\n              originalComponentDescriptors[prop].get ||\n              originalComponentDescriptors[prop].set\n            ) {\n              extended[prop] = { type: 'accessor' };\n              acc[prop] = {\n                get: function () {\n                  return this[prop + SUFFIX];\n                },\n                set: function (v) {\n                  this[prop + SUFFIX] = v;\n                }\n              };\n              return;\n            }\n            extended[prop] = { type: 'method' };\n            acc[prop] = {\n              value: function () {\n                this[prop + SUFFIX] && this[prop + SUFFIX]();\n              }\n            };\n          });\n          return acc;\n        },\n        {}\n      );\n\n      Object.defineProperties(baseProto, extensionOverrides);\n      Object.setPrototypeOf(baseProto, this); // Set the bottom level prototype === the component\n\n      return extended;\n    }\n\n    _setComponentAliases(aliasObj) {\n      Object.keys(aliasObj).forEach(prop => {\n        // Create an alias for the existing component property to save the original value\n        this[prop + SUFFIX] = this[prop];\n        if (aliasObj[prop].type === 'method') {\n          this[prop] = this._extensionInstance[prop];\n        } else if (aliasObj[prop].type === 'accessor') {\n          Object.defineProperty(this, prop, {\n            configurable: true, // Allow accessors to be updated on theme change\n            get() {\n              return this._extensionInstance[prop];\n            },\n            set(v) {\n              this._extensionInstance[prop] = v;\n            }\n          });\n        }\n      });\n    }\n  };\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport lng from '@lightningjs/core';\nimport context from '../../globals/context/index';\nimport withUpdates from '../../mixins/withUpdates';\nimport withTags from '../../mixins/withTags';\nimport withHandleKey from '../../mixins/withHandleKey';\nimport withLayout from '../../mixins/withLayout';\nimport withThemeStyles from '../../mixins/withThemeStyles';\nimport withExtensions from '../../mixins/withExtensions';\nimport { isComponentOnScreen } from '../../utils';\n\nclass Base extends lng.Component {\n  static get __componentName() {\n    return 'Base';\n  }\n\n  _construct() {\n    this.constructor.__componentName; // Check that __componentName is set\n    this.skipPlinko = false;\n    this.centerInParent = false;\n    if (!this.loaded) this.loaded = Promise.resolve(); // By default this is a resolved promise. Components can use _resetLoadedPromise if they require the functionality\n  }\n\n  _init() {\n    this.queueRequestUpdate();\n  }\n\n  _resetLoadedPromise() {\n    this.loaded = new Promise((resolve, reject) => {\n      this._resolveLoadedPromise = resolve;\n      this._rejectLoadedPromise = reject;\n    });\n  }\n\n  _update() {}\n\n  _focus() {\n    this._updateShouldSmooth();\n    this.queueRequestUpdate();\n  }\n\n  _unfocus() {\n    this.queueRequestUpdate();\n  }\n\n  _updateShouldSmooth() {\n    if (this.shouldSmooth === undefined) this.shouldSmooth = true;\n  }\n\n  /**\n   * This method accepts a target component, patch object, and optional smooth object.\n   * If the component is visible, it will smooth in the smooth object, or fall back to\n   * the patch object, if not it will apply the patch.\n   *\n   * @param {component reference} ref tag ref of target component\n   * @param {object} patch object of properties to patch to target\n   * @param {object} smooth object of properties to smooth to target\n   */\n  applySmooth(ref, patch, smooth) {\n    if (this.shouldSmooth) {\n      ref.smooth = smooth || patch;\n    } else {\n      ref.patch(patch);\n    }\n  }\n\n  // keep announce methods out of the update lifecycle (do not put in properties array)\n  // announce methods do not need to re-render component\n  get announce() {\n    return this._announce;\n  }\n\n  set announce(announce) {\n    this._announce = announce;\n  }\n\n  get announceContext() {\n    return this._announceContext;\n  }\n\n  set announceContext(announce) {\n    this._announceContext = announce;\n  }\n\n  get shouldSmooth() {\n    return this._shouldSmooth;\n  }\n\n  set shouldSmooth(shouldSmooth) {\n    this._shouldSmooth = shouldSmooth;\n  }\n\n  get _isDisabledMode() {\n    return this.mode === 'disabled';\n  }\n\n  get _isUnfocusedMode() {\n    return this.mode === 'unfocused';\n  }\n\n  get _isFocusedMode() {\n    return this.mode === 'focused';\n  }\n\n  isFullyOnScreen(offsets) {\n    return isComponentOnScreen(this, offsets);\n  }\n\n  getFocusScale() {\n    return context.theme.layout.focusScale;\n  }\n\n  getUnfocusScale() {\n    return 1;\n  }\n}\n\nfunction withMixins(baseComponent) {\n  return withExtensions(\n    withLayout(\n      withThemeStyles(withUpdates(withTags(withHandleKey(baseComponent))))\n    )\n  );\n}\n\nexport default withMixins(Base);\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const base = theme => ({\n  itemSpacing: theme.layout.gutterY,\n  scrollIndex: 0,\n  itemTransition: {\n    ...theme.animation.standardEntrance,\n    duration: theme.animation.duration.fast\n  }\n});\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport NavigationManager from '../NavigationManager';\nimport { getY } from '../../utils';\nimport * as styles from './Column.styles';\n\nexport default class Column extends NavigationManager {\n  static get __componentName() {\n    return 'Column';\n  }\n\n  static get __themeStyle() {\n    return styles;\n  }\n\n  static _template() {\n    return {\n      ...super._template(),\n      direction: 'column'\n    };\n  }\n\n  _isOnScreenForScrolling(child) {\n    if (!child) return false;\n\n    const y = getY(child);\n    if (!Number.isFinite(y)) return false;\n    const itemsTransitionY = this.getTransitionYTargetValue();\n    const columnY = this.core.renderContext.py;\n    let itemY = columnY + itemsTransitionY + y;\n    let yModifier;\n\n    // This section here takes the difference between a possible target value\n    // and subtracts it from the current child x. That value then is subtracted from the initial\n    // itemX value calculated on the core renderContext px value to more accurately\n    // calculate the item's location on screen when it's own x value will be updating.\n    if (child.transition('y')) {\n      yModifier = child.y - child.transition('y').targetValue;\n      itemY = itemY - yModifier;\n    }\n    return itemY >= columnY && itemY + child.h <= columnY + this.h;\n  }\n\n  _shouldScroll() {\n    if (this.alwaysScroll) {\n      return true;\n    }\n    let shouldScroll = false;\n    if (!this.neverScroll) {\n      const isCompletelyOnScreen = this._isOnScreenForScrolling(this.selected);\n      const lastChild = this.Items.childList.last;\n      shouldScroll =\n        lastChild &&\n        (this.shouldScrollUp() ||\n          this.shouldScrollDown() ||\n          !isCompletelyOnScreen);\n    }\n\n    if (this.selectedIndex < this.scrollIndex) {\n      shouldScroll = false;\n    }\n\n    return shouldScroll;\n  }\n\n  _getScrollY() {\n    let itemsContainerY;\n    let itemIndex = this.selectedIndex - this.scrollIndex;\n    itemIndex = itemIndex < 0 ? 0 : itemIndex;\n    if (itemIndex === this._firstFocusableIndex()) {\n      itemIndex = 0;\n    }\n\n    if (this.Items.children[itemIndex]) {\n      itemsContainerY = this.Items.children[itemIndex].transition('y')\n        ? -this.Items.children[itemIndex].transition('y').targetValue +\n          this.itemPosY\n        : -this.Items.children[itemIndex].y + this.itemPosY;\n    }\n\n    return itemsContainerY;\n  }\n\n  _render(next, prev) {\n    this._prevLastScrollIndex = this._lastScrollIndex;\n\n    if (\n      this.plinko &&\n      prev &&\n      prev.selected &&\n      !(this.items.indexOf(prev) === 0 && prev.skipPlinko)\n    ) {\n      const prevPlinko = this.checkSkipPlinko(prev, next);\n      next.selectedIndex = this._getIndexOfItemNear(next, prevPlinko || prev);\n    } else if (next && !next.selectedIndex) {\n      next.selectedIndex = 0;\n    }\n\n    let itemsContainerY;\n    if (!this.Items.children.length) {\n      itemsContainerY = this.itemPosY;\n    } else if (this._shouldScroll()) {\n      itemsContainerY = this._getScrollY();\n    }\n\n    if (itemsContainerY !== undefined) {\n      this.updatePositionOnAxis(this.Items, itemsContainerY);\n    }\n\n    this.onScreenEffect(this.onScreenItems);\n  }\n\n  _performRender() {\n    this._render(this.selected, this.prevSelected);\n  }\n\n  checkSkipPlinko(prev, next) {\n    // If previous doesn't have skip plinko or previous is the first or last item\n    if (\n      !prev ||\n      !prev.skipPlinko ||\n      [0, this.items.length - 1].includes(this.items.indexOf(prev))\n    ) {\n      return null;\n    }\n\n    const prevIndex = this.items.indexOf(prev);\n    const direction = prevIndex - this.items.indexOf(next);\n    const up = direction > 0;\n\n    // Grab all items below prev if up or all items before prev if down\n    const prevItems = up\n      ? this.items.slice(prevIndex).map(i => ({\n          skipPlinko: i.skipPlinko,\n          index: this.items.indexOf(i)\n        }))\n      : this.items\n          .slice(0, prevIndex + 1)\n          .map(i => ({\n            skipPlinko: i.skipPlinko,\n            index: this.items.indexOf(i)\n          }))\n          .reverse();\n\n    // first item that has skipPlinko but the previous does not\n    // Start at the index prev\n    const endOfMultiSkipPlinkos = prevItems.find(\n      i => i.skipPlinko && !this.items[i.index + direction].skipPlinko\n    );\n    const prevPlinkoIndex = endOfMultiSkipPlinkos\n      ? endOfMultiSkipPlinkos.index + direction\n      : prevIndex + direction; // +/- 1, item index before prev\n\n    return this.items[prevPlinkoIndex];\n  }\n\n  get _itemsY() {\n    return getY(this.Items);\n  }\n\n  $removeItem(item) {\n    if (item) {\n      const wasSelected = item === this.selected;\n      this.Items.childList.remove(item);\n      this.queueRequestUpdate();\n\n      if (wasSelected || this.selectedIndex >= this.items.length) {\n        // eslint-disable-next-line no-self-assign\n        this.selectedIndex = this._selectedIndex;\n      }\n\n      if (!this.items.length) {\n        this.fireAncestors('$columnEmpty');\n      }\n    }\n  }\n\n  $columnChanged() {\n    this.queueRequestUpdate();\n  }\n\n  _isOnScreen(child) {\n    if (!child) return false;\n\n    return this._isComponentVerticallyVisible(child);\n  }\n\n  // can be overridden\n  onScreenEffect() {}\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * FocusManager Component\n *\n * Container to set focus on elements with key[Up/Down] or key[Left/Right]\n */\nimport Base from '../Base';\nimport {\n  getX,\n  getY,\n  isComponentOnScreen,\n  getShortestDistance\n} from '../../utils';\n\nexport default class FocusManager extends Base {\n  static get __componentName() {\n    return 'FocusManager';\n  }\n\n  static get tags() {\n    return ['Items'];\n  }\n\n  static get properties() {\n    return ['direction', 'wrapSelected'];\n  }\n\n  _construct() {\n    super._construct();\n    this._selectedIndex = 0;\n    this._itemPosX = 0;\n    this._itemPosY = 0;\n    this.direction = this.direction || 'row';\n  }\n\n  _init() {\n    this._checkSkipFocus();\n  }\n\n  get Items() {\n    if (!this.tag('Items')) {\n      this.patch({ Items: {} });\n    }\n    return this._Items;\n  }\n\n  _setDirection(direction) {\n    const state = {\n      none: 'None',\n      column: 'Column',\n      row: 'Row'\n    }[direction];\n\n    if (state) {\n      this._setState(state);\n    }\n    return direction;\n  }\n\n  _getItems() {\n    return this._Items.children;\n  }\n\n  get items() {\n    return this.Items.children;\n  }\n\n  set items(items) {\n    this._resetItems();\n    this._selectedIndex = 0;\n    this.appendItems(items);\n    this._checkSkipFocus();\n  }\n\n  set itemPosX(x) {\n    this.Items.x = this._itemPosX = x;\n  }\n\n  get itemPosX() {\n    return this._itemPosX;\n  }\n\n  set itemPosY(y) {\n    this.Items.y = this._itemPosY = y;\n  }\n\n  get itemPosY() {\n    return this._itemPosY;\n  }\n\n  _resetItems() {\n    this.Items.childList.clear();\n    this.Items.patch({\n      w: 0,\n      h: 0,\n      x: this.itemPosX,\n      y: this.itemPosY\n    });\n\n    // This fixes an issue when trying to call set items if there are already items held in _lazyItems.\n    // Going to follow up on a review of this feature.\n    if (this._lazyItems) {\n      this._lazyItems = null;\n    }\n  }\n\n  _appendLazyItem(item) {\n    this.appendItems([item]);\n  }\n\n  appendItems(items = []) {\n    this.Items.childList.a(items);\n    this._refocus();\n  }\n\n  appendItemsAt(items = [], idx) {\n    const addIndex = Number.isInteger(idx) ? idx : this.Items.children.length;\n    this.shouldSmooth = false;\n    this._lastAppendedIdx = addIndex;\n\n    items.forEach((item, itemIdx) => {\n      this.Items.childList.addAt(\n        {\n          ...item,\n          parentFocus: this.hasFocus()\n        },\n        addIndex + itemIdx\n      );\n    });\n\n    if (this.selectedIndex >= this._lastAppendedIdx) {\n      this._selectedIndex += items.length;\n    }\n\n    this.requestUpdate();\n    this._refocus();\n  }\n\n  prependItems(items) {\n    this.appendItemsAt(items, 0);\n  }\n\n  removeItemAt(index) {\n    this.shouldSmooth = false;\n    this.Items.childList.removeAt(index);\n\n    if (\n      this.selectedIndex > index ||\n      this.selectedIndex === this.Items.children.length\n    ) {\n      this._selectedIndex--;\n    }\n\n    this.requestUpdate();\n    this._refocus();\n  }\n\n  _checkSkipFocus() {\n    // If the first item has skip focus when appended get the next focusable item\n    const initialSelection = this.Items.children[this.selectedIndex];\n    if (initialSelection && initialSelection.skipFocus) {\n      this.selectNext(false);\n    }\n  }\n\n  get selected() {\n    return this.Items.children[this.selectedIndex];\n  }\n\n  get selectedIndex() {\n    return this._selectedIndex;\n  }\n\n  set selectedIndex(index) {\n    this.prevSelected = this.selected;\n    if (\n      !this.Items.children.length ||\n      !this.Items.children[index] ||\n      !this.Items.children[index].skipFocus\n    ) {\n      if (index !== this._selectedIndex) {\n        this._selectedIndex = index;\n      }\n      if (this.selected) {\n        this._selectedChange(this.selected, this.prevSelected);\n      }\n      // Don't call refocus until after a new render in case of a situation like Plinko nav\n      // where we don't want to focus the previously selected item and need to get the new one first\n      this._refocus();\n    }\n  }\n\n  _selectedChange(selected, prevSelected) {\n    this._render(selected, prevSelected);\n    this.signal('selectedChange', selected, prevSelected);\n  }\n\n  // Override\n  _render() {}\n\n  _firstFocusableIndex() {\n    if (!this.items.length) return 0;\n    const firstItem = this.items\n      .reduce((acc, item, idx) => {\n        if (!item.skipFocus) {\n          acc.push({ ...item, originalIdx: idx });\n        }\n        return acc;\n      }, [])\n      .shift();\n\n    return firstItem.originalIdx;\n  }\n\n  _lastFocusableIndex() {\n    if (!this.items.length) return 0;\n    const lastItem = this.items\n      .reduce((acc, item, idx) => {\n        if (!item.skipFocus) {\n          acc.push({ ...item, originalIdx: idx });\n        }\n        return acc;\n      }, [])\n      .pop();\n\n    return lastItem.originalIdx;\n  }\n\n  selectPrevious() {\n    this.shouldSmooth = true;\n    const hasFocusable = !!(this.items || []).filter(i => !i.skipFocus).length;\n    if ((this.selectedIndex === 0 && !this.wrapSelected) || !hasFocusable) {\n      return false;\n    }\n\n    const previousItemIndex = this.items\n      .map(item => !!item.skipFocus)\n      .lastIndexOf(false, this._selectedIndex - 1);\n\n    if (previousItemIndex > -1) {\n      this.selectedIndex = previousItemIndex;\n      return true;\n    } else if (this.wrapSelected) {\n      this.selectedIndex = this._lastFocusableIndex();\n      return true;\n    }\n    return false;\n  }\n\n  selectNext(shouldSmoothOverride) {\n    if (this._lazyItems && this._lazyItems.length) {\n      this._appendLazyItem(this._lazyItems.splice(0, 1)[0]);\n    }\n    this.shouldSmooth = shouldSmoothOverride ?? true;\n\n    const hasFocusable = !!(this.items || []).filter(i => !i.skipFocus).length;\n    if (\n      (this.selectedIndex === this.Items.children.length - 1 &&\n        !this.wrapSelected) ||\n      !hasFocusable\n    ) {\n      return false;\n    }\n\n    const nextIndex = this.items.findIndex(\n      (item, idx) => !item.skipFocus && idx > this._selectedIndex\n    );\n\n    if (nextIndex > -1) {\n      this.selectedIndex = nextIndex;\n      return true;\n    } else if (this.wrapSelected) {\n      this.selectedIndex = this._firstFocusableIndex();\n      return true;\n    }\n    return false;\n  }\n\n  _getIndexOfItemNear(selected, prev) {\n    const prevItem = prev.selected;\n\n    if (!selected || !selected.items || !selected.items.length || !prevItem) {\n      return 0;\n    }\n\n    const [itemX, itemY] = prevItem.core.getAbsoluteCoords(0, 0);\n    const prevMiddle = [itemX + prevItem.w / 2, itemY + prevItem.h / 2];\n\n    // Get all item center points from selected\n    const selectedCoordArray = selected.items\n      .map((item, index) => {\n        return {\n          index,\n          distance: !item.skipFocus\n            ? getShortestDistance(prevMiddle, item)\n            : null\n        };\n      })\n      .filter(item => {\n        // Remove all indexes that don't have a distance (skipFocus)\n        return null !== item.distance;\n      })\n      .sort(function (a, b) {\n        return a.distance - b.distance;\n      });\n    return selectedCoordArray[0].index;\n  }\n\n  /**\n   * TODO: Update Base to remove the focus/unfocus calls and add a second \"BaseComponent\" that does have them\n   *\n   * Layout Components (Column, Row, BoardRows, etc.) would extend only Base,\n   *    need to confirm this applies to InlineContnet and ScrollWrapper??\n   * Element/Pattern Components (Tile, Badge, etc.) would extend \"BaseComponent\" that does have focus/unfocus overrides\n   */\n  _focus() {\n    super._focus();\n    this.items.forEach(item => (item.parentFocus = true));\n  }\n  _unfocus() {\n    super._unfocus();\n    this.items.forEach(item => (item.parentFocus = false));\n  }\n\n  _updateShouldSmooth() {}\n\n  _getFocused() {\n    const { selected } = this;\n    // Make sure we're focused on a component\n    if (selected) {\n      if (selected.focusRef) {\n        return selected.tag(selected.focusRef);\n      } else if (selected.cparent) {\n        return selected;\n      }\n    }\n    return this;\n  }\n\n  _updateTransitionTarget(element, property, newValue) {\n    if (\n      element &&\n      element.transition(property) &&\n      !element.transition(property).isRunning() &&\n      element.transition(property).targetValue !== newValue\n    ) {\n      element.transition(property).updateTargetValue(newValue);\n    }\n  }\n\n  /**\n   * Return list of items that are currently fully and partially on screen\n   * @returns {Array} Array of matching lng.Component objects or empty array\n   */\n  get onScreenItems() {\n    return this.Items.children.filter(child => this._isOnScreen(child));\n  }\n\n  _isOnScreenCompletely(child) {\n    // 'isFullyOnScreen' method has been added to the Base class.\n    // in case child does _not_ extend Base, 'isComponentOnScreen'\n    // from the 'util' module will be invoked. The same method is\n    // invoked by Base class\n    return child.isFullyOnScreen\n      ? child.isFullyOnScreen()\n      : isComponentOnScreen(child);\n  }\n\n  get fullyOnScreenItems() {\n    return this.Items.children.reduce((rv, item) => {\n      if (item instanceof FocusManager) {\n        return [\n          ...rv,\n          ...item.Items.children.filter(this._isOnScreenCompletely)\n        ];\n      } else if (this._isOnScreenCompletely(item)) {\n        return [...rv, item];\n      } else {\n        return rv;\n      }\n    }, []);\n  }\n\n  _isOnScreen() {\n    throw new Error(\"'_isOnScreen' must be implemented by 'row'/'column'\");\n  }\n\n  _isComponentHorizontallyVisible(child) {\n    // get child's destination X; If child is moving to a destination,\n    // get the value of where child will end up\n    const x = getX(child);\n    if (!Number.isFinite(x)) return false;\n\n    // to calculate the target absolute X position of the item, we need to use\n    // 1) the entire component's absolute position,\n    // 2) the target animation value of the items container, and\n    // 3) the target value of the item itself\n    const transitionX = this.getTransitionXTargetValue();\n    // get absolute position of FocusManager on screen\n    const px = this.core.renderContext.px;\n    const itemX = px + transitionX + x;\n\n    // _scissor consists of [ left position (x), top position (y), width, height ]\n    const [leftBounds = null, , clipWidth = null] = this.core._scissor || [];\n    const stageW = this.stage.w / this.stage.getRenderPrecision();\n    const { w } = child;\n\n    const withinLeftStageBounds = itemX >= 0;\n    const withinRightStageBounds = itemX + w <= stageW;\n    // short circuit\n    if (!withinLeftStageBounds || !withinRightStageBounds) return false;\n\n    let withinLeftClippingBounds = true;\n    let withinRightClippingBounds = true;\n    if (Number.isFinite(leftBounds)) {\n      withinLeftClippingBounds =\n        Math.round(itemX + w) >= Math.round(leftBounds);\n      withinRightClippingBounds =\n        Math.round(itemX) <= Math.round(leftBounds + clipWidth);\n    }\n\n    return withinLeftClippingBounds && withinRightClippingBounds;\n  }\n\n  _isComponentVerticallyVisible(child) {\n    // get child's destination Y; If child is moving to a destination,\n    // get the value of where child will end up\n    const y = getY(child);\n    if (!Number.isFinite(y)) return false;\n\n    // to calculate the target absolute Y position of the item, we need to use\n    // 1) the entire component's absolute position,\n    // 2) the target animation value of the items container, and\n    // 3) the target value of the item itself\n    const transitionY = this.getTransitionYTargetValue();\n\n    // get absolute position of FocusManager on screen\n    const py = this.core.renderContext.py;\n\n    // _scissor consists of [ left position (x), top position (y), width, height ]\n    const [, topBounds = null, , clipHeight = null] = this.core._scissor || [];\n    const { h } = child;\n\n    const itemY = py + transitionY + y;\n    const stageH = this.stage.h / this.stage.getRenderPrecision();\n    const withinTopStageBounds = itemY + h >= 0;\n    const withingBottomStageBounds = itemY <= stageH;\n\n    // short circuit\n    if (!withinTopStageBounds || !withingBottomStageBounds) return false;\n\n    let withinTopClippingBounds = true;\n    let withinBottomClippingBounds = true;\n    if (Number.isFinite(topBounds)) {\n      withinTopClippingBounds = Math.round(itemY + h) > Math.round(topBounds);\n      withinBottomClippingBounds =\n        Math.round(itemY) < Math.round(topBounds + clipHeight);\n    }\n\n    return withinTopClippingBounds && withinBottomClippingBounds;\n  }\n\n  getTransitionXTargetValue() {\n    return this.Items.transition('x').targetValue;\n  }\n\n  getTransitionYTargetValue() {\n    return this.Items.transition('y').targetValue;\n  }\n\n  static _states() {\n    return [\n      class None extends this {},\n      class Row extends this {\n        _handleLeft() {\n          return typeof this.onLeft === 'function'\n            ? this.onLeft(this)\n            : this.selectPrevious();\n        }\n\n        _handleRight() {\n          return typeof this.onRight === 'function'\n            ? this.onRight(this)\n            : this.selectNext();\n        }\n      },\n\n      class Column extends this {\n        _handleUp() {\n          return typeof this.onUp === 'function'\n            ? this.onUp(this)\n            : this.selectPrevious();\n        }\n\n        _handleDown() {\n          return typeof this.onDown === 'function'\n            ? this.onDown(this)\n            : this.selectNext();\n        }\n      }\n    ];\n  }\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const base = theme => ({\n  propertyTextStyle: {\n    ...theme.typography.headline1,\n    textColor: theme.color.textNeutral\n  },\n  valueTextStyle: {\n    ...theme.typography.body1,\n    textColor: theme.color.textNeutral\n  }\n});\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Base from '../Base';\nimport context from '../../globals/context/index';\nimport Column from '../Column';\nimport Row from '../Row';\nimport TextBox from '../TextBox';\nimport { getWidthByColumnSpan } from '../../utils';\nimport * as styles from './GridOverlay.styles';\n\nclass Spacer extends Base {\n  static get __componentName() {\n    return 'Spacer';\n  }\n\n  static _template() {\n    return {\n      Line: {\n        h: Spacer._lineThickness,\n        rect: true,\n        mountY: 0.5,\n        TickLeft: {\n          ...Spacer._tick,\n          x: Spacer._lineThickness * -1\n        },\n        TickRight: Spacer._tick\n      }\n    };\n  }\n\n  static get properties() {\n    return ['lineColor'];\n  }\n\n  static get tags() {\n    return ['Line', 'TickLeft', 'TickRight'];\n  }\n\n  static get _lineThickness() {\n    return 3;\n  }\n\n  static get _tickLength() {\n    return 25;\n  }\n\n  static get _tick() {\n    return {\n      rect: true,\n      mountY: 0.5,\n      w: Spacer._lineThickness,\n      h: Spacer._tickLength,\n      y: Spacer._lineThickness / 2\n    };\n  }\n\n  _update() {\n    this._Line.w = this.w;\n    this._TickRight.x = this._Line.w;\n\n    if (this.lineColor) {\n      this._Line.color =\n        this._TickLeft.color =\n        this._TickRight.color =\n          this.lineColor;\n    }\n\n    this.rotation = this.vertical ? Math.PI / 2 : 0;\n    this.signal('spacerLoaded');\n  }\n}\n\nexport default class GridOverlay extends Base {\n  static get __componentName() {\n    return 'GridOverlay';\n  }\n\n  static get __themeStyle() {\n    return styles;\n  }\n\n  static _template() {\n    const textRow = {\n      type: Row,\n      autoResizeHeight: true,\n      Items: {\n        Property: {\n          type: TextBox,\n          signals: {\n            textBoxChanged: '_update'\n          }\n        },\n        Value: {\n          type: TextBox,\n          signals: {\n            textBoxChanged: '_update'\n          },\n          centerInParent: true\n        }\n      }\n    };\n\n    return {\n      Columns: {\n        alpha: 0.001,\n        type: Row\n      },\n      Margins: {\n        alpha: 0.001,\n        Horizontal: {\n          Left: {\n            type: Spacer,\n            signals: {\n              spacerLoaded: '_update'\n            }\n          },\n          Right: {\n            type: Spacer,\n            signals: {\n              spacerLoaded: '_update'\n            }\n          }\n        },\n        Vertical: {\n          Top: { type: Spacer, vertical: true }\n        }\n      },\n      Safe: {\n        alpha: 0.001,\n        Horizontal: {\n          Left: {\n            type: Spacer,\n            signals: {\n              spacerLoaded: '_update'\n            }\n          },\n          Right: {\n            type: Spacer,\n            signals: {\n              spacerLoaded: '_update'\n            }\n          }\n        },\n        Vertical: {\n          Top: { type: Spacer, vertical: true },\n          Bottom: { type: Spacer, vertical: true }\n        }\n      },\n      Gutters: {\n        alpha: 0.001,\n        Horizontal: {\n          type: Spacer,\n          signals: {\n            spacerLoaded: '_update'\n          }\n        }\n      },\n      TextPanel: {\n        alpha: 0.001,\n        type: Column,\n        autoResizeHeight: true,\n        Items: {\n          ScreenW: textRow,\n          ScreenH: textRow,\n          ColumnCount: textRow,\n          MarginX: textRow,\n          MarginY: textRow,\n          GutterX: textRow,\n          GutterY: textRow,\n          Safe: textRow\n        }\n      }\n    };\n  }\n\n  static get properties() {\n    return [\n      'showColumns',\n      'showMargins',\n      'showSafe',\n      'showGutters',\n      'showText'\n    ];\n  }\n\n  static get tags() {\n    return [\n      'Columns',\n      'Margins',\n      { name: 'MarginHorizontal', path: 'Margins.Horizontal' },\n      { name: 'MarginLeft', path: 'Margins.Horizontal.Left' },\n      { name: 'MarginRight', path: 'Margins.Horizontal.Right' },\n      { name: 'MarginVertical', path: 'Margins.Vertical' },\n      { name: 'MarginTop', path: 'Margins.Vertical.Top' },\n      'Safe',\n      { name: 'SafeHorizontal', path: 'Safe.Horizontal' },\n      { name: 'SafeLeft', path: 'Safe.Horizontal.Left' },\n      { name: 'SafeRight', path: 'Safe.Horizontal.Right' },\n      { name: 'SafeVertical', path: 'Safe.Vertical' },\n      { name: 'SafeTop', path: 'Safe.Vertical.Top' },\n      { name: 'SafeBottom', path: 'Safe.Vertical.Bottom' },\n      'Gutters',\n      { name: 'GutterHorizontal', path: 'Gutters.Horizontal' },\n      'TextPanel',\n      { name: 'TextScreenW', path: 'TextPanel.Items.ScreenW' },\n      { name: 'TextScreenH', path: 'TextPanel.Items.ScreenH' },\n      { name: 'TextColumnCount', path: 'TextPanel.Items.ColumnCount' },\n      { name: 'TextMarginX', path: 'TextPanel.Items.MarginX' },\n      { name: 'TextMarginY', path: 'TextPanel.Items.MarginY' },\n      { name: 'TextGutterX', path: 'TextPanel.Items.GutterX' },\n      { name: 'TextGutterY', path: 'TextPanel.Items.GutterY' },\n      { name: 'TextSafe', path: 'TextPanel.Items.Safe' }\n    ];\n  }\n\n  _construct() {\n    super._construct();\n    this._showColumns =\n      this._showMargins =\n      this._showSafe =\n      this._showGutters =\n      this._showText =\n        true;\n  }\n\n  _update() {\n    this._updateGlobalThemeProps();\n    this._updateMargins();\n    this._updateSafe();\n    this._updateColumns();\n    this._updateGutters();\n    this._updateText();\n    this._updateVisibility();\n  }\n\n  _updateVisibility() {\n    this._Columns.smooth = { alpha: Number(this.showColumns) };\n    this._Margins.smooth = { alpha: Number(this.showMargins) };\n    this._Safe.smooth = { alpha: Number(this.showSafe) };\n    this._Gutters.smooth = { alpha: Number(this.showGutters) };\n    this._TextPanel.smooth = { alpha: Number(this.showText) };\n  }\n\n  _updateGlobalThemeProps() {\n    const { layout, color } = context.theme;\n    const {\n      screenW,\n      screenH,\n      columnCount,\n      marginX,\n      marginY,\n      gutterX,\n      gutterY,\n      safe\n    } = layout;\n\n    this._screenW = screenW;\n    this._screenH = screenH;\n    this._columnCount = columnCount;\n    this._marginX = marginX;\n    this._marginY = marginY;\n    this._safe = safe;\n    this._gutterX = gutterX;\n    this._gutterY = gutterY;\n\n    this._columnColor = color.interactiveNeutralFocusSoft;\n    this._marginColor = color.green;\n    this._safeColor = color.red;\n    this._gutterColor = color.blue;\n  }\n\n  _updateMargins() {\n    const marginPatch = { lineColor: this._marginColor };\n\n    // Horizontal\n    const marginHorizontalPatch = { ...marginPatch, w: this._marginX };\n    this._MarginHorizontal.y = this._screenH / 2;\n    this._MarginLeft.patch(marginHorizontalPatch);\n    this._MarginRight.patch(marginHorizontalPatch);\n    this._MarginRight.x = this._screenW - this._marginX;\n\n    // Vertical\n    const marginVerticalPatch = { ...marginPatch, w: this._marginY };\n    this._MarginVertical.x = this._marginX - marginVerticalPatch.w / 2;\n    this._MarginTop.patch(marginVerticalPatch);\n    this._MarginTop.patch(marginVerticalPatch);\n    this._MarginTop.y = marginVerticalPatch.w / 2;\n  }\n\n  _updateSafe() {\n    const safePatch = { lineColor: this._safeColor, w: this._safe };\n\n    // Horizontal\n    this._SafeHorizontal.y = this._screenH / 4;\n    this._SafeLeft.patch(safePatch);\n    this._SafeRight.patch(safePatch);\n    this._SafeRight.x = this._screenW - this._safe;\n\n    // Vertical\n    this._SafeVertical.x = (this._screenW - safePatch.w) / 2;\n    this._SafeVertical.y = safePatch.w / 2;\n    this._SafeTop.patch(safePatch);\n    this._SafeBottom.patch(safePatch);\n    this._SafeBottom.y = this._screenH - this._safe;\n  }\n\n  _updateColumns() {\n    this._Columns.patch({\n      w: this._screenW,\n      h: this._screenH,\n      x: this._marginX,\n      style: {\n        itemSpacing: this._gutterX\n      },\n      items: this._columnRects\n    });\n  }\n\n  get _columnRects() {\n    return Array.apply(null, { length: this._columnCount }).map(() => ({\n      rect: true,\n      w: getWidthByColumnSpan(this.theme, 1),\n      h: this._screenH,\n      color: this._columnColor\n    }));\n  }\n\n  _updateGutters() {\n    const gutterPatch = { lineColor: this._gutterColor, w: this._gutterY };\n\n    // Horizontal\n    this._GutterHorizontal.patch({\n      ...gutterPatch,\n      x: (this._screenW - gutterPatch.w) / 2,\n      y: this._screenH / 4\n    });\n  }\n\n  _updatePropertyTextStyle(textPanelName, color) {\n    // clone the object so as not to mutate it\n    const style = { textStyle: { ...this.style.propertyTextStyle } };\n    if (color) {\n      style.textStyle.textColor = color;\n    }\n    textPanelName.Items.tag('Property').style = style;\n  }\n\n  _updateValueTextStyle(textPanelName) {\n    textPanelName.Items.tag('Value').style = {\n      textStyle: this.style.valueTextStyle\n    };\n  }\n\n  _updateText() {\n    const prop = 'Property';\n    const val = 'Value';\n\n    this._TextPanel.x =\n      this._screenW - this._marginX - getWidthByColumnSpan(this.theme, 3);\n    this._TextPanel.y = this._safe;\n\n    this._TextScreenW.Items.tag(prop).content = 'Screen Width';\n    this._TextScreenW.Items.tag(val).content = `${this._screenW}px`;\n    this._updatePropertyTextStyle(this._TextScreenW);\n    this._updateValueTextStyle(this._TextScreenW);\n\n    this._TextScreenH.Items.tag(prop).content = 'Screen Height';\n    this._TextScreenH.Items.tag(val).content = `${this._screenH}px`;\n    this._updatePropertyTextStyle(this._TextScreenH);\n    this._updateValueTextStyle(this._TextScreenH);\n\n    this._TextColumnCount.Items.tag(prop).content = 'Columns';\n    this._TextColumnCount.Items.tag(val).content = `${\n      this._columnCount\n    }, ${Math.round(getWidthByColumnSpan(this.theme, 1))}px each`;\n    this._updatePropertyTextStyle(this._TextColumnCount);\n    this._updateValueTextStyle(this._TextColumnCount);\n\n    this._TextMarginX.Items.tag(prop).content = 'Margin-X';\n    this._TextMarginX.Items.tag(val).content = `${this._marginX}px`;\n    this._updatePropertyTextStyle(this._TextMarginX, this._marginColor);\n    this._updateValueTextStyle(this._TextMarginX);\n\n    this._TextMarginY.Items.tag(prop).content = 'Margin-Y';\n    this._TextMarginY.Items.tag(val).content = `${this._marginY}px`;\n    this._updatePropertyTextStyle(this._TextMarginY, this._marginColor);\n    this._updateValueTextStyle(this._TextMarginY);\n\n    this._TextGutterX.Items.tag(prop).content = 'Gutter-X';\n    this._TextGutterX.Items.tag(val).content = `${this._gutterX}px`;\n    this._updatePropertyTextStyle(this._TextGutterX, this._gutterColor);\n    this._updateValueTextStyle(this._TextGutterX);\n\n    this._TextGutterY.Items.tag(prop).content = 'Gutter-Y';\n    this._TextGutterY.Items.tag(val).content = `${this._gutterY}px`;\n    this._updatePropertyTextStyle(this._TextGutterY, this._gutterColor);\n    this._updateValueTextStyle(this._TextGutterY);\n\n    this._TextSafe.Items.tag(prop).content = 'Safe';\n    this._TextSafe.Items.tag(val).content = `${this._safe}px`;\n    this._updatePropertyTextStyle(this._TextSafe, this._safeColor);\n    this._updateValueTextStyle(this._TextSafe);\n  }\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const tone = theme => ({\n  neutral: { color: theme.color.fillNeutral },\n  inverse: { color: theme.color.fillInverse },\n  brand: { color: theme.color.fillBrand }\n});\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport lng from '@lightningjs/core';\nimport Base from '../Base';\nimport * as styles from './Icon.styles';\nimport context from '../../globals/context/index';\nimport { getValidColor } from '../../utils';\nimport CustomImageTexture from '../../textures/CustomImageTexture';\n\n/**\n * Icon component that displays different types of icons, supporting SVGs and images.\n * @extends Base\n */\nexport default class Icon extends Base {\n  /**\n   * Returns the name of the component for theming support.\n   * @returns {string} The name of the component.\n   */\n  static get __componentName() {\n    return 'Icon';\n  }\n\n  /**\n   * Returns the theme styles for the Icon component.\n   * @returns {object} The theme styles object.\n   */\n  static get __themeStyle() {\n    return styles;\n  }\n\n  /**\n   * Returns the list of properties that can be set on the Icon component. Used by withUpdates\n   * @returns {Array} An array of property names.\n   */\n  static get properties() {\n    return ['icon', 'fixed', 'color'];\n  }\n\n  _init() {\n    /**\n     * Event listener for the 'txLoaded' event to handle icon texture loading.\n     *\n     * @listens 'txLoaded'\n     */\n    this.on('txLoaded', () => {\n      if (!this.fixed) {\n        this._notify.bind(this)(); // Notify parent component of the item change if not fixed.\n      }\n    });\n\n    /**\n     * Event listener for the 'txError' event to handle icon texture loading errors.\n     *\n     * @listens 'txError'\n     * @param {Error} error - The error object containing information about the loading error.\n     */\n    this.on('txError', this._handleTxtError.bind(this));\n  }\n\n  /**\n   * Returns the color to be used for the icon.\n   *\n   * @private\n   * @returns {string} The color value.\n   */\n  _getColor() {\n    return this._color || this.style.color;\n  }\n\n  /**\n   * Notifies the parent and ancestors of item changes in the Icon component.\n   *\n   * @private\n   */\n  _notify() {\n    this.w = this.finalW;\n    this.h = this.finalH;\n    this.signal('itemChanged', this); // Emit 'itemChanged' signal to notify parent.\n    this.fireAncestors('$itemChanged'); // Emit '$itemChanged' signal to notify ancestors.\n  }\n\n  /**\n   * Handles the error when loading the icon texture.\n   *\n   * @private\n   * @param {Error} error - The error object containing information about the loading error.\n   */\n  _handleTxtError() {\n    context.error(`Unable to load icon ${this._icon}`);\n    this._icon = null;\n    this.texture = null;\n  }\n\n  /**\n   * Updates the Icon component based on the provided icon.\n   *\n   * @private\n   */\n  _update() {\n    if (!this._icon) {\n      this.texture = null; // If there's no icon, clear the texture.\n      return;\n    }\n    this.patch(this._iconPatch); // Apply the icon patch.\n  }\n\n  /**\n   * Generates the patch based on the icon type (SVG, image, etc.) and other properties.\n   *\n   * @private\n   * @returns {object} The patch object to update the Icon component.\n   */\n  get _iconPatch() {\n    const [isSvgTag, isSvgURI] = [/^<svg.*<\\/svg>$/, /\\.svg$/].map(regex =>\n      RegExp.prototype.test.bind(regex)\n    );\n    let texture;\n    const svgTag = isSvgTag(this.icon);\n    const svgURI = isSvgURI(this.icon);\n\n    if (svgTag) {\n      texture = lng.Tools.getSvgTexture(\n        `data:image/svg+xml,${encodeURIComponent(this.icon)}`,\n        this.w,\n        this.h\n      );\n    } else if (svgURI) {\n      texture = lng.Tools.getSvgTexture(this.icon, this.w, this.h);\n    } else {\n      texture = {\n        type: CustomImageTexture,\n        w: this.w,\n        h: this.h,\n        src: this.icon\n      };\n    }\n\n    const color = getValidColor(this._color || this.style.color);\n    const shader =\n      this.radius || this.style.radius\n        ? {\n            radius: this.radius || this.style.radius,\n            type: lng.shaders.RoundedRectangle\n          }\n        : undefined;\n\n    return {\n      texture,\n      shader,\n      ...(color\n        ? { colorUl: color, colorUr: color, colorBl: color, colorBr: color }\n        : {})\n    };\n  }\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const base = theme => ({\n  textY: 0,\n  iconWidth: theme.spacer.xxl + theme.spacer.xs,\n  iconHeight: theme.spacer.xxl + theme.spacer.xs,\n  contentSpacing: theme.spacer.md,\n  marginBottom: 0,\n  strikethroughRatio: 0.08,\n  strikethroughColor: theme.color.textNeutral,\n  textStyle: {\n    ...theme.typography.body1\n  },\n  maxLines: 1,\n  justify: 'flex-start'\n});\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\nimport lng from '@lightningjs/core';\nimport Icon from '../Icon';\nimport Badge from '../Badge';\nimport { parseInlineContent, flatten, measureTextWidth } from '../../utils';\nimport Base from '../Base';\nimport * as styles from './InlineContent.styles';\n\nconst isText = item => typeof item === 'string' || !!item.text;\nconst isIcon = item => !!item.icon;\nconst isBadge = item => !!item.badge;\n\nexport default class InlineContent extends Base {\n  static get properties() {\n    return [\n      'content',\n      'contentProperties',\n      'badgeY',\n      'badgeProperties',\n      'justify',\n      'contentWrap',\n      'customStyleMappings',\n      'maxLines',\n      'maxLinesSuffix'\n    ];\n  }\n\n  static get __componentName() {\n    return 'InlineContent';\n  }\n\n  static get __themeStyle() {\n    return styles;\n  }\n\n  static get aliasStyles() {\n    return [\n      { prev: 'iconH', curr: 'iconHeight' },\n      { prev: 'iconW', curr: 'iconWidth' }\n    ];\n  }\n\n  _construct() {\n    super._construct();\n    // use the same default value as Lightning's Text Texture default\n    this._maxLinesSuffix = '..';\n  }\n\n  _update() {\n    this._updateContent();\n    this._waitForComponentLoad();\n  }\n\n  _updateContent() {\n    this.childList.clear();\n\n    // if wrapping with max lines, hide content until it has rerendered with maxLines and truncation calculated\n    if (this._shouldTruncate) {\n      this.alpha = 0.001;\n    }\n    if (this._parsedContent && this._parsedContent.length) {\n      this.patch({\n        flex: {\n          direction: 'row',\n          wrap: !!this.contentWrap,\n          justifyContent:\n            this.justify != undefined ? this.justify : this.style.justify\n        }\n      });\n\n      this._parsedContent.forEach((item, index) => {\n        const isLast = index === this._parsedContent.length - 1;\n        const base = {\n          flexItem: {\n            ...this.contentProperties,\n            marginBottom: isLast ? 0 : this._marginBottom,\n            marginRight: isLast\n              ? 0\n              : this.contentProperties.marginRight || this.style.contentSpacing\n          }\n        };\n\n        // text not separated by icons/badges are grouped together\n        if (isText(item)) {\n          const nextItem = this._parsedContent[index + 1];\n          if (\n            (nextItem && isText(nextItem)) ||\n            (this.contentWrap &&\n              nextItem &&\n              nextItem.newline &&\n              this._parsedContent[index + 2] &&\n              isText(this._parsedContent[index + 2]))\n          ) {\n            base.flexItem.marginRight = 0;\n          }\n          this.childList.a(this._createText(base, item));\n        } else if (isIcon(item)) {\n          this.childList.a(this._createIcon(base, item));\n        } else if (isBadge(item)) {\n          this.childList.a(this._createBadge(base, item.badge));\n        } else if (item.newline && this.contentWrap) {\n          this.childList.a({ h: 0, w: this.w });\n        }\n      });\n    }\n  }\n\n  _waitForComponentLoad() {\n    if (this.children.length) {\n      Promise.all(\n        this.children.map(\n          child =>\n            new Promise(resolve => {\n              // resolve immediately for new line elements since they do not render a texture\n              if (child.h === 0 && child.w === this.w) {\n                resolve();\n              } else {\n                child.on('txLoaded', resolve);\n              }\n            })\n        )\n      ).finally(() => this._contentLoaded());\n    } else {\n      this.h = 0;\n      this._contentLoaded();\n    }\n  }\n\n  _notifyAncestors() {\n    this.fireAncestors('$loadedInlineContent', this);\n    this.signal('loadedInlineContent', this.finalW, this.multiLineHeight);\n  }\n\n  _contentLoaded() {\n    // TODO: FIX --figure out an alternative to using setTimeout\n    // perhaps have to wait until Lightning Flexboxes can emit a signal (like textures) when they've finished loading\n    if (this.children.length) {\n      setTimeout(() => {\n        this.multiLineHeight = this.finalH;\n        if (\n          this.flex &&\n          this.flex._layout &&\n          this.flex._layout._lineLayouter &&\n          this.flex._layout._lineLayouter._lines\n        ) {\n          let totalHeight = 0;\n          this.flex._layout._lineLayouter._lines.forEach(line => {\n            totalHeight += Object.entries(line.items).sort((a, b) => {\n              return b[1].h - a[1].h;\n            })[0][1].h;\n          });\n          this.multiLineHeight = totalHeight;\n\n          if (this._shouldTruncate) {\n            this._renderMaxLines();\n          }\n\n          this._notifyAncestors();\n        } else {\n          this._contentLoaded();\n        }\n      }, 10);\n    } else {\n      this._notifyAncestors();\n    }\n  }\n\n  _renderMaxLines() {\n    const childrenDimensions = this._calcChildrenDimensions();\n\n    this.childList.clear();\n    let renderedLastElement = false;\n    childrenDimensions.forEach((child, index) => {\n      if (renderedLastElement) {\n        return;\n      }\n\n      const nextChild = childrenDimensions[index + 1];\n\n      if (!nextChild) {\n        this.childList.add(child.component);\n        return;\n      }\n\n      const isOnLastLine = child.line === this.maxLines;\n\n      const isLastBeforeMaxLines =\n        isOnLastLine && nextChild.line > this.maxLines;\n\n      const canRenderLastWithSuffix =\n        isLastBeforeMaxLines && child.hasSpaceForSuffix;\n\n      const isLastWithSpaceForSuffix =\n        isOnLastLine && child.hasSpaceForSuffix && !nextChild.hasSpaceForSuffix;\n\n      /**\n       * This is the last element to render, with a suffix, if the element is:\n       * - the last element to render (and has not reached the maxLines yet)\n       * - the last element that fits within maxLines, including with the width of the maxLinesSuffix appended to it\n       */\n      const isLast =\n        !nextChild || canRenderLastWithSuffix || isLastWithSpaceForSuffix;\n\n      if (child.line <= this.maxLines) {\n        if (isLast && index !== childrenDimensions.length - 1) {\n          this.childList.add(this._addSuffix(child));\n          renderedLastElement = true;\n        } else {\n          this.childList.add(child.component);\n        }\n      }\n    });\n    this.alpha = 1;\n  }\n\n  _calcChildrenDimensions() {\n    const suffixW = measureTextWidth({\n      ...this.style.textStyle,\n      text: this.maxLinesSuffix\n    });\n    let contentEndX = 0;\n    let line = 1;\n\n    return this.children.reduce((acc, child) => {\n      const component = child;\n      let type, content, w;\n      const isNewLineElement = child.w == this.w && child.h === 0;\n\n      if (isNewLineElement) {\n        line++;\n        contentEndX = 0;\n        const data = {\n          type: 'linebreak',\n          component,\n          content,\n          line,\n          hasSpaceForSuffix: true\n        };\n\n        acc.push(data);\n        return acc;\n      }\n\n      if (isText(child)) {\n        type = 'text';\n        content = child.text.text;\n        w = child.texture.getRenderWidth();\n      } else if (isIcon(child)) {\n        type = 'icon';\n        w = child.w;\n      } else if (child.constructor.__componentName === 'Badge') {\n        type = 'badge';\n        w = child.w;\n      }\n\n      contentEndX += w;\n      contentEndX += child.flexItem.marginRight;\n\n      if (Math.ceil(contentEndX) >= this.w) {\n        line++;\n        contentEndX = w;\n      }\n\n      const hasSpaceForSuffix = Math.ceil(contentEndX) + suffixW <= this.w;\n\n      const data = {\n        type,\n        component,\n        content,\n        line,\n        hasSpaceForSuffix\n      };\n\n      acc.push(data);\n      return acc;\n    }, []);\n  }\n\n  _addSuffix({ type, component, content }) {\n    const negatedRightMargin = component.flexItem.marginRight * -1;\n    let suffix;\n    if (type === 'text') {\n      // We need to grab the current styling of the text to ensure that any\n      // custom styling is applied to the suffix\n      const { fontFace, fontSize, fontStyle, lineHeight, verticalAlign } =\n        component.text;\n      suffix = this._createText(\n        { flexItem: this.contentProperties },\n        {\n          text: `${content.trim()}${this.maxLinesSuffix}`,\n          style: {\n            fontFace,\n            fontSize,\n            fontStyle,\n            lineHeight,\n            verticalAlign\n          }\n        }\n      );\n    } else {\n      this.childList.add(component);\n      suffix = this._createText(\n        {\n          flexItem: {\n            ...this.contentProperties,\n            marginLeft: negatedRightMargin\n          }\n        },\n        this.maxLinesSuffix\n      );\n    }\n    return suffix;\n  }\n\n  _createIcon(base, iconProps) {\n    const y =\n      (this.textHeight > this.style.textStyle.lineHeight\n        ? this.textHeight\n        : this.style.textStyle.lineHeight) - this.style.iconHeight;\n    return {\n      ...base,\n      type: Icon,\n      y: y,\n      w: this.style.iconWidth,\n      h: this.style.iconHeight,\n      signals: {\n        itemChanged: '_updateIconPosition'\n      },\n      ...iconProps\n    };\n  }\n\n  _createText(base, text) {\n    const textOverrideStyles =\n      typeof text.style === 'string'\n        ? this.customStyleMappings[text.style]\n        : text.style;\n    const textComponent = {\n      ...base,\n      y: this.textY !== undefined ? this.textY : this.style.textY,\n      h:\n        textOverrideStyles?.lineHeight ||\n        textOverrideStyles?.fontSize ||\n        this.textHeight,\n      text: {\n        ...this.style.textStyle,\n        ...textOverrideStyles,\n        text: text.text || text\n      }\n    };\n    if (textOverrideStyles?.textDecoration === 'line-through') {\n      const textWidth = measureTextWidth({\n        ...this.style.textStyle,\n        ...textOverrideStyles,\n        text: text.text || text\n      });\n      const strikethroughLine = {\n        rect: true,\n        w: textWidth,\n        color:\n          this.style.strikethroughColor ||\n          textOverrideStyles?.textColor ||\n          this.style.textStyle.textColor,\n        h: textComponent.h * this.style.strikethroughRatio,\n        y: textComponent.h / 2,\n        mountY: 1\n      };\n      return {\n        type: lng.Component,\n        w: textWidth + textComponent.flexItem.marginRight,\n        h: textComponent.h,\n        children: [{ ...textComponent }, { ...strikethroughLine }]\n      };\n    }\n    return textComponent;\n  }\n\n  _createBadge(base, badge) {\n    return {\n      ...base,\n      y: this.badgeY || 0,\n      ...this.badgeProperties,\n      type: Badge,\n      title: badge,\n      signals: {\n        loadedBadge: '_loadedBadge'\n      }\n    };\n  }\n\n  _updateIconPosition(icon) {\n    icon.y = this.style.textStyle.lineHeight - icon.h;\n  }\n\n  _loadedBadge(badge) {\n    if (this.badgeY === undefined) {\n      badge.y = this.style.textStyle.lineHeight - badge.h;\n    }\n  }\n\n  /**\n   * RegEx Lookbehinds do not work in WPE Browser, but we want the space\n   * at the end of the previous string to prevent weird wrapping,\n   * so we need to separate on spaces, then re-attach to the previous string\n   *\n   * @param { array } parsedContent\n   *\n   * @return { array }\n   */\n  _formatSpaces(parsedContent) {\n    // retain the white space next to the appropriate word, then filter by the empty string,\n    // otherwise all whitespace is stripped and the flexItem's marginRight adds its own space\n    // which can be a different space size than the text would apply between words\n    const whitespace = /(.+?\\s+)/;\n    return flatten(\n      (parsedContent || []).reduce((acc, item) => {\n        let parsed = item;\n        if (isText(item)) {\n          if (typeof item === 'object') {\n            const formattedWords = item.text\n              .split(whitespace) // split after whitespace character (which adds empty strings)\n              .map(word => word && { ...item, text: word }); // check for empty string before adding\n            acc.push(...formattedWords);\n            return acc;\n          }\n          parsed = item.split(whitespace);\n        }\n        acc.push(parsed);\n        return acc;\n      }, [])\n    )\n      .map((item, index, arr) => {\n        if (item === ' ') return false;\n        if (arr[index + 1] === ' ') return item + ' ';\n        return item;\n      })\n      .filter(Boolean);\n  }\n\n  _setContent(content) {\n    if (content !== this._content) {\n      this._content = content;\n      let parsedContent = this._content;\n      if (content && !Array.isArray(content)) {\n        parsedContent = parseInlineContent(content);\n      }\n\n      this._parsedContent = this._formatSpaces(parsedContent);\n    }\n    return content;\n  }\n\n  _setBadgeProperties(badgeProperties) {\n    if (typeof badgeProperties === 'object') {\n      return badgeProperties;\n    }\n  }\n\n  _getBadgeProperties() {\n    return this._badgeProperties || {};\n  }\n\n  _setContentProperties(contentProperties) {\n    if (typeof contentProperties === 'object') {\n      return contentProperties;\n    }\n  }\n\n  _getContentProperties() {\n    return this._contentProperties || {};\n  }\n\n  _setCustomStyleMappings(customStyleMappings) {\n    if (typeof customStyleMappings === 'object') {\n      return customStyleMappings;\n    }\n  }\n\n  _getCustomStyleMappings() {\n    return this._customStyleMappings || {};\n  }\n\n  _setMaxLines(maxLines) {\n    // only accept positive numbers\n    // round down any decimals to whole numbers\n    return maxLines >= 1 ? Math.floor(maxLines) : 0;\n  }\n\n  get textHeight() {\n    return this.style.textStyle.lineHeight || this.style.textStyle.fontSize;\n  }\n\n  get _marginBottom() {\n    if (this.contentProperties.marginBottom !== undefined) {\n      return this.contentProperties.marginBottom;\n    }\n    if (this.style.marginBottom) {\n      return this.style.marginBottom;\n    }\n    return 0;\n  }\n\n  get _shouldTruncate() {\n    return this.contentWrap && this.maxLines;\n  }\n\n  set announce(announce) {\n    super.announce = announce;\n  }\n\n  get announce() {\n    if (this._announce) {\n      return this._announce;\n    }\n    const announce =\n      this._parsedContent &&\n      this._parsedContent.reduce((announce, item) => {\n        if (typeof item === 'string') {\n          announce += item;\n        } else if (item.announce) {\n          announce += item.announce;\n        } else if (item.text) {\n          announce += item.text;\n          if (item.style?.textDecoration === 'line-through') {\n            announce += 'strikethrough';\n          }\n        } else if (item.title) {\n          announce += item.title;\n        } else if (item.badge) {\n          announce += item.badge;\n        }\n        return announce + ' ';\n      }, '');\n    return announce ? announce.replace(/\\s+(?=\\s)|\\s$/g, '') : '';\n  }\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const base = theme => ({\n  fadeWidth: 100,\n  offset: theme.spacer.xxl,\n  shouldSmooth: false,\n  textStyle: theme.typography.body1\n});\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport * as styles from './Marquee.styles';\nimport FadeShader from '../../shaders/FadeShader';\nimport utils from '../../utils';\nimport Base from '../Base';\n\nexport default class Marquee extends Base {\n  static _template() {\n    return {\n      ContentClipper: {\n        boundsMargin: [], // overwrite boundsMargin so text won't de-render if moved offscreen\n        ContentBox: {\n          Content: {},\n          ContentLoopTexture: {}\n        }\n      }\n    };\n  }\n\n  static get __componentName() {\n    return 'Marquee';\n  }\n\n  static get __themeStyle() {\n    return styles;\n  }\n\n  static get tags() {\n    return [\n      'ContentClipper',\n      {\n        name: 'ContentBox',\n        path: 'ContentClipper.ContentBox'\n      },\n      {\n        name: 'Content',\n        path: 'ContentClipper.ContentBox.Content'\n      },\n      {\n        name: 'ContentLoopTexture',\n        path: 'ContentClipper.ContentBox.ContentLoopTexture'\n      }\n    ];\n  }\n\n  static get properties() {\n    return [\n      'autoStart',\n      'title',\n      'contentTexture',\n      'color',\n      'centerAlign',\n      'delay',\n      'repeat',\n      'overrideLoopX'\n    ];\n  }\n\n  static get aliasStyles() {\n    return [{ prev: 'fadeW', curr: 'fadeWidth' }];\n  }\n\n  _construct() {\n    super._construct();\n    this._scrolling = false;\n    this._autoStart = false;\n    this._centerAlign = false;\n  }\n\n  _init() {\n    this._Content.on('txLoaded', this._updateContentTexture.bind(this));\n    super._init();\n  }\n\n  _updateContentTexture() {\n    const restartScrolling = this._restartScrolling;\n    this.stopScrolling();\n\n    if (!this._currentTexture.h) {\n      this._ContentClipper.h =\n        this._currentTexture.text && this._currentTexture.text.lineHeight\n          ? this._currentTexture.text.lineHeight\n          : this._Content.finalH;\n    }\n    // in case the metadata width gets larger on focus and the text goes from being clipped to not\n    if (this._shouldClip) {\n      this._updateShader();\n    } else {\n      this._ContentClipper.shader = null;\n      this._positionTexture();\n    }\n\n    restartScrolling && this.startScrolling();\n    this.signal('marqueeContentLoaded');\n  }\n\n  _update() {\n    this._updateColor();\n    this._updateTexture();\n    this._updateShader();\n    this._restartScrolling && this.startScrolling();\n  }\n\n  get _restartScrolling() {\n    return this.autoStart || this._scrolling || this._shouldTryScrolling;\n  }\n\n  _updateColor() {\n    if (this.color) {\n      this._Content.smooth = { color: utils.getValidColor(this.color) };\n    }\n  }\n\n  get _currentTexture() {\n    return this._Content.text || this._Content.texture || {};\n  }\n\n  _updateTexture() {\n    const content = { rtt: true };\n    if (this.contentTexture) {\n      content.texture = this.contentTexture;\n    } else if (this.title) {\n      content.text = {\n        ...this.style.textStyle,\n        ...this.title,\n        text: this.textContent\n      };\n    }\n\n    this.patch({\n      ContentClipper: {\n        w: this.w + 14,\n        ContentBox: {\n          Content: content,\n          ContentLoopTexture: {}\n        }\n      }\n    });\n    this.signal('marqueeContentLoaded'); // TODO: Check if this extra signal is needed since the txLoaded event should emit it already?\n  }\n\n  _updateShader() {\n    this._ContentClipper.patch({\n      w: this.w > 0 ? this.w + this.style.fadeWidth / 2 : 0,\n      shader: {\n        type: FadeShader,\n        positionLeft: 0,\n        positionRight: this.style.fadeWidth\n      },\n      rtt: true\n    });\n  }\n\n  _updateAnimation() {\n    this._scrollAnimation && this._scrollAnimation.stopNow();\n    this._scrollAnimation = this.animation({\n      duration: this._loopWidth / 50,\n      delay: isNaN(this.delay) ? 1.5 : this.delay,\n      repeat: isNaN(this.repeat) ? -1 : this.repeat,\n      actions: [\n        {\n          t: 'ContentBox',\n          p: 'x',\n          v: {\n            sm: 0,\n            0: { v: 0 },\n            0.5: { v: -(this._loopWidth + this.style.offset) }\n          }\n        },\n        {\n          t: 'ContentClipper',\n          p: 'shader.positionLeft',\n          v: {\n            sm: 0,\n            0: { v: 0 },\n            0.1: { v: this.style.fadeWidth },\n            0.4: { v: this.style.fadeWidth },\n            0.5: { v: 0 }\n          }\n        }\n      ]\n    });\n  }\n\n  _positionTexture() {\n    const x = this._shouldCenter() ? (this.w - this._textRenderedW) / 2 : 0;\n    if (this.style.shouldSmooth) {\n      this._ContentBox.smooth = { x };\n    } else {\n      this._ContentBox.x = x;\n    }\n  }\n\n  startScrolling() {\n    this._Content.off('txLoaded', this.startScrolling.bind(this));\n\n    this._shouldTryScrolling = true;\n    if (this._textRenderedW === 0) {\n      // can switch to .once in LUI5.0 requiring higher Lightning Core version\n      this._Content.on('txLoaded', this.startScrolling.bind(this));\n    }\n    if (this._shouldClip) {\n      this._scrolling = true;\n      this._ContentLoopTexture.x = this._loopWidth + this.style.offset;\n      this._ContentLoopTexture.texture = this._Content.getTexture();\n      this._updateAnimation();\n      this._scrollAnimation.start();\n    } else {\n      this._scrolling = false;\n    }\n  }\n\n  stopScrolling() {\n    this._shouldTryScrolling = false;\n    this._scrolling = false;\n    if (this._scrollAnimation) {\n      this._scrollAnimation.stopNow();\n      this._ContentLoopTexture.texture = null;\n    }\n  }\n\n  get _shouldClip() {\n    // using fadeWidth / 4 so that if something like the last character is slightly\n    // faded out but still visible, we don't unnecessarily scroll\n    return this._textRenderedW > this.w - this.style.fadeWidth / 4;\n  }\n\n  _shouldCenter() {\n    return (\n      this._centerAlign ||\n      (this._Content.text && this._Content.text.textAlign === 'center')\n    );\n  }\n\n  _setAutoStart(autoStart) {\n    // if the component is changed from  autoStarting to not,\n    // cancel the current scrolling behavior,\n    // otherwise the component can continue to scroll from its previous state\n    if (this.autoStart && !autoStart) {\n      // Calling this ensures that the animation is stopped, and the texture\n      // is properly positioned if it needs to be centered. Otherwise, if it\n      // is un-clipped text, it is positioned at 0.\n      this._updateContentTexture();\n    }\n    return autoStart;\n  }\n\n  _setCenterAlign(center) {\n    // The Content texture needs to be updated if centerAlign\n    // is changed, but we need the new value first.\n    this._centerAlign = center;\n    this._updateContentTexture();\n    return center;\n  }\n\n  get textContent() {\n    return this.title?.text ?? this.title ?? '';\n  }\n\n  get _loopWidth() {\n    return this.overrideLoopX || this._textRenderedW;\n  }\n\n  get _textRenderedW() {\n    return this._Content.renderWidth;\n  }\n\n  set announce(announce) {\n    super.announce = announce;\n  }\n\n  get announce() {\n    return this._announce || (this.title && this.title.text);\n  }\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const base = theme => ({\n  alwaysScroll: false,\n  itemSpacing: theme.layout.gutterX,\n  itemTransition: theme.animation.utility,\n  neverScroll: false,\n  scrollIndex: 0\n});\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport FocusManager from '../FocusManager';\nimport { getX, getY, getH, getW, max, watchForUpdates } from '../../utils';\nimport * as styles from './NavigationManager.styles';\n\nconst directionPropNames = {\n  row: {\n    axis: 'x',\n    crossAxis: 'y',\n    lengthDimension: 'w',\n    crossDimension: 'h',\n    innerLengthDimension: 'innerW',\n    innerCrossDimension: 'innerH'\n  },\n  column: {\n    axis: 'y',\n    crossAxis: 'x',\n    lengthDimension: 'h',\n    crossDimension: 'w',\n    innerLengthDimension: 'innerH',\n    innerCrossDimension: 'innerW'\n  }\n};\n\nexport default class NavigationManager extends FocusManager {\n  static get __componentName() {\n    return 'NavigationManager';\n  }\n\n  static get __themeStyle() {\n    return styles;\n  }\n\n  static get properties() {\n    return [\n      ...super.properties,\n      'alwaysScroll',\n      'neverScroll',\n      'scrollIndex',\n      'autoResizeWidth',\n      'autoResizeHeight',\n      'lazyUpCount',\n      'lazyUpCountBuffer',\n      'waitForDimensions'\n    ];\n  }\n\n  _construct() {\n    super._construct();\n    this.shouldSmooth = false;\n    this._lazyUpCountBuffer = 2;\n  }\n\n  _init() {\n    const { lengthDimension, axis } = this._directionPropNames;\n\n    if (!this[lengthDimension]) {\n      this._initComponentSize();\n    }\n\n    this.Items.transition(axis).on(\n      'finish',\n      this._transitionListener.bind(this)\n    );\n\n    super._init();\n  }\n\n  _initComponentSize() {\n    const { lengthDimension } = this._directionPropNames;\n    if (\n      this?.parent.parent instanceof NavigationManager &&\n      this?.parent.parent[lengthDimension]\n    ) {\n      // component is a child item in a NavigationManager (or subclass of NavigationManager)\n      this[lengthDimension] = this.parent.parent[lengthDimension];\n    } else {\n      // find closest parent in render tree with lengthDimension property set(w for Row, h for Column)\n      let parent = this.parent;\n      while (parent && !parent[lengthDimension]) {\n        parent = parent.parent;\n      }\n      this[lengthDimension] =\n        (parent && parent[lengthDimension]) ||\n        this.stage.h / this.stage.getRenderPrecision();\n    }\n  }\n\n  _update() {\n    this._updateLayout();\n  }\n\n  _updateLayout() {\n    const { lengthDimension, crossDimension, crossAxis, innerCrossDimension } =\n      this._directionPropNames;\n    let nextPosition = 0;\n    let maxCrossDimensionSize = 0;\n    let maxInnerCrossDimensionSize = 0;\n    const childrenToCenter = [];\n    const loadingChildren = [];\n\n    for (let i = 0; i < this.Items.children.length; i++) {\n      const child = this.Items.children[i];\n\n      if (child.requestEarlyUpdate) {\n        const updateDidRun = child.requestEarlyUpdate();\n        if (!updateDidRun && (child.w === 0 || child.h === 0)) {\n          child._updateLayout && child._updateLayout();\n        }\n      }\n      const childCrossDimensionSize = this._calcCrossDimensionSize(child);\n\n      if (\n        this.waitForDimensions &&\n        (!childCrossDimensionSize || !child[lengthDimension])\n      ) {\n        loadingChildren.push(child);\n      }\n\n      maxCrossDimensionSize = max(\n        maxCrossDimensionSize,\n        childCrossDimensionSize\n      );\n      maxInnerCrossDimensionSize = max(\n        maxInnerCrossDimensionSize,\n        child[innerCrossDimension] || 0\n      );\n\n      this.updatePositionOnAxis(child, nextPosition);\n\n      nextPosition += child[lengthDimension];\n\n      if (i < this.Items.children.length - 1) {\n        const extraItemSpacing = child.extraItemSpacing || 0;\n        nextPosition += this.style.itemSpacing + extraItemSpacing;\n      }\n\n      if (child.centerInParent) {\n        // if the child is another NavigationManager, check the cross dimension size of the item container\n        const childCrossDimensionSize =\n          (child.Items && child.Items[crossDimension]) || child[crossDimension];\n        // only center the child if it is within the bounds of this NavigationManager\n        // center based off innerCrossDimension in cases where elements with\n        // innerCrossDimension exist in Items (ex. Tile with metadata)\n        if (\n          childCrossDimensionSize < this[crossDimension] ||\n          !this.Items[innerCrossDimension]\n        ) {\n          childrenToCenter.push({ childIdx: i, childCrossDimensionSize });\n        }\n      } else {\n        child[crossAxis] = 0;\n      }\n    }\n\n    const itemChanged =\n      this.Items[crossDimension] !== maxCrossDimensionSize ||\n      this.Items[lengthDimension] !== nextPosition;\n\n    if (this.waitForDimensions) {\n      this.Items.alpha = loadingChildren.length ? 0.001 : 1;\n    }\n\n    this.Items.patch({\n      [crossDimension]: maxCrossDimensionSize,\n      [innerCrossDimension]:\n        maxInnerCrossDimensionSize || maxCrossDimensionSize,\n      [lengthDimension]: nextPosition + (this._totalAddedWidth || 0)\n    });\n\n    this._autoResize();\n    this._centerItemsInParent(childrenToCenter);\n    this._updateLastScrollIndex();\n\n    if (itemChanged) {\n      this._performRender();\n      this.fireAncestors('$itemChanged');\n    }\n  }\n\n  _centerItemsInParent(items) {\n    const { crossDimension, crossAxis, innerCrossDimension } =\n      this._directionPropNames;\n    if (items.length) {\n      const sizes = [\n        this.Items[crossDimension],\n        this.Items[innerCrossDimension]\n      ];\n      // If a subclass of NavigationManager only contains a row or column of items:\n      // then also consider the h or w of that component when centering items .\n      // Subclasses that add other components outside of the Items array (ex. TitleRow)\n      // likely increase the h or w of the component and centering should be with respect to only the Items element.\n      if (this.children.length === 1) {\n        sizes.push(this[crossDimension]);\n      }\n\n      const crossDimensionSize = Math.max(...sizes);\n      items.forEach(({ childIdx, childCrossDimensionSize }) => {\n        this.Items.children[childIdx][crossAxis] =\n          (crossDimensionSize - childCrossDimensionSize) / 2;\n      });\n    }\n  }\n\n  _autoResize() {\n    if (this.autoResizeWidth) {\n      this.w = this.Items.w;\n    }\n    if (this.autoResizeHeight) {\n      this.h = this.Items.h;\n    }\n  }\n\n  _updateLastScrollIndex() {\n    const { axis, lengthDimension } = this._directionPropNames;\n    if (this.alwaysScroll) {\n      this._lastScrollIndex = this.Items.children.length - 1;\n      return;\n    }\n\n    const itemPos = this._isRow ? this.itemPosX : this.itemPosY;\n    const scrollOffset =\n      (this.Items.children[this.scrollIndex] || {\n        [axis]: 0\n      })[axis] + itemPos;\n    const lastChild = this.Items.childList.last;\n    const endOfLastChild = lastChild\n      ? this._calcAxisPosition(lastChild) + lastChild[lengthDimension]\n      : 0;\n    if (endOfLastChild > this[lengthDimension]) {\n      let lastScrollIndex;\n      for (let i = this.Items.children.length - 1; i >= 0; i--) {\n        const childPosition = this._calcAxisPosition(this.Items.children[i]);\n        const canScrollToChild =\n          childPosition + this[lengthDimension] - scrollOffset > endOfLastChild;\n        if (canScrollToChild) {\n          lastScrollIndex = i;\n        } else {\n          break;\n        }\n      }\n      this._lastScrollIndex = lastScrollIndex;\n      return;\n    }\n\n    // TODO: This conditional originated in Column (prior to NavigationManager refactor).\n    //  What scenario would this ever be true?\n    //  Add a comment to describe it when that is identified.\n    if (this._lastScrollIndex > this.items.length) {\n      this._lastScrollIndex = this.items.length - 1;\n    }\n  }\n\n  _calcCrossDimensionSize(comp) {\n    if (this._isRow) {\n      return getH(comp);\n    }\n\n    if (this._isColumn) {\n      return getW(comp);\n    }\n  }\n\n  _calcAxisPosition(comp) {\n    if (this._isRow) {\n      return getX(comp);\n    }\n\n    if (this._isColumn) {\n      return getY(comp);\n    }\n  }\n\n  _transitionListener() {\n    this.shouldSmooth = false;\n    this.transitionDone();\n  }\n\n  _withAfterUpdate(element) {\n    return watchForUpdates({\n      element,\n      watchProps: [\n        this._directionPropNames.crossAxis,\n        'w',\n        'h',\n        'innerW',\n        'innerH'\n      ],\n      sideEffect: this.queueRequestUpdate.bind(this)\n    });\n  }\n\n  // can be overwritten\n  _performRender() {}\n\n  _appendItem(item, shouldSmoothOverride) {\n    this.shouldSmooth = shouldSmoothOverride ?? false;\n    item.parentFocus = this.hasFocus();\n    item = this.Items.childList.a(item);\n\n    const { crossDimension } = this._directionPropNames;\n    // do not set a h/w if the item already has one defined\n    // as this will trigger withThemeStyles's dimension \"setByUser\" flag\n    if (!item[crossDimension]) {\n      const itemCrossSize = this._isRow ? this.renderHeight : this.renderWidth;\n      item[crossDimension] = item[crossDimension] || itemCrossSize;\n    }\n\n    item = this._withAfterUpdate(item);\n    return item;\n  }\n\n  _appendLazyItem(item) {\n    const { lengthDimension, axis } = this._directionPropNames;\n    const lastChild = this._Items.children[this.items.length - 1];\n    const nextPosition =\n      lastChild[lengthDimension] +\n      lastChild[axis] +\n      (lastChild.extraItemSpacing || 0) +\n      this.style.itemSpacing;\n\n    const appended = this._appendItem(item, true);\n\n    // Update w/o recalculating  whole layout\n    appended[axis] = nextPosition;\n    this._Items[lengthDimension] += nextPosition + item[lengthDimension];\n  }\n\n  $itemChanged() {\n    this.queueRequestUpdate();\n  }\n\n  appendItems(items = []) {\n    this.shouldSmooth = false;\n\n    if (this._lazyItems) {\n      this._lazyItems.push(...items);\n      return;\n    }\n\n    if (items.length > this.lazyUpCount + this.lazyUpCountBuffer) {\n      this._lazyItems = items.splice(this.lazyUpCount + this.lazyUpCountBuffer);\n    }\n    items.forEach(item => this._appendItem(item));\n\n    this.requestUpdate();\n    this._refocus();\n  }\n\n  appendItemsAt(items = [], idx) {\n    if (this._lazyItems && idx > this.items.length - 1) {\n      const addAtIdx = idx - this.items.length;\n      this._lazyItems.splice(addAtIdx, 0, ...items);\n      return;\n    }\n\n    const { crossDimension, lengthDimension, innerLengthDimension } =\n      this._directionPropNames;\n    const addIndex = Number.isInteger(idx) ? idx : this.Items.children.length;\n    this.shouldSmooth = false;\n    this._lastAppendedIdx = addIndex;\n    this._totalAddedLength = 0;\n\n    items.forEach((item, itemIdx) => {\n      const newItem = {\n        ...this._withAfterUpdate(item),\n        parentFocus: this.hasFocus()\n      };\n      // do not set a h/w if the item already has one defined\n      // as this will trigger withThemeStyles's dimension \"setByUser\" flag\n      if (!item[crossDimension]) {\n        newItem[crossDimension] =\n          item[crossDimension] || this.Items[crossDimension];\n      }\n      this.Items.childList.addAt(newItem, addIndex + itemIdx);\n      const itemLength =\n        item[lengthDimension] || item[innerLengthDimension] || 0;\n      const extraItemSpacing = item.extraItemSpacing || 0;\n      this._totalAddedLength +=\n        itemLength + this.style.itemSpacing + extraItemSpacing;\n    });\n\n    if (this.selectedIndex >= this._lastAppendedIdx) {\n      this._selectedPastAdded = true;\n      this._selectedIndex += items.length;\n    }\n\n    this.requestUpdate();\n    this._refocus();\n  }\n\n  updatePositionOnAxis(item, position) {\n    const { axis } = this._directionPropNames;\n    this.applySmooth(\n      item,\n      { [axis]: position },\n      { [axis]: [position, this.style.itemTransition] }\n    );\n\n    if (!this.shouldSmooth) {\n      this._updateTransitionTarget(item, axis, position);\n    }\n  }\n\n  scrollTo(index, duration = this.style.itemTransition.duration * 100) {\n    if (index == undefined) {\n      return;\n    }\n\n    if (duration === 0) {\n      this.selectedIndex = index;\n      return;\n    }\n\n    for (let i = 0; i !== Math.abs(this.selectedIndex - index); i++) {\n      setTimeout(() => {\n        this.selectedIndex > index ? this.selectPrevious() : this.selectNext();\n      }, duration * i);\n    }\n  }\n\n  // can be overridden\n  transitionDone() {}\n\n  shouldScrollLeft() {\n    return this._isRow && this._canScrollBack;\n  }\n\n  shouldScrollRight() {\n    return this._isRow && this._canScrollNext;\n  }\n\n  shouldScrollUp() {\n    return this._isColumn && this._canScrollBack;\n  }\n\n  shouldScrollDown() {\n    return this._isColumn && this._canScrollNext;\n  }\n\n  get _directionPropNames() {\n    return directionPropNames[this.direction];\n  }\n\n  get _canScrollBack() {\n    let shouldScroll = false;\n\n    if (this._lastScrollIndex) {\n      shouldScroll = this.selectedIndex < this._lastScrollIndex;\n      if (\n        this._prevLastScrollIndex !== undefined &&\n        this._prevLastScrollIndex !== this._lastScrollIndex\n      ) {\n        shouldScroll = true;\n      }\n    } else {\n      shouldScroll = this.selectedIndex >= this.scrollIndex;\n    }\n\n    const itemsStartCoord = this._isRow ? this._itemsX : this._itemsY;\n    return (\n      itemsStartCoord < (this._isRow ? this.itemPosX : this.itemPosY) &&\n      shouldScroll\n    );\n  }\n\n  get _canScrollNext() {\n    const { axis, lengthDimension } = this._directionPropNames;\n    const lastChild = this.Items.childList.last;\n    let endOfItemsPosition;\n\n    if (this._isRow) {\n      endOfItemsPosition = Math.abs(this._itemsX - this.w);\n    }\n    if (this._isColumn) {\n      endOfItemsPosition = Math.abs(this._itemsY - this.h);\n    }\n\n    return (\n      this.selectedIndex > this.scrollIndex &&\n      // end of Items container < end of last item\n      endOfItemsPosition < lastChild[axis] + lastChild[lengthDimension]\n    );\n  }\n\n  get _isColumn() {\n    return this.direction === 'column';\n  }\n\n  get _isRow() {\n    return this.direction === 'row';\n  }\n\n  get _itemsX() {\n    return getX(this.Items);\n  }\n\n  get _itemsY() {\n    return getY(this.Items);\n  }\n\n  _getAlwaysScroll() {\n    return this._alwaysScroll !== undefined\n      ? this._alwaysScroll\n      : this.style.alwaysScroll;\n  }\n\n  _getNeverScroll() {\n    if (this.alwaysScroll) {\n      return false;\n    }\n    return this._neverScroll !== undefined\n      ? this._neverScroll\n      : this.style.neverScroll;\n  }\n\n  _setScrollIndex(index) {\n    return index >= 0 ? index : 0;\n  }\n\n  _getScrollIndex() {\n    return this._scrollIndex !== undefined\n      ? this._scrollIndex\n      : this.style.scrollIndex;\n  }\n\n  _setLazyUpCountBuffer(buffer) {\n    if (buffer < 0) {\n      console.warn(\n        'lazyUpCountBuffer must be greater than or equal to 0. Setting to 0.'\n      );\n      buffer = 0;\n    }\n    return buffer;\n  }\n\n  isFullyOnScreen({ offsetX = 0, offsetY = 0 } = {}) {\n    // if the NavigationManager is nested in another Focus Manager\n    // (like a Row inside of a Column),\n    // the `isComponentOnScreen` method needs to account for\n    // how much the Items container is moving as it scrolls\n    const focusmanager = this.parent?.parent;\n    if (focusmanager instanceof FocusManager) {\n      offsetX += focusmanager.Items.transition('x').targetValue || 0;\n      offsetY += focusmanager.Items.transition('y').targetValue || 0;\n    }\n    return super.isFullyOnScreen({ offsetX, offsetY });\n  }\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const base = theme => ({\n  itemSpacing: theme.layout.gutterX,\n  scrollIndex: 0,\n  alwaysScroll: false,\n  neverScroll: false,\n  itemTransition: {\n    ...theme.animation.standardEntrance,\n    duration: theme.animation.duration.fast\n  }\n});\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport NavigationManager from '../NavigationManager';\nimport * as styles from './Row.styles';\nimport { getX } from '../../utils';\n\nexport default class Row extends NavigationManager {\n  static get __componentName() {\n    return 'Row';\n  }\n\n  static get __themeStyle() {\n    return styles;\n  }\n\n  static _template() {\n    return {\n      ...super._template(),\n      direction: 'row'\n    };\n  }\n\n  static get properties() {\n    return [\n      ...super.properties,\n      'lazyScroll',\n      'startLazyScrollIndex',\n      'stopLazyScrollIndex'\n    ];\n  }\n\n  // Since this is a Row, scrolling should be done only when focused item (this.selected) is fully visible horizontally\n  // as scrolling is happening along X axis. So, if we have a row that has height greater than screen's height, it still\n  // can scroll. Method below the '_isComponentHorizontallyVisible' does not take \"full\" visibility into an account.\n  // At the same time, 'isFullyOnScreen' method on the Base class or utils method checks that element is fully visible\n  // both vertically and horizontally.\n  // At a later time, we should investigate this further.\n  _isOnScreenForScrolling(child) {\n    if (!child) return false;\n\n    const x = getX(child);\n    if (!Number.isFinite(x)) return false;\n    const itemsTransitionX = this.getTransitionXTargetValue();\n    const rowX = this.core.renderContext.px;\n    let itemX = rowX + itemsTransitionX + x;\n    let xModifier;\n\n    // This section here takes the difference between a possible target value\n    // and subtracts it from the current child x. That value then is subtracted from the initial\n    // itemX value calculated on the core renderContext px value to more accurately\n    // calculate the item's location on screen when it's own x value will be updating.\n    if (child.transition('x')) {\n      xModifier = child.x - child.transition('x').targetValue;\n      itemX = itemX - xModifier;\n    }\n    return itemX >= rowX && itemX + child.w <= rowX + this.w;\n  }\n\n  _shouldScroll() {\n    const prevIndex = this.Items.childList.getIndex(this.prevSelected);\n    if (\n      this.alwaysScroll ||\n      (this.lazyScroll &&\n        (this.selectedIndex < this.startLazyScrollIndex ||\n          this.selectedIndex > this.stopLazyScrollIndex ||\n          (prevIndex < this.startLazyScrollIndex &&\n            this.selectedIndex === this.startLazyScrollIndex) ||\n          (prevIndex > this.stopLazyScrollIndex &&\n            this.selectedIndex === this.stopLazyScrollIndex)))\n    ) {\n      return true;\n    }\n\n    let shouldScroll = this._selectedPastAdded;\n    if (!shouldScroll && !this.neverScroll) {\n      const isCompletelyOnScreen = this._isOnScreenForScrolling(this.selected);\n\n      if (this.lazyScroll) {\n        shouldScroll = !isCompletelyOnScreen;\n      } else {\n        const lastChild = this.Items.childList.last;\n        shouldScroll =\n          lastChild &&\n          (this.shouldScrollLeft() ||\n            this.shouldScrollRight() ||\n            !isCompletelyOnScreen);\n      }\n    }\n    return shouldScroll;\n  }\n\n  _getPrependedOffset() {\n    this._selectedPastAdded = false;\n    return this.Items.x - this._totalAddedWidth;\n  }\n\n  _getLazyScrollX(prev) {\n    const prevIndex = this.Items.childList.getIndex(this.prevSelected);\n    if (this._selectedPastAdded) {\n      return this._getPrependedOffset();\n    }\n\n    if (this.selectedIndex <= this.startLazyScrollIndex) {\n      // if navigating on items before start lazy scroll index, use normal scroll logic\n      return this._getScrollX();\n    } else if (\n      this.selectedIndex >= this.stopLazyScrollIndex &&\n      this.selectedIndex < prevIndex\n    ) {\n      // if navigating left on items after stop lazy scroll index\n      const currItemsX = this.Items.x;\n\n      return (\n        currItemsX +\n        (this.prevSelected.w +\n          this.style.itemSpacing +\n          (this.selected.extraItemSpacing || 0))\n      );\n    } else if (prev && this.selectedIndex > this.stopLazyScrollIndex) {\n      // if navigating right on items after stop lazy scroll index\n      const prevX = prev.x;\n\n      return (\n        -prevX +\n        this.prevSelected.w +\n        this.style.itemSpacing +\n        (this.selected.extraItemSpacing || 0) +\n        this.itemPosX\n      );\n    } else if (prev) {\n      // otherwise, no start/stop indexes, perform normal lazy scroll\n      let itemsContainerX;\n      const prevIndex = this.Items.childList.getIndex(prev);\n\n      const selectedX = this.selected.x;\n\n      if (prevIndex === -1) {\n        // No matches found in childList, start set x to 0\n        return;\n      }\n      if (prevIndex > this.selectedIndex) {\n        itemsContainerX = -selectedX + this.itemPosX;\n      } else if (prevIndex < this.selectedIndex) {\n        itemsContainerX = this.w - selectedX - this.selected.w;\n      }\n\n      return itemsContainerX;\n    }\n    // if no prev item or start/stop index, default to normal scroll logic\n    return this._getScrollX();\n  }\n\n  _getScrollX() {\n    if (this._selectedPastAdded) {\n      return this._getPrependedOffset();\n    }\n    let itemsContainerX;\n    let itemIndex = this.selectedIndex - this.scrollIndex;\n    itemIndex = itemIndex < 0 ? 0 : itemIndex;\n    if (itemIndex === this._firstFocusableIndex()) {\n      itemIndex = 0;\n    }\n\n    if (this.Items.children[itemIndex]) {\n      itemsContainerX = this.Items.children[itemIndex].transition('x')\n        ? -this.Items.children[itemIndex].transition('x').targetValue +\n          this.itemPosX\n        : -this.Items.children[itemIndex].x + this.itemPosX;\n    }\n\n    return itemsContainerX;\n  }\n\n  _render(next, prev) {\n    if (this.plinko && prev && prev.selected) {\n      next.selectedIndex = this._getIndexOfItemNear(next, prev);\n    }\n\n    this._prevLastScrollIndex = this._lastScrollIndex;\n\n    let itemsContainerX;\n    if (!this.Items.children.length) {\n      itemsContainerX = this.itemPosX;\n    } else if (this._shouldScroll()) {\n      itemsContainerX =\n        this.lazyScroll && prev\n          ? this._getLazyScrollX(prev)\n          : this._getScrollX();\n    }\n\n    if (itemsContainerX !== undefined) {\n      this.updatePositionOnAxis(this.Items, itemsContainerX);\n    }\n\n    this.onScreenEffect(this.onScreenItems);\n  }\n\n  _performRender() {\n    this._render(this.selected, this.prevSelected);\n  }\n\n  _isOnScreen(child) {\n    if (!child) return false;\n\n    return this._isComponentHorizontallyVisible(child);\n  }\n\n  // can be overridden\n  onScreenEffect() {}\n\n  get _totalAddedWidth() {\n    return this._totalAddedLength;\n  }\n\n  _getLazyScroll() {\n    if (this.alwaysScroll) {\n      return false;\n    }\n    return this._lazyScroll !== undefined\n      ? this._lazyScroll\n      : this.style.lazyScroll;\n  }\n\n  _getNeverScroll() {\n    if (this.alwaysScroll || this.lazyScroll) {\n      return false;\n    }\n    return this._neverScroll !== undefined\n      ? this._neverScroll\n      : this.style.neverScroll;\n  }\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const base = theme => ({\n  offsetY: theme.spacer.xxs,\n  offsetX: 0,\n  textStyle: theme.typography.body1\n});\n\nexport const tone = theme => ({\n  neutral: {\n    textStyle: { textColor: theme.color.fillNeutral }\n  },\n  inverse: {\n    textStyle: { textColor: theme.color.fillInverse }\n  },\n  brand: {\n    textStyle: { textColor: theme.color.fillBrand }\n  }\n});\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport lng from '@lightningjs/core';\nimport * as styles from './TextBox.styles';\nimport Base from '../Base';\nimport InlineContent from '../InlineContent';\nimport Marquee from '../Marquee';\nimport context from '../../globals/context/index';\nimport utils from '../../utils';\n\n/**\n *\n * Get defaults directly from @lightningjs/core to ensure correct fallback values\n *\n */\nconst lightningTextDefaults = Object.entries(\n  Object.getOwnPropertyDescriptors(lng.textures.TextTexture.prototype)\n).reduce((acc, [prop]) => {\n  const value = lng.textures.TextTexture.prototype[prop];\n  if (prop.startsWith('_') || ['undefined', 'function'].includes(typeof value))\n    return acc;\n  return {\n    [prop]: value,\n    ...acc\n  };\n}, {});\n\nexport default class TextBox extends Base {\n  static _template() {\n    return {\n      alpha: 0.001\n    };\n  }\n\n  static get __componentName() {\n    return 'TextBox';\n  }\n\n  static get __themeStyle() {\n    return styles;\n  }\n\n  static get tags() {\n    return ['InlineContent', 'Marquee', 'Text'];\n  }\n\n  static get properties() {\n    return [\n      ...InlineContent.properties,\n      'content',\n      'fixed',\n      'marquee',\n      'marqueeProps',\n      'hideOnLoad'\n    ];\n  }\n\n  _setDimensions(w, h) {\n    let width = w;\n    let height = h;\n    if (!this._isInlineContent) {\n      width = this._Text.texture.getRenderWidth();\n      height = this._Text.texture.getRenderHeight();\n    }\n\n    const sizeChanged = this.w !== width || this.h !== height;\n\n    if (width && height && sizeChanged) {\n      this.h = height;\n      if (!this.fixed) {\n        this.w = width;\n      }\n\n      // Position updates can produce flash of poorly positioned content, hide the element until measurements are made.\n      if (!this.hideOnLoad && this.alpha < 1) {\n        this.alpha = 1;\n      }\n\n      this._notifyAncestors();\n    }\n  }\n\n  _setContent(content) {\n    this._isInlineContent = false;\n    if (Array.isArray(content) || utils.isMarkupString(content)) {\n      this._isInlineContent = true;\n    }\n    if ('string' !== typeof content && !this._isInlineContent) {\n      return '';\n    }\n    return content;\n  }\n\n  get title() {\n    return this._content;\n  }\n\n  _notifyAncestors(w = this.w, h = this.h) {\n    this.fireAncestors('$itemChanged');\n    this.signal('textBoxChanged', { w, h });\n  }\n\n  _construct() {\n    super._construct();\n    this._marqueeContentListenerAttached = false;\n    this._marqueeOverrideLoopX = undefined;\n    this._resetMarqueePromise();\n  }\n\n  _update() {\n    if (!this.content) {\n      // If content is not defined hide the component, but do NOT set visibility\n      // as a parent component may need to control that (i.e. Control Button)\n\n      // guard to make sure _notifyAncestors is not called numerous times for components like Input\n      if (this._Text || this._InlineContent) {\n        this.w = this.h = 0;\n        this._notifyAncestors(); // need to alert parents that the width and height are now 0\n        // makes sure that elements are removed\n        this._updateMarquee();\n        this.patch({ Text: undefined, InlineContent: undefined });\n      }\n\n      return;\n    }\n    this._isInlineContent ? this._updateInlineContent() : this._updateText();\n    this._updateMarquee();\n  }\n\n  _updateInlineContent() {\n    this.patch({ Text: undefined });\n\n    const inlineContentPatch = InlineContent.properties.reduce(\n      (acc, prop) => {\n        if (this[prop] != undefined) {\n          acc[prop] = this[prop];\n        }\n        return acc;\n      },\n      // ensure all styles are passed down as well\n      {\n        style: {\n          ...this.style,\n          textStyle: this._textStyleSet\n        }\n      }\n    );\n\n    if (this._textStyleSet.wordWrapWidth) {\n      inlineContentPatch.w = this._textStyleSet.wordWrapWidth;\n      inlineContentPatch.rtt = true;\n    }\n    if (this._textStyleSet.maxLines) {\n      inlineContentPatch.maxLines = this._textStyleSet.maxLines;\n    }\n    if (this._textStyleSet.maxLinesSuffix) {\n      inlineContentPatch.maxLinesSuffix = this._textStyleSet.maxLinesSuffix;\n    }\n\n    this.patch({\n      alpha: 1,\n      InlineContent: {\n        type: InlineContent,\n        w: this.w,\n        ...inlineContentPatch,\n        signals: {\n          loadedInlineContent: '_setDimensions'\n        }\n      }\n    });\n  }\n\n  _updateText() {\n    this.patch({ InlineContent: undefined });\n\n    if (!this._Text) {\n      this.patch({ Text: {} });\n      this._Text.on('txLoaded', this._setDimensions.bind(this));\n    }\n\n    const fontStyle = this._textStyleSet;\n\n    if (this._Text) {\n      this._Text.patch({\n        y: this.style.offsetY,\n        x: this.style.offsetX,\n        text: {\n          ...lightningTextDefaults, // order matters this should always be first\n          ...fontStyle\n        }\n      });\n    }\n  }\n\n  // keep this out of the update lifecycle\n  set marqueeOverrideLoopX(v) {\n    this._marqueeOverrideLoopX = v;\n    if (this._Marquee) this._Marquee.overrideLoopX = this._marqueeOverrideLoopX;\n    this._resolveAwaitMarqueeOverrideX();\n  }\n\n  get marqueeOverrideLoopX() {\n    return this._marqueeOverrideLoopX;\n  }\n\n  _resetMarqueePromise() {\n    this._awaitMarqueeOverrideX = new Promise((resolve, reject) => {\n      this._resolveAwaitMarqueeOverrideX = resolve;\n      this._rejectAwaitMarqueeOverrideX = reject;\n    });\n  }\n\n  _loadedMarqueeContent() {\n    this.signal('willMarquee', this._Marquee);\n  }\n\n  _updateMarquee() {\n    if (this._Marquee && !this.marquee) {\n      this._toggleMarquee(this._contentTag);\n    }\n\n    if (this.marquee) {\n      this._resetMarqueePromise();\n      const marqueePatch = {\n        ...this.marqueeProps,\n        w: this._textStyleSet.wordWrapWidth || this.w,\n        h: this.h,\n        y: this.style.offsetY,\n        x: this.style.offsetX,\n        signals: {\n          marqueeContentLoaded: '_loadedMarqueeContent'\n        }\n      };\n\n      if (!this._Marquee) {\n        marqueePatch.type = Marquee;\n      }\n\n      if (this._isInlineContent) {\n        this._InlineContent.w = 0; // ensure we're copying the full, unwrapped inlineContent\n        marqueePatch.title = undefined;\n        marqueePatch.contentTexture = this._contentTag.getTexture();\n        marqueePatch.w = this._textStyleSet.wordWrapWidth || this.w;\n      } else {\n        marqueePatch.contentTexture = undefined;\n        marqueePatch.title = {\n          text: this._contentTag.text.text,\n          ...this._textStyleSet,\n          wordWrapWidth: 0, // ensures that the text will marquee and not wrap\n          maxLines: 1\n        };\n      }\n\n      this.patch({\n        Marquee: marqueePatch\n      });\n      if (!this._marqueeContentListenerAttached) {\n        this._marqueeContentListenerAttached = true;\n      }\n      if ('undefined' !== typeof this._marqueeOverrideLoopX) {\n        this._awaitMarqueeOverrideX.then(() => {\n          this._toggleMarquee(this._contentTag);\n        });\n      } else {\n        this._toggleMarquee(this._contentTag);\n      }\n    }\n  }\n\n  _getMarqueeProps() {\n    return this._marqueeProps ?? {};\n  }\n\n  get _textStyleSet() {\n    const fontStyle = {\n      ...this.theme.typography.body1,\n      ...(null !== this.style.textStyle &&\n      'object' === typeof this.style.textStyle &&\n      Object.keys(this.style.textStyle)\n        ? this.style.textStyle\n        : this.theme.typography[this.style.textStyle])\n    };\n\n    this.constructor.properties.forEach(prop => {\n      if ('fontStyle' !== prop && 'undefined' !== typeof this[`_${prop}`]) {\n        const key = 'content' === prop ? 'text' : prop;\n        fontStyle[key] = this[`_${prop}`];\n      }\n    });\n\n    if (\n      this.w &&\n      !this._isInlineContent &&\n      !this.style.textStyle.wordWrapWidth &&\n      this.fixed\n    ) {\n      fontStyle.wordWrapWidth = this.w;\n    }\n\n    return fontStyle;\n  }\n\n  get _contentTag() {\n    return this._isInlineContent ? this._InlineContent : this._Text;\n  }\n\n  _toggleMarquee(contentTag) {\n    // do not just return if there is no contentTag, we may still need to alpha the Marquee\n    if (this.marquee) {\n      if (contentTag) {\n        contentTag.alpha = 0.001;\n      }\n      if (this._Marquee) {\n        this._Marquee.alpha = 1;\n        this._Marquee.startScrolling();\n      }\n    } else {\n      if (contentTag) {\n        contentTag.alpha = 1;\n      }\n      if (this._Marquee) {\n        this._Marquee.alpha = 0.001;\n        this._Marquee.stopScrolling();\n      }\n    }\n  }\n\n  toggleMarquee() {\n    this._toggleMarquee(this._contentTag);\n  }\n\n  get announce() {\n    return (\n      this._announce ||\n      (this._isInlineContent && this._InlineContent\n        ? this._InlineContent.announce\n        : this.content)\n    );\n  }\n\n  set announce(announce) {\n    super.announce = announce;\n  }\n\n  set smooth(v) {\n    context.warn(\n      'warning: value smoothing is known to cause bugs with the TextBox - patch updated values instead.'\n    );\n    super.smooth = v;\n  }\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport logger from './logger';\nclass Metrics {\n  constructor() {\n    this._keyMetricsCallback = undefined;\n  }\n\n  get keyMetricsCallback() {\n    return this._keyMetricsCallback;\n  }\n\n  set keyMetricsCallback(value) {\n    if (-1 < ['undefined', 'function'].indexOf(typeof value)) {\n      this._keyMetricsCallback = value;\n      return;\n    }\n    logger.warn(\n      `context keyMetricsCallback expected a function. Received ${typeof value}`\n    );\n  }\n}\n\nconst metricsInstance = new Metrics();\n\nexport { metricsInstance as default, Metrics };\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport lng from '@lightningjs/core';\n\nconst eventEmitterInstance = new lng.EventEmitter();\n\nexport default eventEmitterInstance;\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport default {\n  name: 'Base Lightning TV',\n  alpha: {\n    primary: 1,\n    secondary: 0.7,\n    tertiary: 0.1,\n    inactive: 0.5,\n    full: 1,\n    none: 0,\n    alpha1: 0.1,\n    alpha2: 0.3,\n    alpha3: 0.5,\n    alpha4: 0.7,\n    alpha5: 0.9\n  },\n  animation: {\n    duration: {\n      none: 0,\n      xfast: 0.1,\n      fast: 0.25,\n      normal: 0.5,\n      slow: 0.75,\n      xslow: 0.9\n    },\n    delay: {\n      none: 0,\n      xfast: 0.01,\n      fast: 0.025,\n      normal: 0.05,\n      slow: 0.075,\n      xslow: 0.09\n    },\n    expressive: {\n      timingFunction: 'cubic-bezier(0, 0, 1, 1)',\n      delay: 0,\n      duration: 0.25\n    },\n    expressiveEntrance: {\n      timingFunction: 'cubic-bezier(0, 0, 1, 1)',\n      delay: 0,\n      duration: 0.25\n    },\n    expressiveExit: {\n      timingFunction: 'cubic-bezier(0, 0, 1, 1)',\n      delay: 0,\n      duration: 0.25\n    },\n    standard: {\n      timingFunction: 'cubic-bezier(0, 0, 1, 1)',\n      delay: 0,\n      duration: 0.25\n    },\n    standardEntrance: {\n      timingFunction: 'cubic-bezier(0, 0, 1, 1)',\n      delay: 0,\n      duration: 0.25\n    },\n    standardExit: {\n      timingFunction: 'cubic-bezier(0, 0, 1, 1)',\n      delay: 0,\n      duration: 0.25\n    },\n    utility: {\n      timingFunction: 'cubic-bezier(0, 0, 1, 1)',\n      delay: 0,\n      duration: 0.25\n    },\n    utilityEntrance: {\n      timingFunction: 'cubic-bezier(0, 0, 1, 1)',\n      delay: 0,\n      duration: 0.25\n    },\n    utilityExit: {\n      timingFunction: 'cubic-bezier(0, 0, 1, 1)',\n      delay: 0,\n      duration: 0.25\n    }\n  },\n  asset: {\n    arrowLeft:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAAi0lEQVRIDWNgGAWjIfD//38JID5Fk5AAGqwKxPeA+D/VLQCaaQLEr0CGgwBVLQCa5wbEn0EGwwDVLAAaGA3Ev2AGw2iqWAA0rBiI/8EMRaYptgBoWDeygehsci1gIlcjWfqArqZdEMFcBLSEdpGMZAntkimSJbTLaEiW0K6oQLKEdoUdzJJRemiHAAD4n+yzPWCs7QAAAABJRU5ErkJggg==',\n    arrowRight:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAAg0lEQVRIDWNgGAWjIYArBP7//38KiCVwyVMsDjQcBO4BsSrFhmEzAGw8hHgFpEywqaFIDMkCEPMzELtRZCC6ZjQLQNxfQByNro5sPhYLQEL/gLiYbEORNeKwACbcDVPLBGMMOhrmVDSapkFE00imaTKlaUajaVFB28Ju0CXrUQfhDAEAEgHss6NhpLQAAAAASUVORK5CYII=',\n    backspaceOutline:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAACmpJREFUeF7tnVmoZUcVhv/feY4gBEVEH/KgCCZxCK2itNo4xQQH+kUN0TjEiDGKKBqnaExwBjUaR6KY+NQgiQkOMSYhYEScIopGJOqDE2hHjfP0y4p1Oqdv33v2qr32Prv2Paug6Ye7Vu2qv75TtWvtGohMqUBAAQZ80zUVQAKUEIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypfPsAJJ0NYC92XRHKPB3AAfLv18BuBLAFSR/NKZWswJI0vkA3jCmILsw75sAvIfkR8eo22wAknQSgMvGEGFD8vwxgFeQvGrI+s4CIEnHAPgugHsMWfkNzevDAM4i+Z8h6t88QJLuXOB5yBAVzjxuVeBaAM8ieXNUjzkAdAmA50Yrmv5HKPATACeQ/GNEm6YBkvRyANblZhpHAXsfekpkOGsWIEmPAHA9gDuOo13mWhS4gOSZfdVoEiBJ9wFwA4D7961Y+lUpsK/v7KxVgL4K4ElOCS4l+Uyn7a41k3Q0gMcC2ANgH4CHV1T2OyStx69OzQEk6TwAZztr8lMAx5P8s9N+Y8wk2cTjfQDu66z080h+zml7yKwpgCSdCOByZyX+BuBRJH/otN84M0kWN/s0gOc4Kv8Nko922B1m0gxAkh4I4AcVwcL9JA/UVnjT7CXdHYD9yEzfVUkAjib5uxqNmgCoBAu/CeBhzsJ/kORZTtuNN5Nk70bXAZ0Hy59G8qIawVoB6LMAnu8suE3tH0/y3077NAMg6esAuoaoC0la7M2dJgdI0ssAXOgs8W8BHEvS/s9UoYCkdwN4bYfL5STto7U7TQpQZbDQehzreawHylSpgKSTAVza4XYDyeNqsp4MoB7BwteQfH9N5dL2NgWK3l0vyAdJWhDXnSYBSNLtANh3GO/KwgMk97trlYbbKiDJPpzea5U8JKuYqDIeql0kvQPAG5352ZLMR5L8q9M+zXZQYFcAJOnJAL7sbGWLMFuk2SLOmYIKzB6gEiz8HoB7O7U4meQXnLZp1qGApD8BuOcsh7AewcL3kuyadg4OjSSbhRxH0j4BjJok2Ufga0j+YdQHlcznDlBNsPAa+xpP8r/rEHbxjAKPbRuyHvKFY0Ik6QUALOprPfIT1gHRbAGSdDoA77aSX5Zg4e8nhGfx6FEgWoJn8Zy1QCTplq5vjc3NwnoEC/eQ/HYD8IwC0TbwrA2i2QHUI1h4JskLGoJnUIhWwLMWiGYFkCSLMX2t5WDhlneeLm5Dw5kDntEhkmRhEVvesWNqZgiTdC6AN3W1Svn72oOFkuxF+WcVIQUrai+IKuA5BBHJ453auc1mA1AJFn7Jsf7EKj9ZsLBHw1ZDtI5neAmaBUBzCxaO2cBj5u2FZtlO0l8A3K3ZIaxHsPB8kt5vYn00c/mM0dBj5OmqzAqjOQDUfLBwJ32HbPAh84pCM5seSNJLAHzcWeFJgoVdZRui4YfIo6ucff8uyVY03LW5IawyWPgvW5u77mChV/QIABFfb/kidk0CVKbDth3Huw35dJLeniqiV2/fniDYx1f7vlWTeoUFah6wZQhrqwcqwUKbrtsaH0+6mOQpHsOpbXpCVFPstcJjBZNkmzHv0swQJultAN7iVO375TyafzjtJzcbEaK1w9McQJXBQlvvYmtsfjE5FZUFGAGiSeBpCqDKYKFtmX0qya9Utl0z5gNCNBk8BSA7CtiODNwxjf4trEew8BySNtTNOg0A0aTwtARQTbDQeh3rfawXmn0KQDQ5PC0B9EkAL3LSkAD9X6hWALIJzJ3mNoSdS9I7U3NyuX6zQO+zKOzkEEmaHqDSFdpZM97tOfkSfRvvk0LUDEAFIgseetf85DS+AYgk/bPr1NvRZ2HLg4ektwI4xzmgZCBxYohaBMjWPeenDOcvaIvZ2oez5gAqQ5mtLbb3oa4z+Bb6nTHW1UP92vFIr54vzJ8BcGplGdYKkSRbCXGHSWdh2z1ckp1taGccroxyFt9cznG4iGuDqFmASk9kZxxakNGTckHZBBA1DVCB6BMAXuwhyA4VmGL/+05l6zlsbdt7DJmXU0uXmSQ7JvD2zQ1hiwJJsotRvlVxXO87SU5+heUYDT5Gni5KVhg1D1DphWqCjOYy6RlAYzb0mHn3gWkWABWIaoKMubHwSBpGebGWZNdc2vmUO6a1BhJXFUSSff/yLuOYamvzzwEcVfFr7tWwPXqi6uN2PXWYG0C1Qca1n8RaDlewl3kPRL3gWXo/XBwo1dXWdk/a3jEOnJoVQGUoqw0yvpLkh7oUHvLvTohC8FRANBo8pT3sxLeVJ/M2M4QtiVYTZJzkNPoOiAaBxwHRqPDMFqBS8Jog4yT3YewA0aDwrIBodHhmDVApvG0mtO3PnjTJjTxbIBoFnm0gWgs8pQ06lxY3N4QtCWZBRgPDezdnHvPr+alV2EiaL0DlF2Dbn20bdB40XtHwQ5nOHqAC0SyCjEM1Wkv57AqACkRvBvB2p7hrDzI6yzU7s90EUPNBxtnR4SjwrgGo9EK1Qca8cM4ByU4mkuz++F93ZHELyZX3iW31n+S+sKWZWfNBxkCbNeUq6ekArugo1I0kH1xT8EkBKj1R80HGGkFbtZVkZ3bb2d2r0tUkn1hTh8kBKhB9DMBLnQWfJMjoLFuTZpJsO/ONAB7UUcBLSHqvX781q1YAqg0yfoDkq5psrQYLJeldAF7nKFr1x+wmACq9kAUZLazvvTV4P8kDDlE22kTSQ4uuK9dCF5HuR/I3NYI1A1CBaB+AK50VsAMj7TJeixNl2kYBSccCsB/ZMQ6Brif5GIfdYSZNAVQg8rzsLSphl/Hapby2LDZTUaBcq/56ALb1fOVxLkuinULy4loRmwOoQGQX7T7DWZnPk3y203bXmkl6AIA91isDOBGADV3e1HsJbasA1QYZvUKl3fYKPI2knXFQnZoEqPRCNUHG6oqnwyEFLiJ5Wl89mgWoQFQTZOyrwSb7WUztcSRtu0+v1DRABaKPADijV+3SaZUCNgE5geTNEZnmAFBtkDGix6b4Xld2BNvJcaHUPEClF6oNMoZE2eXOtm3q1ZFha1mfWQBUINoL4Kqurbm7vPEj1bOAqx3udW0kk62+swGoQHQ2gPOGFGAD8roJgF0t+qkx6jorgApElwE4aQwxZp6n3YNxsPyzA7yst/4iSdvEMFqaHUCjKZEZ91IgAeolWzotFEiAkoWQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnT+H0jPT81J3xWWAAAAAElFTkSuQmCC',\n    check:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOCAYAAAAi2ky3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACtSURBVHgBvdPdDcIgEAfwoy8Nb45QN3AGF2s36Ahu4gpuIDoBfSgfpdoTlCbEWEMh6T8hFzjyg5AAkBHOcQe5UWqspRx435sDpMYj6IYQwwVSEiJ2MKVUBWuzLSLl2HL+uxmNCGFO8yaL7RHxve6qRZoAuS4hxac8735elWVx7jrtMKL1o0Gcat9jhExHSukN/kUIFZ7MpDRtzE1isDRkAUtDvrA8ZI597FUf8gWH9P0b4gko9wAAAABJRU5ErkJggg=='\n  },\n  color: {\n    white: ['#ffffff', 1],\n    black: ['#000000', 1],\n    grey: ['#929096', 1],\n    red: ['#e74c3c', 1],\n    orange: ['#dc7633', 1],\n    yellow: ['#f7dc6f', 1],\n    green: ['#2Ecc71', 1],\n    blue: ['#93a9fd', 1],\n    purple: ['#663399', 1],\n    palette: {\n      'grey-05': ['#f8f7fa', 1],\n      'grey-40': ['#929096', 1],\n      'grey-70': ['#48474b', 1],\n      'grey-90': ['#181819', 1],\n      'blue-20': ['#becffe', 1],\n      'blue-40': ['#93a9fd', 1],\n      'blue-90': ['#000033', 1]\n    },\n    material: ['#181819', 1],\n    materialBrand: ['#000033', 1],\n    overlay: ['#181819', 0.7],\n    textNeutral: ['#f8f7fa', 1],\n    textNeutralSecondary: ['#f8f7fa', 0.7],\n    textNeutralTertiary: ['#f8f7fa', 0.1],\n    textNeutralDisabled: ['#f8f7fa', 0.5],\n    textInverse: ['#181819', 1],\n    textInverseSecondary: ['#181819', 0.7],\n    textInverseTertiary: ['#181819', 0.1],\n    textInverseDisabled: ['#181819', 0.5],\n    textBrand: ['#93a9fd', 1],\n    textBrandSecondary: ['#93a9fd', 0.7],\n    textBrandTertiary: ['#93a9fd', 0.1],\n    textBrandDisabled: ['#93a9fd', 0.5],\n    textPositive: ['#2Ecc71', 1],\n    textNegative: ['#e74c3c', 1],\n    textInfo: ['#93a9fd', 1],\n    textCaution: ['#dc7633', 1],\n    fillTransparent: ['#ffffff', 0],\n    fillNeutral: ['#f8f7fa', 1],\n    fillNeutralSecondary: ['#f8f7fa', 0.7],\n    fillNeutralTertiary: ['#f8f7fa', 0.1],\n    fillNeutralDisabled: ['#f8f7fa', 0.5],\n    fillInverse: ['#181819', 1],\n    fillInverseSecondary: ['#181819', 0.7],\n    fillInverseTertiary: ['#181819', 0.1],\n    fillInverseDisabled: ['#181819', 0.5],\n    fillBrand: ['#93a9fd', 1],\n    fillBrandSecondary: ['#93a9fd', 0.7],\n    fillBrandTertiary: ['#93a9fd', 0.1],\n    fillBrandDisabled: ['#93a9fd', 0.5],\n    fillPositive: ['#2Ecc71', 1],\n    fillNegative: ['#e74c3c', 1],\n    fillInfo: ['#93a9fd', 1],\n    fillCaution: ['#dc7633', 1],\n    strokeNeutral: ['#f8f7fa', 1],\n    strokeNeutralSecondary: ['#f8f7fa', 0.7],\n    strokeNeutralTertiary: ['#f8f7fa', 0.1],\n    strokeNeutralDisabled: ['#f8f7fa', 0.5],\n    strokeInverse: ['#181819', 1],\n    strokeInverseSecondary: ['#181819', 0.7],\n    strokeInverseTertiary: ['#181819', 0.1],\n    strokeInverseDisabled: ['#181819', 0.5],\n    strokeBrand: ['#93a9fd', 1],\n    strokeBrandSecondary: ['#93a9fd', 0.7],\n    strokeBrandTertiary: ['#93a9fd', 0.1],\n    strokeBrandDisabled: ['#93a9fd', 0.5],\n    strokePositive: ['#2Ecc71', 1],\n    strokeNegative: ['#e74c3c', 1],\n    strokeInfo: ['#93a9fd', 1],\n    strokeCaution: ['#dc7633', 1],\n    interactiveNeutral: ['#ffffff', 0.1],\n    interactiveNeutralFocus: ['#ffffff', 1],\n    interactiveNeutralFocusSoft: ['#ffffff', 0.1],\n    interactiveInverse: ['#48474b', undefined],\n    interactiveInverseFocus: ['#48474b', 1],\n    interactiveInverseFocusSoft: ['#48474b', 0.1],\n    interactiveBrand: ['#becffe', 0.1],\n    interactiveBrandFocus: ['#becffe', 1],\n    interactiveBrandFocusSoft: ['#becffe', 0.1],\n    shadowNeutral: ['#000000', 0.7],\n    shadowNeutralFocus: ['#000000', 0.7],\n    shadowNeutralFocusSoft: ['#000000', 0.7],\n    shadowNeutralText: ['#000000', 1],\n    shadowInverse: ['#000000', 0.7],\n    shadowInverseFocus: ['#000000', 0.7],\n    shadowInverseFocusSoft: ['#000000', 0.7],\n    shadowInverseText: ['#000000', 1],\n    shadowBrand: ['#000000', 0.7],\n    shadowBrandFocus: ['#000000', 0.7],\n    shadowBrandFocusSoft: ['#000000', 0.7],\n    shadowBrandText: ['#000000', 1]\n  },\n  componentConfig: {\n    Keyboard: {\n      style: {\n        keyProps: {\n          delete: {\n            title: null,\n            icon: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAYAAADnRuK4AAAAAXNSR0IArs4c6QAACmpJREFUeF7tnVmoZUcVhv/feY4gBEVEH/KgCCZxCK2itNo4xQQH+kUN0TjEiDGKKBqnaExwBjUaR6KY+NQgiQkOMSYhYEScIopGJOqDE2hHjfP0y4p1Oqdv33v2qr32Prv2Paug6Ye7Vu2qv75TtWvtGohMqUBAAQZ80zUVQAKUEIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypXMClAyEFEiAQvKlcwKUDIQUSIBC8qVzApQMhBRIgELypfPsAJJ0NYC92XRHKPB3AAfLv18BuBLAFSR/NKZWswJI0vkA3jCmILsw75sAvIfkR8eo22wAknQSgMvGEGFD8vwxgFeQvGrI+s4CIEnHAPgugHsMWfkNzevDAM4i+Z8h6t88QJLuXOB5yBAVzjxuVeBaAM8ieXNUjzkAdAmA50Yrmv5HKPATACeQ/GNEm6YBkvRyANblZhpHAXsfekpkOGsWIEmPAHA9gDuOo13mWhS4gOSZfdVoEiBJ9wFwA4D7961Y+lUpsK/v7KxVgL4K4ElOCS4l+Uyn7a41k3Q0gMcC2ANgH4CHV1T2OyStx69OzQEk6TwAZztr8lMAx5P8s9N+Y8wk2cTjfQDu66z080h+zml7yKwpgCSdCOByZyX+BuBRJH/otN84M0kWN/s0gOc4Kv8Nko922B1m0gxAkh4I4AcVwcL9JA/UVnjT7CXdHYD9yEzfVUkAjib5uxqNmgCoBAu/CeBhzsJ/kORZTtuNN5Nk70bXAZ0Hy59G8qIawVoB6LMAnu8suE3tH0/y3077NAMg6esAuoaoC0la7M2dJgdI0ssAXOgs8W8BHEvS/s9UoYCkdwN4bYfL5STto7U7TQpQZbDQehzreawHylSpgKSTAVza4XYDyeNqsp4MoB7BwteQfH9N5dL2NgWK3l0vyAdJWhDXnSYBSNLtANh3GO/KwgMk97trlYbbKiDJPpzea5U8JKuYqDIeql0kvQPAG5352ZLMR5L8q9M+zXZQYFcAJOnJAL7sbGWLMFuk2SLOmYIKzB6gEiz8HoB7O7U4meQXnLZp1qGApD8BuOcsh7AewcL3kuyadg4OjSSbhRxH0j4BjJok2Ufga0j+YdQHlcznDlBNsPAa+xpP8r/rEHbxjAKPbRuyHvKFY0Ik6QUALOprPfIT1gHRbAGSdDoA77aSX5Zg4e8nhGfx6FEgWoJn8Zy1QCTplq5vjc3NwnoEC/eQ/HYD8IwC0TbwrA2i2QHUI1h4JskLGoJnUIhWwLMWiGYFkCSLMX2t5WDhlneeLm5Dw5kDntEhkmRhEVvesWNqZgiTdC6AN3W1Svn72oOFkuxF+WcVIQUrai+IKuA5BBHJ453auc1mA1AJFn7Jsf7EKj9ZsLBHw1ZDtI5neAmaBUBzCxaO2cBj5u2FZtlO0l8A3K3ZIaxHsPB8kt5vYn00c/mM0dBj5OmqzAqjOQDUfLBwJ32HbPAh84pCM5seSNJLAHzcWeFJgoVdZRui4YfIo6ucff8uyVY03LW5IawyWPgvW5u77mChV/QIABFfb/kidk0CVKbDth3Huw35dJLeniqiV2/fniDYx1f7vlWTeoUFah6wZQhrqwcqwUKbrtsaH0+6mOQpHsOpbXpCVFPstcJjBZNkmzHv0swQJultAN7iVO375TyafzjtJzcbEaK1w9McQJXBQlvvYmtsfjE5FZUFGAGiSeBpCqDKYKFtmX0qya9Utl0z5gNCNBk8BSA7CtiODNwxjf4trEew8BySNtTNOg0A0aTwtARQTbDQeh3rfawXmn0KQDQ5PC0B9EkAL3LSkAD9X6hWALIJzJ3mNoSdS9I7U3NyuX6zQO+zKOzkEEmaHqDSFdpZM97tOfkSfRvvk0LUDEAFIgseetf85DS+AYgk/bPr1NvRZ2HLg4ektwI4xzmgZCBxYohaBMjWPeenDOcvaIvZ2oez5gAqQ5mtLbb3oa4z+Bb6nTHW1UP92vFIr54vzJ8BcGplGdYKkSRbCXGHSWdh2z1ckp1taGccroxyFt9cznG4iGuDqFmASk9kZxxakNGTckHZBBA1DVCB6BMAXuwhyA4VmGL/+05l6zlsbdt7DJmXU0uXmSQ7JvD2zQ1hiwJJsotRvlVxXO87SU5+heUYDT5Gni5KVhg1D1DphWqCjOYy6RlAYzb0mHn3gWkWABWIaoKMubHwSBpGebGWZNdc2vmUO6a1BhJXFUSSff/yLuOYamvzzwEcVfFr7tWwPXqi6uN2PXWYG0C1Qca1n8RaDlewl3kPRL3gWXo/XBwo1dXWdk/a3jEOnJoVQGUoqw0yvpLkh7oUHvLvTohC8FRANBo8pT3sxLeVJ/M2M4QtiVYTZJzkNPoOiAaBxwHRqPDMFqBS8Jog4yT3YewA0aDwrIBodHhmDVApvG0mtO3PnjTJjTxbIBoFnm0gWgs8pQ06lxY3N4QtCWZBRgPDezdnHvPr+alV2EiaL0DlF2Dbn20bdB40XtHwQ5nOHqAC0SyCjEM1Wkv57AqACkRvBvB2p7hrDzI6yzU7s90EUPNBxtnR4SjwrgGo9EK1Qca8cM4ByU4mkuz++F93ZHELyZX3iW31n+S+sKWZWfNBxkCbNeUq6ekArugo1I0kH1xT8EkBKj1R80HGGkFbtZVkZ3bb2d2r0tUkn1hTh8kBKhB9DMBLnQWfJMjoLFuTZpJsO/ONAB7UUcBLSHqvX781q1YAqg0yfoDkq5psrQYLJeldAF7nKFr1x+wmACq9kAUZLazvvTV4P8kDDlE22kTSQ4uuK9dCF5HuR/I3NYI1A1CBaB+AK50VsAMj7TJeixNl2kYBSccCsB/ZMQ6Brif5GIfdYSZNAVQg8rzsLSphl/Hapby2LDZTUaBcq/56ALb1fOVxLkuinULy4loRmwOoQGQX7T7DWZnPk3y203bXmkl6AIA91isDOBGADV3e1HsJbasA1QYZvUKl3fYKPI2knXFQnZoEqPRCNUHG6oqnwyEFLiJ5Wl89mgWoQFQTZOyrwSb7WUztcSRtu0+v1DRABaKPADijV+3SaZUCNgE5geTNEZnmAFBtkDGix6b4Xld2BNvJcaHUPEClF6oNMoZE2eXOtm3q1ZFha1mfWQBUINoL4Kqurbm7vPEj1bOAqx3udW0kk62+swGoQHQ2gPOGFGAD8roJgF0t+qkx6jorgApElwE4aQwxZp6n3YNxsPyzA7yst/4iSdvEMFqaHUCjKZEZ91IgAeolWzotFEiAkoWQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnROgJKBkAIJUEi+dE6AkoGQAglQSL50ToCSgZACCVBIvnT+H0jPT81J3xWWAAAAAElFTkSuQmCC'\n          }\n        }\n      }\n    }\n  },\n  font: [],\n  layout: {\n    columnCount: 10,\n    focusScale: 1.2,\n    gutterX: 20,\n    gutterY: 20,\n    marginX: 150,\n    marginY: 150,\n    safe: 50,\n    screenW: 1920,\n    screenH: 1080\n  },\n  radius: { none: 0, xs: 2, sm: 4, md: 8, lg: 16, xl: 24 },\n  spacer: {\n    none: 0,\n    xxs: 2,\n    xs: 4,\n    sm: 8,\n    md: 10,\n    lg: 20,\n    xl: 30,\n    xxl: 40,\n    xxxl: 50\n  },\n  stroke: { none: 0, sm: 2, md: 4, lg: 6, xl: 8 },\n  typography: {\n    display1: {\n      fontFamily: 'Arial',\n      fontSize: 75,\n      lineHeight: 85,\n      fontStyle: '500',\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    display2: {\n      fontFamily: 'Arial',\n      fontSize: 50,\n      lineHeight: 60,\n      fontStyle: '500',\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    headline1: {\n      fontFamily: 'Arial',\n      fontSize: 35,\n      fontStyle: '500',\n      lineHeight: 48,\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    headline2: {\n      fontFamily: 'Arial',\n      fontSize: 30,\n      fontStyle: '500',\n      lineHeight: 40,\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    headline3: {\n      fontFamily: 'Arial',\n      fontSize: 25,\n      fontStyle: '500',\n      lineHeight: 36,\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    body1: {\n      fontFamily: 'Arial',\n      fontSize: 25,\n      fontStyle: '300',\n      lineHeight: 40,\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    body2: {\n      fontFamily: 'Arial',\n      fontSize: 22,\n      fontStyle: '300',\n      lineHeight: 32,\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    body3: {\n      fontFamily: 'Arial',\n      fontSize: 20,\n      fontStyle: '300',\n      lineHeight: 32,\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    button1: {\n      fontFamily: 'Arial',\n      fontSize: 25,\n      fontStyle: '500',\n      lineHeight: 32,\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    button2: {\n      fontFamily: 'Arial',\n      fontSize: 20,\n      fontStyle: '500',\n      lineHeight: 32,\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    callout1: {\n      fontFamily: 'Arial',\n      fontSize: 20,\n      fontStyle: '500',\n      lineHeight: 32,\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    caption1: {\n      fontFamily: 'Arial',\n      fontSize: 15,\n      fontStyle: '500',\n      lineHeight: 24,\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    tag1: {\n      fontFamily: 'Arial',\n      fontSize: 20,\n      fontStyle: '500',\n      lineHeight: 24,\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    },\n    footnote1: {\n      fontFamily: 'Arial',\n      fontSize: 22,\n      fontStyle: '300',\n      lineHeight: 30,\n      verticalAlign: 'middle',\n      textBaseline: 'bottom'\n    }\n  }\n};\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport logger from './logger';\n\nlet customFontFaces = [];\n\n/**\n * Function to get a list of all custom fonts that have been loaded using the FontFace Web API from the theme\n * @return {Array}\n */\nexport function getCustomFontFaces() {\n  return customFontFaces;\n}\n\n/**\n * Function to load all the fonts from the theme\n */\nexport const fontLoader = fonts => {\n  const promises = [];\n  // Loop through all fonts in the array and attempt to load them using the FontFace Web API\n  for (let i = 0; i < fonts.length; i++) {\n    const { family, src, descriptors } = fonts[i];\n    // If url(s) are specified format them according to the spec https://developer.mozilla.org/en-US/docs/Web/API/FontFace\n    const fontSrc =\n      src && Array.isArray(src) && src.length\n        ? // loop through each string and format it in a way that's readable for the FontFace API\n          src\n            .map(url => {\n              // if the url is a local font then the src is just the string provided in the array\n              // otherwise, format the url string like url(<urlString>)\n              return url.substr(0, 5) === 'local' ? url : `url(${url})`; // Local system fonts are supported by passing a string starting with local. ex local(Impact)\n            })\n            .join(',')\n        : 'url(' + src + ')';\n    const fontFace = new FontFace(family, fontSrc, descriptors || {});\n    logger.info('Loading font', family);\n    document.fonts.add(fontFace);\n    // Push all pending promises into an array, theme manager will wait on everything to resolve before triggering another update cycle\n    promises.push(\n      new Promise(resolve => {\n        fontFace\n          .load()\n          .then(() => {\n            customFontFaces.push(fontFace);\n            resolve(family);\n          })\n          .catch(err => {\n            resolve(new Error(`${family}: ${err.message}`)); // Even if a font fails to load resolve it with an error so the theme doesn't fail to update all other values\n          });\n      })\n    );\n  }\n  return Promise.all(promises).then(fontsLoaded => {\n    // After the promise has resolved log the appropriate success and error messages\n    const loaded = fontsLoaded\n      .filter(font => !(font instanceof Error))\n      .join(', ');\n\n    if (loaded) {\n      logger.log(`Fonts loaded: ${loaded}`);\n    }\n\n    const failed = fontsLoaded\n      .filter(font => font instanceof Error)\n      .map(item => item.message)\n      .join(', ');\n\n    if (failed) {\n      logger.error(`Unable to load fonts: ${failed}`);\n    }\n  });\n};\n\n/**\n * Async function to remove all the fonts loaded by the theme. Useful if a theme is switched at runtime\n */\nexport const cleanupFonts = async fonts => {\n  if (document.fonts && 'delete' in document.fonts) {\n    if (!customFontFaces.length) return;\n    customFontFaces = customFontFaces.filter(fontFace => {\n      if (!fonts.find(font => font.family === fontFace.family)) {\n        logger.info('Removing font', fontFace.family);\n        document.fonts.delete(fontFace);\n        return false;\n      } else {\n        return fontFace;\n      }\n    });\n  } else {\n    logger.info('Unable to remove manually-added fonts');\n  }\n};\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const THEME_KEY_REPLACER = {\n  fontFamily: 'fontFace'\n};\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  clone,\n  getValFromObjPath,\n  getHexColor,\n  getValidColor\n} from '../../utils/index';\nimport baseTheme from '@lightningjs/ui-components-theme-base';\nimport logger from './logger';\nimport events from './events';\nimport { fontLoader, cleanupFonts } from './fonts';\nimport { THEME_KEY_REPLACER } from './constants';\n\nconst merge = {\n  all: objArray => {\n    let result = {};\n    for (let i = 0; i < objArray.length; i++) {\n      result = clone(result, objArray[i]);\n    }\n    return result;\n  }\n};\n\nconst base64Cache = [];\n\nconst isSubTheme = themeName => 'subTheme' === themeName.slice(0, 8);\n\n/**\n * Extracts the MIME type from a Data URI.\n *\n * @param {string} dataUri - The Data URI string.\n * @returns {string|null} The extracted MIME type, or null if not found.\n */\nfunction getMimeTypeFromDataUri(dataUri) {\n  const matches = dataUri.match(/^data:(.*?);base64,/);\n  if (matches && matches.length === 2) {\n    return matches[1];\n  }\n  return null;\n}\n\n/**\n * Checks if a string represents a Base64-encoded image and extracts the MIME type.\n *\n * @param {string} str - The string to check.\n * @returns {{ isImage: boolean, mimeType: string|null }} An object indicating whether the string is an image and the extracted MIME type.\n */\nfunction checkBase64EncodedImage(str) {\n  const regex = /^data:image\\/(jpeg|jpg|png|gif);base64,/;\n  const isImage = regex.test(str);\n  const mimeType = isImage ? getMimeTypeFromDataUri(str.match(regex)[0]) : null;\n\n  return {\n    isImage,\n    mimeType\n  };\n}\n\n/**\n * Converts a Base64-encoded image to a Blob URL.\n * Note: Make sure to handle potential memory leaks caused by the browser's image caching.\n *\n * @param {string} base64String - The Base64-encoded image string.\n * @param {string} mimeType - The MIME type of the image.\n * @returns {string|null} The Blob URL representing the converted image, or null if conversion fails.\n */\nfunction base64ToBlobURL(base64String, mimeType) {\n  const byteCharacters = atob(\n    base64String.substring(base64String.indexOf(',') + 1)\n  );\n  const byteArrays = [];\n\n  try {\n    for (let offset = 0; offset < byteCharacters.length; offset += 512) {\n      const slice = byteCharacters.slice(offset, offset + 512);\n      const byteNumbers = new Array(slice.length);\n\n      for (let i = 0; i < slice.length; i++) {\n        byteNumbers[i] = slice.charCodeAt(i);\n      }\n\n      const byteArray = new Uint8Array(byteNumbers);\n      byteArrays.push(byteArray);\n    }\n\n    const blob = new Blob(byteArrays, { type: mimeType });\n    const blobURL = URL.createObjectURL(blob);\n\n    return blobURL;\n  } catch (error) {\n    logger.info('Unable to convert base64 image to URL');\n    return null;\n  }\n}\n\nclass ThemeManager {\n  constructor() {\n    this._cache = new Map();\n    if (typeof window === 'undefined') return;\n    if (!window.LUI) {\n      window.LUI = {};\n    }\n    if (!window.LUI.themeManagerInstances) {\n      window.LUI.themeManagerInstances = [{ themeManager: this, events }];\n    } else {\n      window.LUI.themeManagerInstances.push({ themeManager: this, events });\n    }\n  }\n\n  // Handle separate instances of context across the application and keep them in sync\n  _setCache(key, payload) {\n    if (typeof window === 'undefined') return;\n    window.LUI.themeManagerInstances.forEach(({ themeManager }) => {\n      if (themeManager) themeManager._cache.set(key, payload);\n    });\n  }\n\n  _deleteCache(key) {\n    if (typeof window === 'undefined') return;\n    window.LUI.themeManagerInstances.forEach(({ themeManager }) => {\n      if (themeManager) themeManager._cache.delete(key);\n    });\n  }\n\n  _emit(key, payload) {\n    if (typeof window === 'undefined') return;\n    window.LUI.themeManagerInstances.forEach(({ events }) => {\n      events.emit(key, payload);\n    });\n  }\n\n  getTheme() {\n    if (this._cache.has('theme')) {\n      return this._cache.get('theme');\n    }\n\n    const theme = this._processTheme.call(this);\n    this._setCache('theme', theme);\n    return theme;\n  }\n\n  async setTheme(themeConfig) {\n    let value;\n    if (Array.isArray(themeConfig)) {\n      value = merge.all(themeConfig);\n    } else {\n      value = themeConfig;\n    }\n\n    if ('object' !== typeof value || null === value) {\n      logger.warn(`context theme expected an object. Received ${typeof value}`);\n      return;\n    }\n\n    this._clearCache();\n    const theme = this._processTheme.call(this, [value], value.extensions);\n    this._setCache('theme', theme);\n    await cleanupFonts(theme.font);\n    if (theme.font && theme.font.length) {\n      await this._loadFonts(theme.font);\n    }\n    this._refreshSubThemes();\n    this._emit('themeExtensionsUpdate');\n    this._emit('themeUpdate'); // Notify components that an update cycle is required\n    return theme;\n  }\n\n  getSubTheme(subThemeName) {\n    if (this._cache.has(`subTheme${subThemeName}`)) {\n      return this._cache.get(`subTheme${subThemeName}`).result;\n    }\n    return;\n  }\n\n  async setSubTheme(subThemeName, value, triggerUpdate = true) {\n    if (!subThemeName) {\n      logger.warn('Sub theme name not specified');\n      return;\n    }\n    if ('string' !== typeof subThemeName) {\n      logger.warn(\n        `Sub theme name must be a string. Received an ${typeof subThemeName}`\n      );\n      return;\n    }\n    if ('object' !== typeof value || !Object.keys(value).length) {\n      logger.warn(\n        `Could not set subTheme ${subThemeName}, value should be an object with properties. Received an ${typeof value}`\n      );\n      return;\n    }\n    const globalTheme = this.getTheme();\n    const subTheme = this._processTheme.call(this, [globalTheme, value]);\n    if (subTheme.font && subTheme.font.length) {\n      await this._loadFonts(subTheme.font);\n    }\n    this._setCache(`subTheme${subThemeName}`, {\n      original: value,\n      result: subTheme\n    });\n\n    if (triggerUpdate) this._emit(`themeUpdate${subThemeName}`);\n    return subTheme;\n  }\n\n  _refreshSubThemes() {\n    // Triggered when global theme is updated\n    [...this._cache.keys()].forEach(key => {\n      if ('string' === typeof key && isSubTheme(key)) {\n        const cache = this._cache.get(key);\n        if (cache.original)\n          this.updateSubTheme(key.replace(/^subTheme/, ''), cache.original);\n      }\n    });\n  }\n\n  async _loadFonts(fontArray) {\n    try {\n      await fontLoader(fontArray);\n    } catch (err) {\n      logger.error(`Unable to load font: ${err}`);\n    }\n  }\n\n  /**\n   * Merge values with current theme\n   */\n  async updateTheme(themeConfig) {\n    let value;\n    if (Array.isArray(themeConfig)) {\n      value = merge.all(themeConfig);\n    } else {\n      value = themeConfig;\n    }\n\n    let currentTheme = {};\n\n    if (this._cache.has('theme')) {\n      currentTheme = this._cache.get('theme');\n    }\n    this._clearCache();\n    const theme = this._processTheme.call(\n      this,\n      [currentTheme, value],\n      value.extensions || currentTheme.extensions\n    );\n    this._setCache('theme', theme);\n    if (theme.font && theme.font.length) {\n      await this._loadFonts(theme.font);\n    }\n    this._refreshSubThemes();\n    if (value.extensions) this._emit('themeExtensionsUpdate');\n    this._emit('themeUpdate'); // Notify components that an update cycle is required\n    return theme;\n  }\n\n  _clearCache() {\n    // Clean up any base64 image that were converted to blobs using createObjectURL\n    base64Cache.filter(image => {\n      if (window.URL && typeof window.URL.revokeObjectURL === 'function')\n        URL.revokeObjectURL(image);\n      return false;\n    });\n\n    this._cache.forEach((value, key) => {\n      if ('string' !== typeof key || !isSubTheme(key)) {\n        this._deleteCache(key);\n      }\n    });\n    // Regenerate sub themes\n    this._cache.forEach((value, key) => {\n      if ('string' === typeof key && isSubTheme(key)) {\n        this.setSubTheme(key.replace('subTheme', ''), value.original, false); // Dont trigger the update...the parent theme will trigger\n      }\n    });\n  }\n\n  async updateSubTheme(subThemeName, value, triggerUpdate = true) {\n    if (!subThemeName) {\n      logger.warn('Sub theme name not specified');\n      return;\n    }\n    if ('object' !== typeof value || !Object.keys(value).length) {\n      logger.warn(\n        `Could not update subTheme ${subThemeName} due to invalid value`\n      );\n      return;\n    }\n\n    const globalTheme = this.getTheme();\n    let currentTheme = {};\n\n    if (this._cache.has(`subTheme${subThemeName}`)) {\n      currentTheme = this._cache.get(`subTheme${subThemeName}`).original;\n    }\n\n    const subTheme = this._processTheme.call(this, [\n      globalTheme,\n      currentTheme,\n      value\n    ]);\n\n    if (subTheme.font && subTheme.font.length) {\n      await this._loadFonts(subTheme.font);\n    }\n\n    this._setCache(`subTheme${subThemeName}`, {\n      original: clone(currentTheme, value),\n      result: subTheme\n    });\n\n    if (triggerUpdate) this._emit(`themeUpdate${subThemeName}`);\n\n    return subTheme;\n  }\n\n  removeSubTheme(subThemeName) {\n    if (this._cache.has(`subTheme${subThemeName}`)) {\n      this._deleteCache(`subTheme${subThemeName}`);\n    }\n    this._emit(`themeUpdate${subThemeName}`);\n  }\n\n  _getComponentUUID(id) {\n    return `componentStyle${id}`;\n  }\n\n  _processTheme(themeArray = [], extensions) {\n    if (!Array.isArray(themeArray)) {\n      throw new Error(\n        `context processTheme expected an array. Received ${typeof themeArray}`\n      );\n    }\n\n    const theme = merge.all([baseTheme, ...themeArray]);\n\n    // Parse all colors in theme\n    const themeFunctions = {};\n    const themeString = JSON.stringify(theme, (key, originalValue) => {\n      let value = originalValue;\n      // Replacer\n      if (value && typeof value === 'object') {\n        const replacement = originalValue;\n        for (var k in value) {\n          if (Object.hasOwnProperty.call(value, k) && THEME_KEY_REPLACER[k]) {\n            replacement[k && THEME_KEY_REPLACER[k]] = value[k];\n            delete replacement[k]; // Removes the original key that was replaced. example: fontFamily is replaced by fontFace so fontFamily is removed from the theme\n          }\n        }\n\n        value = replacement;\n      }\n      // Base64 encoded values can cause memory leaks convert to an image\n      const { isImage, mimeType } = checkBase64EncodedImage(value);\n      if (\n        window.URL &&\n        typeof window.URL.createObjectURL === 'function' &&\n        isImage\n      ) {\n        // base64Cache\n        try {\n          const blobURL = base64ToBlobURL(value, mimeType);\n          base64Cache.push(blobURL);\n          return blobURL;\n        } catch (error) {\n          return value;\n        }\n      }\n\n      if (\n        Array.isArray(value) &&\n        2 === value.length &&\n        !value[0].targetComponent &&\n        value[0].length &&\n        typeof value[0] === 'string' &&\n        value[0].substr(0, 1) === '#' &&\n        typeof value[1] === 'number'\n      ) {\n        // Better check to filter out extensions?\n        return getHexColor(value[0], value[1]);\n      } else if (\n        'extensions' === key ||\n        'function' === typeof value ||\n        ('object' === typeof value &&\n          value !== null &&\n          'Object' !== value.constructor.name &&\n          !Array.isArray(value))\n      ) {\n        // Functions will not stringify, they will be merged after\n        themeFunctions[key] = value;\n        return;\n      } else if ('string' === typeof value && value.includes('theme.')) {\n        const themeValue = getValFromObjPath({ theme }, value);\n        if (themeValue) {\n          return themeValue;\n        } else {\n          return value;\n        }\n      } else {\n        const validColor = getValidColor(value);\n        if (validColor) {\n          return validColor;\n        }\n        return value;\n      }\n    });\n\n    return { ...JSON.parse(themeString), ...themeFunctions, extensions };\n  }\n}\n\nconst themeManagerInstance = new ThemeManager();\n\nexport { themeManagerInstance as default, ThemeManager };\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { capitalizeFirstLetter } from '../../utils';\nimport logger from './logger';\nimport metrics from './metrics';\nimport events from './events';\nimport themeManager from './theme-manager';\n\n/**\n * Class to create a context object. Context is a singleton that will hold settings and logic to be used across all Lightning UI components.\n */\n\n/**\n * @typedef ThemeObject\n * @type {any}\n */\nclass Context {\n  /**\n   * @type {ThemeObject}\n   */\n  get theme() {\n    return themeManager.getTheme();\n  }\n  /**\n   * theme cannot be set directly\n   */\n  set theme(value) {\n    logger.warn(\n      'Context.theme must be set using context.setTheme or context.updateTheme'\n    );\n  }\n  /**\n   * @type {object}\n   */\n  get keyMetricsCallback() {\n    return metrics.keyMetricsCallback;\n  }\n  /**\n   * keyMetricsCallback cannot be set directly\n   */\n  set keyMetricsCallback(value) {\n    logger.warn(\n      'Context.keyMetricsCallback must be set using context.setKeyMetricsCallback'\n    );\n  }\n  /**\n   * @type {boolean}\n   */\n  get debug() {\n    return logger.debug;\n  }\n\n  set debug(value) {\n    logger.debug = value;\n  }\n  /**\n   * @type {function}\n   * @param {string} name\n   * @param {function} callback\n   */\n  on() {\n    return events.on(...arguments);\n  }\n  /**\n   * @type {function}\n   */\n  off() {\n    return events.off(...arguments);\n  }\n  /**\n   * @type {function}\n   * @param {string} name\n   * @param {string|object|number|boolean} payload\n   */\n  emit() {\n    return events.emit(...arguments);\n  }\n  /**\n   * @property {function}\n   * @return {void}\n   */\n  log(...args) {\n    logger.log(...args);\n  }\n  /**\n   * @property {function}\n   * @return {void}\n   */\n  info(...args) {\n    logger.info(...args);\n  }\n  /**\n   * @property {function}\n   * @return {void}\n   */\n  warn(...args) {\n    logger.warn(...args);\n  }\n  /**\n   * @property {function}\n   * @return {void}\n   */\n  error(...args) {\n    logger.error(args);\n  }\n  /**\n   * @property {object|array}\n   * @return {object}\n   */\n  setTheme(value) {\n    return themeManager.setTheme(value);\n  }\n  /**\n   * @property {object|array}}\n   * @return {object}\n   */\n  updateTheme(value) {\n    return themeManager.updateTheme(value);\n  }\n  /**\n   * @property {string}\n   * @return {object}\n   */\n  getSubTheme(subThemeName) {\n    return themeManager.getSubTheme(subThemeName);\n  }\n  /**\n   * Expects an object where properties are child theme names. Values will be merged with the global themeManager.\n   * @property {object}\n   */\n  setSubThemes(subThemesObj) {\n    if ('object' !== typeof subThemesObj) {\n      logger.warn('subThemes must be an object');\n      return;\n    }\n    for (const subTheme in subThemesObj) {\n      themeManager.setSubTheme(subTheme, subThemesObj[subTheme]);\n    }\n  }\n  /**\n   * @property {string}\n   * @return {object}\n   */\n  setSubTheme(subThemeName, value) {\n    return themeManager.setSubTheme(subThemeName, value);\n  }\n  /**\n   * @property {string}\n   * @return {object}\n   */\n  updateSubTheme(subThemeName, value) {\n    return themeManager.updateSubTheme(subThemeName, value);\n  }\n  /**\n   * @property {string}\n   * @return {void}\n   */\n  removeSubTheme(subThemeName) {\n    themeManager.removeSubTheme(subThemeName);\n  }\n  /**\n   * @property {function}\n   * @return {void}\n   */\n  setLogCallback(value) {\n    logger.logCallback = value;\n  }\n  /**\n   * @property {function}\n   * @return {void}\n   */\n  setKeyMetricsCallback(value) {\n    metrics.keyMetricsCallback = value;\n  }\n  /**\n   * @property {function}\n   * @return {object}\n   */\n  config(config = {}) {\n    const configKeys = Object.keys(config);\n    for (let i = 0; i < configKeys.length; i++) {\n      const setMethod = this['set' + capitalizeFirstLetter(configKeys[i])];\n      if (setMethod) {\n        setMethod(config[configKeys[i]]);\n      }\n    }\n    return this;\n  }\n}\n\nconst contextInstance = new Context();\n\nexport { contextInstance as default, Context };\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nclass Logger {\n  constructor() {\n    this._logCallback = undefined;\n    this._prefix = 'LightningUI';\n    this._debug = false;\n  }\n\n  get debug() {\n    return this._debug;\n  }\n\n  set debug(value) {\n    this._debug = Boolean(value);\n  }\n\n  get logCallback() {\n    return this._logCallback;\n  }\n\n  set logCallback(value) {\n    if ('function' !== typeof value) {\n      this.warn(\n        `logCallback value must be a function, instead received ${typeof value}`\n      );\n      return;\n    }\n    this._logCallback = value;\n  }\n\n  log(...args) {\n    if (this._logCallback) {\n      this._logCallback({ level: 'log', payload: args });\n    }\n    if (this.debug) {\n      // eslint-disable-next-line\n      console.log(this._prefix, ...args);\n    }\n  }\n\n  info(...args) {\n    if (this._logCallback) {\n      this._logCallback({ level: 'info', payload: args });\n    }\n    if (this.debug) {\n      // eslint-disable-next-line\n      console.info(this._prefix, ...args);\n    }\n  }\n\n  warn(...args) {\n    if (this._logCallback) {\n      this._logCallback({ level: 'warn', payload: args });\n    }\n    if (this.debug) {\n      console.warn(this._prefix, ...args);\n    }\n  }\n\n  error(...args) {\n    if (this._logCallback) {\n      this._logCallback({ level: 'error', payload: args });\n    }\n    if (this.debug) {\n      console.error(this._prefix, ...args);\n    }\n  }\n}\n\nconst loggerInstance = new Logger();\n\nexport { loggerInstance as default, Logger };\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport context from '../context';\n\nclass GlobalUpdateManager {\n  constructor() {\n    this._updateThemeSet = new Set();\n    this._requestUpdateSet = new Set();\n    this._timeout = null;\n    this._runUpdatesTimeoutHandler = this._runUpdatesTimeoutHandler.bind(this);\n  }\n\n  _runUpdatesTimeoutHandler() {\n    this._timeout = null;\n    this._updateThemeSet.forEach(component => {\n      try {\n        component._updateThemeComponent();\n      } catch (e) {\n        context.error('Error updating component themes', e);\n      }\n    });\n    this._updateThemeSet.clear();\n\n    this._requestUpdateSet.forEach(component => {\n      try {\n        component.requestUpdate();\n      } catch (e) {\n        context.error('Error updating component', e);\n      }\n    });\n    this._requestUpdateSet.clear();\n  }\n\n  /**\n   * Force all updates now\n   *\n   * @returns\n   */\n  flush() {\n    // If there is no timeout then there is definately nothing to update\n    if (!this._timeout) return;\n    clearTimeout(this._timeout);\n    this._runUpdatesTimeoutHandler();\n  }\n\n  addUpdateTheme(component) {\n    this._updateThemeSet.add(component);\n    if (!this._timeout) {\n      this._timeout = setTimeout(this._runUpdatesTimeoutHandler, 0);\n    }\n  }\n\n  deleteUpdateTheme(component) {\n    // Don't bother checking and clearing the timeout if one is active\n    // Not worth the overhead. More than likely it needs to run again anyway.\n    this._updateThemeSet.delete(component);\n  }\n\n  addRequestUpdate(component) {\n    this._requestUpdateSet.add(component);\n    if (!this._timeout) {\n      this._timeout = setTimeout(this._runUpdatesTimeoutHandler, 0);\n    }\n  }\n\n  deleteRequestUpdate(component) {\n    // See note in deleteRequestUpdate()\n    this._requestUpdateSet.delete(component);\n  }\n\n  hasQueuedRequestFor(component) {\n    return this._requestUpdateSet.has(component);\n  }\n}\n\nexport const updateManager = new GlobalUpdateManager();\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/* global SpeechSynthesisErrorEvent */\nfunction flattenStrings(series = []) {\n  const flattenedSeries = [];\n\n  for (var i = 0; i < series.length; i++) {\n    if (typeof series[i] === 'string' && !series[i].includes('PAUSE-')) {\n      flattenedSeries.push(series[i]);\n    } else {\n      break;\n    }\n  }\n  // add a \"word boundary\" to ensure the Announcer doesn't automatically try to\n  // interpret strings that look like dates but are not actually dates\n  // for example, if \"Rising Sun\" and \"1993\" are meant to be two separate lines,\n  // when read together, \"Sun 1993\" is interpretted as \"Sunday 1993\"\n  return [flattenedSeries.join(',\\b ')].concat(series.slice(i));\n}\n\nfunction delay(pause) {\n  return new Promise(resolve => {\n    setTimeout(resolve, pause);\n  });\n}\n\n/**\n * Speak a string\n *\n * @param {string} phrase Phrase to speak\n * @param {SpeechSynthesisUtterance[]} utterances An array which the new SpeechSynthesisUtterance instance representing this utterance will be appended\n * @return {Promise<void>} Promise resolved when the utterance has finished speaking, and rejected if there's an error\n */\nfunction speak(phrase, utterances, lang = 'en-US') {\n  const synth = window.speechSynthesis;\n  return new Promise((resolve, reject) => {\n    const utterance = new SpeechSynthesisUtterance(phrase);\n    utterance.lang = lang;\n    utterance.onend = () => {\n      resolve();\n    };\n    utterance.onerror = e => {\n      reject(e);\n    };\n    utterances.push(utterance);\n    synth.speak(utterance);\n  });\n}\n\nfunction speakSeries(series, lang, root = true) {\n  const synth = window.speechSynthesis;\n  const remainingPhrases = flattenStrings(\n    Array.isArray(series) ? series : [series]\n  );\n  const nestedSeriesResults = [];\n  /*\n    We hold this array of SpeechSynthesisUtterances in order to prevent them from being\n    garbage collected prematurely on STB hardware which can cause the 'onend' events of\n    utterances to not fire consistently.\n  */\n  const utterances = [];\n  let active = true;\n\n  const seriesChain = (async () => {\n    try {\n      while (active && remainingPhrases.length) {\n        const phrase = await Promise.resolve(remainingPhrases.shift());\n        if (!active) {\n          // Exit\n          // Need to check this after the await in case it was cancelled in between\n          break;\n        } else if (typeof phrase === 'string' && phrase.includes('PAUSE-')) {\n          // Pause it\n          let pause = phrase.split('PAUSE-')[1] * 1000;\n          if (isNaN(pause)) {\n            pause = 0;\n          }\n          await delay(pause);\n        } else if (typeof phrase === 'string' && phrase.length) {\n          // Speak it\n          const totalRetries = 3;\n          let retriesLeft = totalRetries;\n          while (active && retriesLeft > 0) {\n            try {\n              await speak(phrase, utterances, lang);\n              retriesLeft = 0;\n            } catch (e) {\n              // eslint-disable-next-line no-undef\n              if (e instanceof SpeechSynthesisErrorEvent) {\n                if (e.error === 'network') {\n                  retriesLeft--;\n                  console.warn(\n                    `Speech synthesis network error. Retries left: ${retriesLeft}`\n                  );\n                  await delay(500 * (totalRetries - retriesLeft));\n                } else if (\n                  e.error === 'canceled' ||\n                  e.error === 'interrupted'\n                ) {\n                  // Cancel or interrupt error (ignore)\n                  retriesLeft = 0;\n                } else {\n                  throw new Error(`SpeechSynthesisErrorEvent: ${e.error}`);\n                }\n              } else {\n                throw e;\n              }\n            }\n          }\n        } else if (typeof phrase === 'function') {\n          const seriesResult = speakSeries(phrase(), lang, false);\n          nestedSeriesResults.push(seriesResult);\n          await seriesResult.series;\n        } else if (Array.isArray(phrase)) {\n          // Speak it (recursively)\n          const seriesResult = speakSeries(phrase, lang, false);\n          nestedSeriesResults.push(seriesResult);\n          await seriesResult.series;\n        }\n      }\n    } finally {\n      active = false;\n    }\n  })();\n  return {\n    series: seriesChain,\n    get active() {\n      return active;\n    },\n    append: toSpeak => {\n      remainingPhrases.push(toSpeak);\n    },\n    cancel: () => {\n      if (!active) {\n        return;\n      }\n      if (root) {\n        synth.cancel();\n      }\n      nestedSeriesResults.forEach(nestedSeriesResults => {\n        nestedSeriesResults.cancel();\n      });\n      active = false;\n    }\n  };\n}\n\nlet currentSeries;\nexport default function (toSpeak, lang) {\n  currentSeries && currentSeries.cancel();\n  currentSeries = speakSeries(toSpeak, lang);\n  return currentSeries;\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Don't wrap patterns with word boundaries (\\b) or set any RegExp flags.\n// Each pattern will be wrapped with \\b and use the global (g) flag when created as a capture group in combined pattern.\nconst defaultAbbreviations = [\n  { pattern: 'TV-14', replacer: 'Rated TV-14' },\n  { pattern: 'CC', replacer: 'Closed Captions available' },\n  { pattern: 'HD', replacer: 'High Definition available' },\n  { pattern: /ENG(?!\\+)/, replacer: 'English Available' },\n  { pattern: /ENG\\+ES/, replacer: 'Available in English and Spanish' },\n  { pattern: 'AD', replacer: 'Audio Description available' },\n  { pattern: 'RT', replacer: 'Rotten Tomatoes' },\n  {\n    pattern: /(S)+(\\d+)+(E)+(\\d+)+/,\n    replacer: (match, p1, p2, p3, p4) => `Season ${p2} Episode ${p4}`\n  }\n];\n\nexport const defaultAbbrevConfig = generateAbbrevConfig(defaultAbbreviations);\n\nfunction wrapWithBoundary(str) {\n  return `\\\\b${str}\\\\b`;\n}\n\nfunction getNumberOfCaptureGroups(regExp) {\n  return new RegExp(regExp.toString() + '|').exec('').length - 1;\n}\n\n/**\n * @typedef {object} AbbreviationConfig\n * @property {object} abbreviationsPattern - combined RegExp pattern of all abbreviations separated into capture groups\n * @property {object} stringPatternMap - object to look up replacers values based on string matches (uses matched string to look up)\n * @property {object} regExpPatternMap - object to look up replacers values based on RegExp matches (uses index of matched capture group to look up)\n */\n\n/**\n * Generates abbreviation config object to be passed to withAnnouncer for abbreviation translation\n * @param {object[]} abbreviations - array of custom abbreviation objects to generate config off of\n * @param {string|object} abbreviations[].pattern - pattern to match abbreviation\n * @param {string|function} abbreviations[].replacer - string or RegEx replacer function to replace matched abbreviation with\n * @param {boolean} extendDefault - if true, extend the default abbreviations config with custom abbreviations\n * @returns {AbbreviationConfig} - configuration that may be passed to withAnnouncer as abbreviations in options parameter\n */\nexport function generateAbbrevConfig(\n  abbreviations = defaultAbbreviations,\n  extendDefault\n) {\n  const abbrev = extendDefault\n    ? [...defaultAbbreviations, ...abbreviations]\n    : abbreviations;\n  const stringPatternMap = {}; // map of exact strings to the associated replacer\n  const regExpPatternMap = {}; // map of RegExp patterns to the associated replacer\n  let abbreviationsPattern = ''; // string of final RegExp pattern with each pattern as a capture group\n  let patternGroupOffset = 0; // incremented for each capture group found in RegExp patterns passed in\n\n  // If the pattern is a RegExp pattern: key RegExp pattern with its index in passed in abbreviations array parameter.\n  // The capture group for this pattern will be at this position (idx) in the combined RegExp pattern.\n  // When a string is matched, the index of the matched capture group can be used to look up the correct replacer.\n  //\n  // Else (the pattern is a string): it can be keyed by it's pattern.\n  // When a string is matched, the string matcher can be used to look up the correct replacer.\n  abbrev.forEach(({ pattern, replacer }, idx) => {\n    let stringPattern;\n    if (pattern instanceof RegExp) {\n      const patternMapIdx = idx + patternGroupOffset;\n      regExpPatternMap[patternMapIdx] = { pattern, replacer };\n      stringPattern = wrapWithBoundary(pattern.source);\n      patternGroupOffset += getNumberOfCaptureGroups(pattern);\n    } else {\n      stringPatternMap[pattern] = { replacer };\n      stringPattern = wrapWithBoundary(pattern);\n    }\n\n    // create single string for final RegExp - each pattern will be a capture group\n    abbreviationsPattern =\n      abbreviationsPattern === ''\n        ? `(${stringPattern})`\n        : `${abbreviationsPattern}|(${stringPattern})`;\n  });\n\n  abbreviationsPattern = new RegExp(abbreviationsPattern, 'g');\n  return { abbreviationsPattern, stringPatternMap, regExpPatternMap };\n}\n\n/**\n * Translates abbreviations in a string into their associated words\n * @param {string} phrase - phrase to be translated\n * @param {object} - abbreviationsPattern, stringPatternMap and regExpPatternMap\n * @returns {string} - phrase where abbreviations have been replaced with words\n */\nexport const translateAbbrev = (phrase, translationConfig) => {\n  const { abbreviationsPattern, stringPatternMap, regExpPatternMap } =\n    translationConfig;\n\n  const translated = phrase.replace(\n    abbreviationsPattern,\n    (matched, ...args) => {\n      // replace exact string match with replacement string\n      if (stringPatternMap[matched]) {\n        return stringPatternMap[matched].replacer;\n      }\n\n      // else match was found using a more complex RegExp pattern\n      // find replacer by index of matching capture group\n      const patternIdx = args.findIndex(arg => !!arg);\n      const { pattern, replacer } = regExpPatternMap[patternIdx];\n\n      // replace matched string with replacer string\n      if (typeof replacer === 'string') {\n        return replacer;\n      }\n\n      // use replace again for replacer function it can utilize substring matches in its scope\n      if (typeof replacer === 'function') {\n        return matched.replace(pattern, replacer);\n      }\n    }\n  );\n  return translated;\n};\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport Speech from './Speech';\nimport { translateAbbrev } from './abbreviations';\nimport { debounce } from '../../utils';\n\nexport { generateAbbrevConfig, defaultAbbrevConfig } from './abbreviations';\n\nconst fiveMinutes = 300 * 1000;\n\nfunction elmName(elm) {\n  return elm.ref || elm.constructor.name;\n}\n\nconst defaultOptions = {\n  voiceOutDelay: 500,\n  abbreviationsConfig: {}\n};\n\nexport default function withAnnouncer(Base, speak = Speech, options = {}) {\n  const announcerOptions = { ...defaultOptions, ...options };\n\n  return class extends Base {\n    _construct() {\n      this._announceEndedTimeout;\n      this._currentlySpeaking = '';\n      super._construct && super._construct();\n    }\n\n    _voiceOut(toAnnounce) {\n      if (this._voiceOutDisabled) {\n        return;\n      }\n      let toSpeak = toAnnounce;\n      if (announcerOptions.abbreviationsConfig.abbreviationsPattern) {\n        toSpeak = Array.isArray(toAnnounce)\n          ? toAnnounce.map(phrase =>\n              translateAbbrev(phrase, announcerOptions.abbreviationsConfig)\n            )\n          : translateAbbrev(toAnnounce, announcerOptions.abbreviationsConfig);\n      }\n      const speech = speak(toSpeak, options.language);\n      // event using speech synthesis api promise\n      if (speech && speech.series) {\n        speech.series.then(() => {\n          this.stage.emit('announceEnded');\n        });\n      }\n\n      // event in case speech synthesis api is flakey,\n      // assume the ammount of time it takes to read each word\n      const toAnnounceStr = Array.isArray(toSpeak)\n        ? toSpeak.concat().join(' ')\n        : toSpeak;\n      const toAnnounceWords = toAnnounceStr.split(' ');\n      const timeoutDelay =\n        toAnnounceWords.length * announcerOptions.voiceOutDelay;\n      clearTimeout(this._announceEndedTimeout);\n      this._announceEndedTimeout = setTimeout(() => {\n        this.stage.emit('announceTimeoutEnded');\n      }, timeoutDelay);\n\n      return speech;\n    }\n\n    _build() {\n      super._build && super._build();\n\n      this._debounceAnnounceFocusChanges = debounce(\n        this._announceFocusChanges.bind(this),\n        Number.isInteger(this.announcerFocusDebounce)\n          ? this.announcerFocusDebounce\n          : 400\n      );\n\n      this.announcerTimeout = Number.isInteger(this.announcerTimeout)\n        ? this.announcerTimeout\n        : fiveMinutes;\n\n      this._resetFocusTimer = debounce(() => {\n        // Reset focus path for full announce\n        this._lastFocusPath = undefined;\n      }, this.announcerTimeout);\n    }\n\n    _firstEnable() {\n      super._firstEnable && super._firstEnable();\n\n      // Lightning only calls Focus Change on second focus\n      this._focusChange();\n    }\n\n    _disable() {\n      clearTimeout(this._announceEndedTimeout);\n      this.stage.emit('announceEnded');\n      this.stage.emit('announceTimeoutEnded');\n    }\n\n    set announcerEnabled(val) {\n      this._announcerEnabled = val;\n      this._focusChange();\n    }\n\n    get announcerEnabled() {\n      return this._announcerEnabled;\n    }\n\n    _focusChange() {\n      if (!this._resetFocusTimer) {\n        return;\n      }\n\n      this._resetFocusTimer();\n      this.$announcerCancel();\n      this._debounceAnnounceFocusChanges();\n    }\n\n    _announceFocusChanges() {\n      const focusPath = this.application.focusPath || [];\n      const lastFocusPath = this._lastFocusPath || [];\n      const loaded = focusPath.every(elm => !elm.loading);\n      const focusDiff = focusPath.filter(elm => !lastFocusPath.includes(elm));\n\n      if (!loaded) {\n        this._debounceAnnounceFocusChanges();\n        return;\n      }\n\n      this._lastFocusPath = focusPath.slice(0);\n      // Provide hook for focus diff for things like TextBanner\n      this.focusDiffHook = focusDiff;\n\n      if (!this.announcerEnabled) {\n        return;\n      }\n\n      let toAnnounce = focusDiff.reduce((acc, elm) => {\n        if (elm.announce) {\n          acc.push([elmName(elm), 'Announce', elm.announce]);\n        } else if (elm.title) {\n          acc.push([elmName(elm), 'Title', elm.title || '']);\n        }\n        return acc;\n      }, []);\n\n      focusDiff.reverse().reduce((acc, elm) => {\n        if (elm.announceContext) {\n          acc.push([elmName(elm), 'Context', elm.announceContext]);\n        } else {\n          acc.push([elmName(elm), 'No Context', '']);\n        }\n        return acc;\n      }, toAnnounce);\n\n      if (this.debug) {\n        console.table(toAnnounce);\n      }\n\n      toAnnounce = toAnnounce.reduce((acc, a) => {\n        const txt = a[2];\n        txt && acc.push(txt);\n        return acc;\n      }, []);\n\n      if (toAnnounce.length) {\n        this.$announcerCancel();\n        this._currentlySpeaking = this._voiceOut(\n          toAnnounce.reduce((acc, val) => acc.concat(val), [])\n        );\n      }\n    }\n\n    $announce(toAnnounce, { append = false, notification = false } = {}) {\n      if (!toAnnounce || !toAnnounce.trim().length) {\n        return;\n      }\n      if (this.announcerEnabled) {\n        this._debounceAnnounceFocusChanges.flush();\n        if (\n          append &&\n          this._currentlySpeaking &&\n          this._currentlySpeaking.active\n        ) {\n          this._currentlySpeaking.append(toAnnounce);\n        } else {\n          this.$announcerCancel();\n          this._currentlySpeaking = this._voiceOut(toAnnounce);\n        }\n\n        if (notification) {\n          this._voiceOutDisabled = true;\n          this._currentlySpeaking.series.finally(() => {\n            this._voiceOutDisabled = false;\n            this.$announcerRefresh();\n          });\n        }\n      }\n    }\n\n    $announcerCancel() {\n      this._currentlySpeaking && this._currentlySpeaking.cancel();\n    }\n\n    $announcerRefresh(depth) {\n      if (depth) {\n        this._lastFocusPath = this._lastFocusPath.slice(0, depth);\n      } else {\n        this._lastFocusPath = undefined;\n      }\n      this._resetFocusTimer();\n      this._focusChange();\n    }\n  };\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport context from '../../globals/context/index';\n\nexport default function withHandleKey(Base) {\n  return class extends Base {\n    static get name() {\n      return Base.name;\n    }\n\n    _handleKey(keyEvent) {\n      return this._processEvent(keyEvent);\n    }\n\n    _handleKeyRelease(keyEvent) {\n      return this._processEvent(keyEvent, 'Release');\n    }\n\n    _processEvent(keyEvent, suffix = '') {\n      const keyMap = this.stage.application.__keymap || {};\n      let key = keyMap[keyEvent.keyCode];\n      if (!key) {\n        key = keyEvent.key;\n      }\n      if (key && typeof this[`on${key}${suffix}`] === 'function') {\n        this._invokeKeyPayloadCallback(key + suffix);\n        return this[`on${key}${suffix}`].call(this, this, keyEvent);\n      }\n      return false;\n    }\n\n    _invokeKeyPayloadCallback(key) {\n      if (\n        this.metricsPayload &&\n        typeof context.keyMetricsCallback === 'function'\n      ) {\n        context.keyMetricsCallback(key, this.metricsPayload);\n      }\n    }\n  };\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nfunction getPropertyDescriptor(path) {\n  return {\n    get() {\n      return this.tag(path);\n    },\n    configurable: true,\n    enumerable: true\n  };\n}\n\nexport default function withTags(Base) {\n  return class extends Base {\n    static get name() {\n      return Base.name;\n    }\n\n    _construct() {\n      const prototype = Object.getPrototypeOf(this);\n      if (!prototype._withTagsInitialized) {\n        const tags = this.constructor.tags || [];\n        tags.forEach(tag => {\n          if (typeof tag === 'object') {\n            var { name, path } = tag;\n          } else {\n            var name = tag; // eslint-disable-line no-redeclare\n            var path = tag; // eslint-disable-line no-redeclare\n          }\n          const key = '_' + name;\n          const descriptor = getPropertyDescriptor(path);\n          Object.defineProperty(prototype, key, descriptor);\n        });\n        prototype._withTagsInitialized = true;\n      }\n      super._construct && super._construct();\n    }\n  };\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { clone, getValFromObjPath, getHexColor } from '../../utils';\nimport log from '../../globals/context/logger';\n\n/**\nGiven a character, return its ASCII value multiplied by its position.\n *\n@param {string} char - The character to process.\n@param {number} index - The position of the character in the string.\n@returns {number} - The ASCII value of the character multiplied by its position.\n */\nexport const getCharacterValue = (char, index) => {\n  return char.charCodeAt(0) * (index + 1);\n};\n\n/**\n * Recursively sorts an object by its keys. If an object has nested objects as values,\n * it will sort those nested objects as well.\n *\n * @param {Object} obj - The object to be sorted.\n * @returns {Object} A new object that is a sorted version of the input object.\n */\nexport const sortObject = obj => {\n  const sortedObj = {};\n  Object.keys(obj)\n    .sort()\n    .forEach(key => {\n      if (\n        typeof obj[key] === 'object' &&\n        obj[key] !== null &&\n        !Array.isArray(obj[key])\n      ) {\n        sortedObj[key] = sortObject(obj[key]); // Recursive call for nested objects\n      } else {\n        sortedObj[key] = obj[key];\n      }\n    });\n  return sortedObj;\n};\n\n/**\nGiven an object, return a sum of the ASCII values of all characters in its\nJSON stringified representation, each multiplied by its position.\n*\n@param {object} obj - The object to process.\n@returns {number} - The sum of ASCII values, each multiplied by its position.\n*/\nexport const getCharacterSum = obj => {\n  const sortedObj = sortObject(obj);\n  const str = JSON.stringify(sortedObj).replace(/[{}:\",\\s]/g, ''); // Remove brackets, colons, and whitespace\n  let sum = 0;\n  for (let i = 0; i < str.length; i++) {\n    sum += getCharacterValue(str[i], i);\n  }\n  return sum;\n};\n\n/**\nGiven an object, return a \"hash\" of the object, which is a combination of\nthe length of its JSON stringified representation and the sum of the ASCII\nvalues of all characters in that string, each multiplied by its position.\n*\n@param {object} obj - The object to process.\n@returns {string} - The hash of the object.\n*/\nexport const getHash = obj => {\n  const str = JSON.stringify(obj);\n  return str.length + '-' + getCharacterSum(obj);\n};\n\n/**\n * Recursively executes functions within an object or array structure, passing them a given context.\n * @param {Function|Object|Array} objOrFunction - The object, array, or function to process.\n * @param {*} theme - The context to pass to any encountered functions.\n * @returns {*} The processed structure with functions executed.\n */\nexport function executeWithContextRecursive(objOrFunction, theme) {\n  if (typeof objOrFunction === 'function') {\n    // If the input is a function, execute it with the theme as a parameter\n    const result = objOrFunction(theme);\n    return executeWithContextRecursive(result, theme);\n  } else if (Array.isArray(objOrFunction)) {\n    // If the input is an array, iterate through its elements and apply the function recursively.\n    return objOrFunction.map(item => executeWithContextRecursive(item, theme));\n  } else if (typeof objOrFunction === 'object' && objOrFunction !== null) {\n    // If the input is an object (and not null), iterate through its properties and apply the function recursively.\n    const result = {};\n    for (const key in objOrFunction) {\n      if (objOrFunction.hasOwnProperty(key)) {\n        result[key] = executeWithContextRecursive(objOrFunction[key], theme);\n      }\n    }\n    return result;\n  } else {\n    // Return the value as is if it's neither a function, an object, nor an array.\n    return objOrFunction;\n  }\n}\n\n/**\n * Checks if a value is a plain object.\n *\n * @param {*} value - The value to check.\n * @returns {boolean} - True if the value is a plain object, false otherwise.\n */\nexport function isPlainObject(value) {\n  return (\n    typeof value === 'object' &&\n    value !== null &&\n    !Array.isArray(value) &&\n    !(value instanceof Date) &&\n    !(value instanceof RegExp) &&\n    !(value instanceof Function) &&\n    !(value instanceof Error)\n  );\n}\n\n/**\n * Returns the subTheme property of the first parent object that has one, or undefined if none exist.\n *\n * @param {object} obj - The object to search for a subTheme property.\n * @returns {(String | Undefined)} - The value of the subTheme property, or undefined if none exists.\n */\nexport const getSubTheme = obj => {\n  while (obj && (!obj.subTheme || typeof obj.subTheme !== 'string')) {\n    obj = obj.p;\n  }\n  return obj ? obj.subTheme : undefined;\n};\n\n/**\n * Returns the component configuration object for the given object based on its prototype chain.\n *\n * @param {object} obj - The object to get the component configuration for.\n * @returns {object} - The component configuration object.\n */\nexport const getComponentConfig = obj => {\n  if (!isPlainObject(obj)) return {};\n  return obj?.theme?.componentConfig?.[obj.constructor.__componentName] || {};\n};\n\n/**\n * Returns an array of the names of all components in the prototype chain of the given object.\n * @param {object} obj - The object to get the prototype chain from.\n * @returns {string[]} - An array of component names.\n */\nexport const getPrototypeChain = obj => {\n  if (!isPlainObject(obj)) return [];\n  const prototypeChain = new Set();\n  let proto = obj;\n\n  if (obj.constructor && obj.constructor.__componentName) {\n    prototypeChain.add(obj.constructor.__componentName);\n  }\n\n  /**\n   * Traverse the prototype chain and add component names to the set\n   */\n  do {\n    proto = Object.getPrototypeOf(proto);\n    if (proto !== null && typeof proto === 'object') {\n      // Add only components that support theming\n      if (proto.constructor.__componentName) {\n        prototypeChain.add(proto.constructor.__componentName);\n      }\n    }\n  } while (proto);\n\n  // Convert the set to an array and return it\n  return Array.from(prototypeChain);\n};\n\n/**\n * Recursively removes properties from an object that are themselves empty objects.\n * Does not remove arrays, non-plain objects, or non-empty objects.\n *\n * @param {Object} obj - The object to clean of empty objects.\n * @returns {Object} The cleaned object.\n */\nexport function removeEmptyObjects(obj) {\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key) && isPlainObject(obj[key])) {\n      removeEmptyObjects(obj[key]); // Recurse into the object\n\n      // After recursion, if the object is empty, delete it from the parent\n      if (Object.keys(obj[key]).length === 0) {\n        delete obj[key];\n      }\n    }\n  }\n\n  return obj; // Always return obj, even if it's empty\n}\n\n// This map will store hashes of objects to detect duplicates.\n\nexport function createSharedReferences(obj = {}) {\n  const seenObjects = new Map();\n\n  // Generates a hash for an object.\n  // Sorting keys ensures consistent hash regardless of property order.\n  function hash(object) {\n    return JSON.stringify(object, Object.keys(object).sort());\n  }\n\n  function process(currentObj) {\n    for (const key in currentObj) {\n      if (currentObj.hasOwnProperty(key)) {\n        const value = currentObj[key];\n        if (typeof value === 'object' && value !== null) {\n          // Ensure it's an object\n          const valueHash = hash(value);\n          if (seenObjects.has(valueHash)) {\n            // If we've seen this object before, replace the current reference\n            // with the original reference.\n            currentObj[key] = seenObjects.get(valueHash);\n          } else {\n            seenObjects.set(valueHash, value);\n            process(value); // Recursively process this object\n          }\n        }\n      }\n    }\n  }\n\n  process(obj);\n\n  return obj;\n}\n\n/**\n * Combines the provided properties and returns a list of unique properties.\n *\n * @param {string[]} defaultProps - Default property names.\n * @param {Object} additionalProps - Object whose keys are additional property names.\n * @param {string[]} subProps - Sub property names.\n * @returns {string[]} - Array of unique property names.\n */\nexport function getUniqueProperties(defaultProps = []) {\n  if (!Array.isArray(defaultProps)) {\n    throw new TypeError('Expected defaultProps to be an array of strings.');\n  }\n\n  return [...new Set(defaultProps)];\n}\n\n/**\n * Generate the payload by cloning and merging multiple objects.\n *\n * @param {Object} base - The base object to start with.\n * @param {Object} defaultStyle - Default styles provided by the user.\n * @param {string} toneItem - The current tone being processed.\n * @param {string} modeItem - The current mode being processed.\n * @param {Object} tone - Tone configurations.\n * @param {Object} mode - Mode configurations.\n * @returns {Object} - The merged payload.\n */\nexport function generatePayload(\n  base,\n  defaultStyle,\n  toneItem,\n  modeItem,\n  tone,\n  mode\n) {\n  let payload = clone(defaultStyle, base);\n  payload = clone(payload, tone?.[toneItem]);\n  payload = clone(payload, mode?.[modeItem]);\n  payload = clone(payload, tone?.[toneItem]?.mode?.[modeItem] || {});\n  payload = clone(payload, mode?.[modeItem]?.tone?.[toneItem] || {});\n  return payload;\n}\n\n/**\n * Recursively searches for and returns all the property keys nested within the specified key in the object.\n *\n * @param {Object} obj - The object to search through.\n * @param {string} keyToFind - The key whose nested keys are to be found.\n * @returns {string[]} An array containing all nested property keys under the specified key.\n */\nfunction findNestedKeys(obj, keyToFind) {\n  const nestedKeys = [];\n\n  /**\n   * Inner function to recursively search for nested keys.\n   *\n   * @param {Object} obj - The nested object to search through.\n   */\n  function searchNestedKeys(obj) {\n    if (typeof obj === 'object' && obj !== null) {\n      for (const key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          nestedKeys.push(key); // Add the nested key to the array\n        }\n      }\n    }\n  }\n\n  /**\n   * Outer function to initiate search when the specified key is found.\n   *\n   * @param {Object} obj - The object to search through.\n   */\n  function searchForKey(obj) {\n    if (typeof obj === 'object' && obj !== null) {\n      for (const key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          if (key === keyToFind) {\n            searchNestedKeys(obj[key]); // Start searching for nested keys\n            break; // Once the specified key is found, we don't need to look further at this level\n          }\n          searchForKey(obj[key]); // Continue searching for the specified key\n        }\n      }\n    }\n  }\n\n  searchForKey(obj); // Initialize the search with the object\n  return nestedKeys; // Return the array of nested keys\n}\n\n/**\n * Generates a solution based on the provided configurations.\n *\n * @param {Object} options - The configuration options for generating the solution.\n * @param {Object} [options.base={}] - Base object.\n * @param {Object} [options.tone={}] - Tone configurations.\n * @param {Object} [options.mode={}] - Mode configurations.\n * @param {Object} [options.defaultStyle={}] - Default styles provided by the user.\n * @returns {Object} - The generated solution with shared references and merged identical properties.\n */\nexport const generateSolution = (\n  { base = {}, tone = {}, mode = {}, defaultStyle = {} },\n  modeKeys = [],\n  toneKeys = []\n) => {\n  const solution = {};\n\n  const uniqueModes = getUniqueProperties([\n    'focused',\n    'disabled',\n    ...modeKeys,\n    'unfocused' // Unfocused must be at the end for proper fallback since base === 'unfocused' in many cases\n  ]);\n\n  const uniqueTones = getUniqueProperties([\n    'neutral',\n    'inverse',\n    'brand',\n    ...toneKeys\n  ]);\n\n  for (const modeItem of uniqueModes) {\n    for (const toneItem of uniqueTones) {\n      const payload = generatePayload(\n        base,\n        defaultStyle,\n        toneItem,\n        modeItem,\n        tone,\n        mode\n      );\n      solution[`${modeItem}_${toneItem}`] = payload;\n    }\n  }\n\n  return solution;\n};\n\nconst DEFAULT_KEYS = [\n  // ORDER MATTERS\n  'unfocused_neutral',\n  'unfocused_inverse',\n  'unfocused_brand',\n  'focused_neutral',\n  'focused_inverse',\n  'focused_brand',\n  'disabled_neutral',\n  'disabled_inverse',\n  'disabled_brand'\n];\n\n/**\n * Enforce a contract on an input object by ensuring that it contains a set of specified keys\n * and, if not, substituting them with values from fallback keys in a predefined order.\n *\n * @param {Object} inputObj - The input object to enforce the contract on.\n * @returns {Object} - An object that adheres to the contract, with missing keys replaced by fallback values.\n */\nexport function enforceContract(inputObj) {\n  const result = {};\n  for (const key of [...DEFAULT_KEYS, ...Object.keys(inputObj)]) {\n    if (!inputObj.hasOwnProperty(key)) {\n      // Find the first fallback property that exists in inputObj\n      const fallbackKey = DEFAULT_KEYS.find(fallback =>\n        inputObj.hasOwnProperty(fallback)\n      );\n      if (fallbackKey) {\n        const fallback = inputObj[fallbackKey];\n        result[key] = typeof fallback !== 'object' ? {} : fallback;\n      } else {\n        result[key] = {};\n      }\n    } else {\n      if (typeof inputObj[key] !== 'object') {\n        // If the value is not an object, replace it with an empty object\n        result[key] = {};\n      } else {\n        result[key] = inputObj[key];\n      }\n    }\n  }\n  return result;\n}\n\n/**\n * Generates the source style object for a given component by merging base, mode, and tone styles from the component's style chain\n * @param {object} component - The component for which to generate the style source\n * @returns {object} - The source style object for the component\n */\nexport const generateComponentStyleSource = ({\n  theme = {},\n  styleChain = [],\n  inlineStyle = {},\n  alias = []\n} = {}) => {\n  if (typeof theme !== 'object') {\n    throw new Error('Expected theme to be an object');\n  }\n\n  if (!Array.isArray(styleChain)) {\n    throw new Error('Expected styleChain to be an array');\n  }\n\n  if (typeof inlineStyle !== 'object') {\n    throw new Error('Expected inlineStyle to be an object');\n  }\n\n  if (!Array.isArray(alias)) {\n    throw new Error('Expected alias to be an array');\n  }\n\n  /**\n   * Component default styles\n   */\n  const componentDefault = styleChain.map(({ style }) => {\n    if (\n      typeof style === 'object' &&\n      !style.base &&\n      !style.mode &&\n      !style.tone &&\n      !style.default\n    ) {\n      return { base: style };\n    } else {\n      const { base = {}, mode = {}, tone = {} } = style;\n\n      let componentConfigDefaultStyle;\n      if (style) {\n        const defaultStyle = JSON.parse(JSON.stringify(style));\n        delete defaultStyle.base;\n        delete defaultStyle.tone;\n        delete defaultStyle.mode;\n        componentConfigDefaultStyle = defaultStyle; // Anything in the root level of style\n      }\n\n      return {\n        defaultStyle: componentConfigDefaultStyle || {},\n        base,\n        mode,\n        tone\n      };\n    }\n  });\n\n  /**\n   * Local / Instance level styles\n   * DefaultStyle will apply to the next level in the hierarchy\n   */\n  let localDefaultStyle;\n  if (inlineStyle) {\n    const defaultStyle = JSON.parse(JSON.stringify(inlineStyle));\n    delete defaultStyle.base;\n    delete defaultStyle.tone;\n    delete defaultStyle.mode;\n    localDefaultStyle = defaultStyle; // Anything in the root level of style\n  }\n\n  const local = {\n    defaultStyle: localDefaultStyle || {},\n    base: inlineStyle?.base || {},\n    mode: inlineStyle?.mode || {},\n    tone: inlineStyle?.tone || {}\n  };\n\n  // Merge all the styles together into one array to loop\n  const merged = [...componentDefault, local];\n\n  // Execute all style functions with the theme\n  const parsedStyles = merged.map(style => {\n    return executeWithContextRecursive(style, theme);\n  });\n\n  // Find all the keys that are in mode/tone as well as nested under mode and tone this will help generate the final solution\n  const modeKeys = findNestedKeys(parsedStyles, 'mode');\n  const toneKeys = findNestedKeys(parsedStyles, 'tone');\n\n  // Merge all the styles together into one object\n  const solution = parsedStyles.reduce((acc, style) => {\n    return clone(acc, generateSolution(style, modeKeys, toneKeys));\n  }, {});\n\n  const final = formatStyleObj(\n    removeEmptyObjects(colorParser({ theme }, solution)) || {},\n    alias\n  );\n\n  const cleanObj = createSharedReferences(final);\n\n  return enforceContract(cleanObj);\n};\n\n/**\n * Parse and process a style object to replace theme strings and process color arrays.\n * @param {object} targetObject - In most cases, this will be a theme object.\n * @param {object} styleObj - The input style object to be processed.\n * @returns {object} The processed style object with theme strings replaced and color arrays processed.\n */\nexport const colorParser = (targetObject, styleObj) => {\n  // Check if targetObject is an object\n  if (typeof targetObject !== 'object' || targetObject === null) {\n    throw new TypeError('targetObject must be an object.');\n  }\n\n  // Check if styleObj is an object\n  if (typeof styleObj !== 'object' || styleObj === null) {\n    throw new TypeError('styleObj must be an object.');\n  }\n\n  // Process style object and remove unnecessary properties\n  const processedStyle = JSON.stringify(styleObj, (_, value) => {\n    if (-1 < ['tone', 'mode'].indexOf(_)) return value; // Remove any tone/mode or mode/tone properties as they have already been processed\n    if ('string' === typeof value && value.startsWith('theme.')) {\n      // Support theme strings example: theme.radius.md\n      return getValFromObjPath(targetObject, value); // If no theme value exists, the property will be removed from the object\n    } else if (\n      Array.isArray(value) &&\n      value.length === 2 &&\n      typeof value[0] === 'string' &&\n      value[0].substr(0, 1) === '#' &&\n      typeof value[1] === 'number'\n    ) {\n      // Process value as a color ['#663399', 1]\n      return getHexColor(value[0], value[1]) || value;\n    }\n    return value;\n  });\n\n  return JSON.parse(processedStyle || {});\n};\n\n/**\n * Generates the final style object for a component using its style source.\n * @param {object} component - The component for which to generate a style object.\n * @param {object} componentStyleSource - The style source object for the component.\n * @returns {object} - The generated style object.\n */\nexport const generateStyle = (component, componentStyleSource = {}) => {\n  if (!isPlainObject(component)) return {};\n  const { mode = 'unfocused', tone = 'neutral' } = component;\n  return (\n    componentStyleSource[`${mode}_${tone}`] ||\n    componentStyleSource['unfocused_neutral'] ||\n    {}\n  );\n};\n\n/**\n * Generates a name by concatenating the names of constructors in the prototype chain.\n * @param {object} obj - The object for which to generate the name.\n * @returns {string} - The generated name.\n */\nexport function generateNameFromPrototypeChain(obj, name = '') {\n  if (!obj) return name;\n  const proto = Object.getPrototypeOf(obj);\n  if (!proto || !proto.constructor) return name;\n  const componentName = `${name ? name + '.' : ''}${\n    proto?.constructor?.__componentName || ''\n  }`\n    .replace(/\\.*$/, '')\n    .trim();\n  const result = generateNameFromPrototypeChain(proto, componentName);\n  return result;\n}\n/**\n * Creates a cache object to store the results of getStyleChainMemoized function calls.\n * @type {object}\n */\nconst styleChainCache = {};\n\n/**\n * Flush the memoization cache for styleChain\n *\n */\nexport const clearStyleChainCache = () => {\n  for (const key in styleChainCache) {\n    if (styleChainCache.hasOwnProperty(key)) {\n      delete styleChainCache[key];\n    }\n  }\n};\n\n/**\n * Memoized version of getStyleChain function. Retrieves the style chain for a component by traversing its prototype chain.\n * @param {object} componentObj - The component object to get the style chain from.\n * @returns {{ style: (object | function) }[]} - An array of style objects containing either an object of styles or a function to return an object of styles.\n */\nexport const getStyleChainMemoized = componentObj => {\n  /**\n   * Create a cache key based on the stringified component object.\n   * @type {string}\n   */\n\n  const cacheKey = generateNameFromPrototypeChain(componentObj);\n\n  // Check if the result is already in the cache\n  if (styleChainCache[cacheKey]) {\n    return styleChainCache[cacheKey];\n  }\n\n  /**\n   * Compute the style chain using the getStyleChain function.\n   * @type {{ style: (object | function) }[]}\n   */\n  const styleChain = getStyleChain(componentObj);\n\n  // Cache the result for future use\n  styleChainCache[cacheKey] = styleChain;\n\n  // Return the style chain\n  return styleChain;\n};\n\n/**\n * Traverse up the prototype chain to create an array of all the styles that are present in the Components ancestors\n * @param {object} componentObj - The component object to get the style chain from.\n * @returns {{ style: (object | function) }[]} - An array of style objects containing either an object of styles or a function to return an object of styles.\n */\nexport const getStyleChain = componentObj => {\n  const styleMap = new Map(); // Use a Map to store styles as JSON strings\n  let proto;\n\n  do {\n    proto = !proto ? componentObj : Object.getPrototypeOf(proto);\n    if (proto?.constructor === Object) break; // Stop traversing the prototype chain if we reach the Object prototype\n    if (\n      proto &&\n      typeof proto === 'object' &&\n      proto.hasOwnProperty('constructor')\n    ) {\n      // ComponentConfig Level\n      const { style: componentConfigStyle } = getComponentConfig(proto);\n      if (Object.keys(componentConfigStyle || {}).length) {\n        if (!styleMap.has(componentConfigStyle)) {\n          styleMap.set(componentConfigStyle, { style: componentConfigStyle });\n        }\n      }\n\n      // Access the __themeStyle property from the current prototype's constructor\n      const themeStyle =\n        proto.constructor.hasOwnProperty('__themeStyle') &&\n        proto.constructor.__themeStyle;\n\n      if (Object.keys(themeStyle || {}).length) {\n        if (!styleMap.has(themeStyle)) {\n          styleMap.set(themeStyle, { style: { ...themeStyle } });\n        }\n      } else if (typeof themeStyle === 'function') {\n        // If the style is a function, add it to the styleMap\n        if (!styleMap.has(themeStyle)) {\n          styleMap.set(themeStyle, { style: themeStyle });\n        }\n      }\n\n      // Access the __mixinStyle property from the current prototype's constructor\n      const mixinStyle =\n        proto.constructor.hasOwnProperty('__mixinStyle') &&\n        proto.constructor.__mixinStyle;\n\n      if (Object.keys(mixinStyle || {}).length) {\n        if (!styleMap.has(mixinStyle)) {\n          styleMap.set(mixinStyle, { style: mixinStyle });\n        }\n      }\n    }\n  } while (proto);\n\n  // Convert the values of the Map (unique styles) back to an array\n  const uniqueStyles = Array.from(styleMap.values());\n\n  // Return an array of unique style objects with a \"style\" property\n  return uniqueStyles.map(style => style).reverse();\n};\n\n/**\n * Formats a style object by applying a series of formatter functions.\n *\n * @param {object} originalObj - The original style object to be formatted.\n * @param {array} [aliasStyles=[]] - An array of alias styles to be used during formatting.\n * @returns {object} The formatted style object after applying all formatter functions.\n */\nexport const formatStyleObj = (originalObj, aliasStyles = []) => {\n  if (typeof originalObj !== 'object' || originalObj === null) {\n    throw new Error('The originalObj parameter must be an object.');\n  }\n\n  const formatters = new Set();\n\n  // Adding a key-value pair to the 'formatters' Set.\n  // This pattern is used so more formatters can be easily added if required at a later time\n  formatters.add([replaceAliasValues, [aliasStyles]]);\n\n  // Generating an array from the 'formatters' Set\n  const formattersArray = Array.from(formatters);\n\n  // Using reduce to apply functions from 'formattersArray' to 'finalStyle'\n  // Each function takes 'obj' (initially 'finalStyle') as input and applies transformations\n  // The result of the previous function is passed as input to the next function\n  // The final transformed style is assigned to 'this._style'\n  return formattersArray.reduce(\n    (obj, [func, args]) => func(obj, ...args),\n    originalObj\n  );\n};\n\n/**\n * Replaces alias values in the provided style object with their corresponding aliases.\n * @param {object} value - The style object to process.\n * @param {Array<Object>} [aliasStyles=[]] - Optional array of alias styles to apply.\n * @returns {object} The style object with alias values replaced.\n */\nexport const replaceAliasValues = (value, aliasStyles = []) => {\n  if (typeof value !== 'object' || value === null) {\n    throw new Error('Value must be an object');\n  }\n\n  if (!Array.isArray(aliasStyles)) {\n    throw new Error('Alias styles must be an array');\n  }\n\n  let str = JSON.stringify(value);\n  const aliasProps = [\n    { prev: 'height', curr: 'h', skipWarn: true },\n    { prev: 'width', curr: 'w', skipWarn: true },\n    ...(aliasStyles || [])\n  ];\n\n  aliasProps.forEach(alias => {\n    if (\n      alias &&\n      typeof alias.prev === 'string' &&\n      typeof alias.curr === 'string'\n    ) {\n      !alias.skipWarn &&\n        str.search(`\"${alias.prev}\":`) >= 0 &&\n        log.warn(\n          `The style property \"${alias.prev}\" is deprecated and will be removed in a future release. Please use \"${alias.curr}\" instead.`\n        );\n      str = str.replace(\n        new RegExp(`\"${alias.prev}\":`, 'gi'),\n        `\"${alias.curr}\":`\n      );\n    }\n  });\n  return JSON.parse(str);\n};\n","import context from '../../globals/context/index';\n\nconst themeStyleCache = new Map();\n\ncontext.on('themeUpdate', () => {\n  themeStyleCache.clear();\n});\n\nexport default themeStyleCache;\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  generateComponentStyleSource,\n  getStyleChainMemoized,\n  clearStyleChainCache,\n  generateStyle,\n  getHash\n} from './utils';\nimport context from '../../globals/context/index';\nimport { clone } from '../../utils/index';\nimport cache from './cache';\nimport lng from '@lightningjs/core';\n\nexport default class StyleManager extends lng.EventEmitter {\n  /**\n   * Create a Style Manager instance.\n   * @param {object} options - The options object.\n   * @param {object} options.component - The LightningJS component instance.\n   */\n  constructor({ component = {} } = {}) {\n    super(...arguments);\n    this.init(component);\n  }\n\n  init(component) {\n    this.isActive = true;\n    this.component = component;\n    this.setupListeners();\n    this._style = {}; // This will be the source of truth for the style manager\n    // Initial update is not debounced\n    this.update();\n  }\n\n  setupListeners() {\n    // Bind the _onThemeUpdate method to the current instance of the StyleManager class.\n    this._boundThemeUpdate = this._onThemeUpdate.bind(this);\n    this._hasSubTheme = Boolean(this.component._targetSubTheme);\n    if (!this.component._targetSubTheme) {\n      context.on('themeUpdate', this._boundThemeUpdate);\n    } else {\n      context.on(\n        `themeUpdate${this.component._targetSubTheme}`,\n        this._boundThemeUpdate\n      );\n    }\n  }\n\n  clearListeners() {\n    // Bind the _onThemeUpdate method to the current instance of the StyleManager class.\n    if (!this._boundThemeUpdate) return;\n    if (!this.component._targetSubTheme) {\n      context.off('themeUpdate', this._boundThemeUpdate);\n    } else {\n      context.off(\n        `themeUpdate${this.component._targetSubTheme}`,\n        this._boundThemeUpdate\n      );\n    }\n  }\n\n  /**\n   * Destroy the Style Manager instance and remove the themeUpdate event listener.\n   */\n  destroy() {\n    this.isActive = false;\n    this._cleanupCache();\n    // Remove event listeners and subscriptions\n    this.clearListeners();\n    // Set references to null\n    this._styleCache = null;\n    this._boundThemeUpdate = null;\n    this.component = null;\n  }\n\n  /**\n   * Handler for the themeUpdate event. Clears the cache and updates the component's style.\n   * @private\n   */\n  _onThemeUpdate() {\n    clearStyleChainCache();\n    this.clearSourceCache();\n    this.clearStyleCache();\n    this.update();\n  }\n\n  /**\n   * Clears the source cache.\n   */\n  clearSourceCache() {\n    if (!this.component) return;\n    const sourceKey = this._generateCacheKey('styleSource');\n    this._removeCache(sourceKey);\n  }\n\n  /**\n   * Clears the style cache.\n   */\n  clearStyleCache() {\n    if (!this.component) return;\n    const { tone, mode } = this.component;\n    const styleKey = this._generateCacheKey(`style_${mode}_${tone}`);\n    cache.delete(styleKey);\n  }\n\n  /**\n   * Generates a cache key.\n   * @param {string} name - The name of the cache.\n   * @returns {string} - The generated cache key.\n   */\n  _generateCacheKey(name) {\n    const cacheKey = [\n      name,\n      this.component.constructor.__componentName,\n      this._customStyleHash\n    ]\n      .filter(Boolean)\n      .join('_');\n    return cacheKey;\n  }\n\n  /**\n   * Adds a cache.\n   * @param {string} name - The name of the cache.\n   * @param {object} payload - The payload of the cache.\n   */\n  _addCache(name, payload) {\n    const key = this._generateCacheKey(name);\n    const existing = cache.get(key);\n    cache.set(key, {\n      ids: [...new Set([...(existing?.ids || []), this.component.__id])], // Add current id and remove duplicates\n      payload\n    });\n  }\n\n  /**\n   * Called when component is destroyed\n   */\n  _cleanupCache() {\n    if (!this.component) return;\n    cache.forEach(({ ids, payload }, name) => {\n      const removeIndex = ids && ids.length && ids.indexOf(this.component.__id);\n      if (removeIndex > -1 && ids.length > 1) {\n        cache.set(name, {\n          ids: ids.slice(0, removeIndex).concat(ids.slice(removeIndex + 1)),\n          payload\n        });\n      } else if (removeIndex > -1) {\n        cache.delete(name);\n      }\n    });\n  }\n\n  /**\n   * Removes a cache.\n   * @param {string} name - The name of the cache.\n   */\n  _removeCache(name) {\n    cache.delete(name);\n  }\n\n  /**\n   * Gets a cache.\n   * @param {string} name - The name of the cache.\n   * @returns {object|boolean} - The cache or false if the component has inline styles.\n   */\n  _getCache(name) {\n    const key = this._generateCacheKey(name);\n    return cache.get(key);\n  }\n\n  /**\n   * Updates the component's style based on changes in tone, mode, theme, and `_componentLevelStyle`.\n   * Clears the style cache if tone or mode have changed, and clears the source cache if `_componentLevelStyle` has changed.\n   * Generates the component's style source and style objects, saves them to the cache, and emits a `styleUpdate` event with the updated style.\n   * @returns {Promise<void>}\n   */\n  update() {\n    if (!this.component) return;\n\n    const { mode, tone } = this.component;\n\n    try {\n      // Attempt to fetch style source from cache\n      let styleSource = this._getCache('styleSource')?.payload;\n\n      if (!styleSource) {\n        // Style source does not exist so it will need to be generated. We attempt to run this function only when necessary for optimal performance\n        styleSource = generateComponentStyleSource({\n          alias: this.component.constructor.aliasStyles,\n          componentConfig: this.component._componentConfig,\n          inlineStyle: this.component._componentLevelStyle,\n          styleChain: getStyleChainMemoized(this.component),\n          theme: this.component.theme\n        });\n\n        this._addCache('styleSource', styleSource);\n      }\n\n      // Attempt to fetch style from cache\n      let style = this._getCache(`style_${mode}_${tone}`)?.payload;\n\n      if (!style) {\n        // Style does not exist so will also need to be generated\n        style = generateStyle(this.component, styleSource);\n        this._addCache(`style_${mode}_${tone}`, style);\n      }\n\n      this._style = style;\n      this.emit('styleUpdate', this.style);\n    } catch (error) {\n      context.error('styleManager: ', error.message);\n    }\n  }\n\n  /**\n   * Accessors\n   */\n  set style(v) {\n    context.warn('styleManager: Cannot mutate style directly');\n  }\n\n  get style() {\n    return this._style;\n  }\n\n  set props(v) {\n    context.warn('styleManager: Cannot mutate props directly');\n  }\n\n  get props() {\n    return Object.keys(this.component._componentConfig).reduce((acc, key) => {\n      if (!['base', 'tone', 'mode', 'style', 'styleConfig'].includes(key)) {\n        acc[key] = this.component._componentConfig[key];\n      }\n\n      return acc;\n    }, {});\n  }\n\n  /**\n   * Simple check to see if this component can leverage caching. Components using .style cannot use the cache at this time\n   */\n  get _customStyleHash() {\n    const hasCustomStyle =\n      Boolean(\n        Object.keys(this.component.constructor.__mixinStyle || {}).length\n      ) ||\n      Boolean(Object.keys(this.component._componentLevelStyle || {}).length);\n\n    if (hasCustomStyle) {\n      return getHash(\n        clone(\n          this.component.constructor.__mixinStyle || {},\n          this.component._componentLevelStyle || {}\n        )\n      );\n    }\n\n    return undefined;\n  }\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport StyleManager from './StyleManager';\nimport { updateManager } from '../../globals/global-update-manager/GlobalUpdateManager';\nimport context from '../../globals/context';\nimport { getComponentConfig, getSubTheme } from './utils';\nimport { capitalizeFirstLetter } from '../../utils';\n\n/**\n * Merges two objects based on the following rules:\n * 1. If a key exists in both objects, use the value from the second object.\n * 2. If a key exists in the first object but not in the second, set the value to undefined.\n * 3. If a key exists in the second object but not in the first, include it in the result.\n * 4. Maintain the structure of the first object and augment it with extra keys from the second object.\n *\n * @param {Object|Array} firstObj - The first object, providing the structure to match.\n * @param {Object|Array} secondObj - The second object, whose values take precedence.\n * @returns {Object|Array} A new object with a merged structure and values.\n */\nfunction mergeObjectsWithSecondDominant(firstObj, secondObj) {\n  if (firstObj !== null && typeof firstObj === 'object') {\n    if (Array.isArray(firstObj)) {\n      return firstObj.map((item, index) =>\n        mergeObjectsWithSecondDominant(\n          item,\n          Array.isArray(secondObj) ? secondObj[index] : undefined\n        )\n      );\n    } else {\n      const result = {};\n      // Combine keys from both objects to ensure all keys are covered\n      const allKeys = new Set([\n        ...Object.keys(firstObj),\n        ...Object.keys(secondObj)\n      ]);\n      allKeys.forEach(key => {\n        // Recurse for nested objects or arrays\n        if (typeof firstObj[key] === 'object' && firstObj[key] !== null) {\n          result[key] = mergeObjectsWithSecondDominant(\n            firstObj[key],\n            secondObj[key] || {}\n          );\n        } else if (\n          typeof secondObj[key] === 'object' &&\n          secondObj[key] !== null\n        ) {\n          result[key] = mergeObjectsWithSecondDominant(\n            firstObj[key] || {},\n            secondObj[key]\n          );\n        } else {\n          // Use value from the second object if available, else set to undefined\n          result[key] = secondObj.hasOwnProperty(key)\n            ? secondObj[key]\n            : undefined;\n        }\n      });\n      return result;\n    }\n  } else {\n    // Return non-object values directly\n    return firstObj;\n  }\n}\n\n/**\n * A higher-order function that returns a class with theme styles.\n * @param {function} Base - The base class to extend.\n * @param {object} mixinStyle - The mixin style to add to the component.\n * @returns {function} A class that extends the base class with theme styles.\n */\nexport default function withThemeStyles(Base, mixinStyle = {}) {\n  return class extends Base {\n    _construct() {\n      if (this._withThemeStylesSetupComplete) {\n        // Make sure this runs ony once if being used on a component that extends another component that is utilizing withThemeStyles\n        super._construct();\n        return;\n      }\n\n      this._hSetByUser = false;\n      this._wSetByUser = false;\n\n      this._styleManager = new StyleManager({ component: this });\n      this._style = this._styleManager.style; // Set the style for the first time. After this is will be updated by events\n      this._updatePropDefaults();\n      this._styleManager.on('styleUpdate', () => {\n        this._style = this._styleManager.style;\n        this._updatePropDefaults();\n        this.queueThemeUpdate();\n      });\n      this._withThemeStylesSetupComplete = true;\n      super._construct(); // Important that this is called at the bottom to ensure that withThemeStyles is only initialized once per component to prevent potential memory leaks\n    }\n\n    /**\n     * Checks for subThemes on _setup lifecycle event to allow the component to traverse the tree to find child theme properties.\n     * @private\n     * @returns {void}\n     */\n    _setup() {\n      super._setup && super._setup();\n      this._targetSubTheme = getSubTheme(this);\n      if (this._targetSubTheme) {\n        this._styleManager.clearListeners();\n        this._styleManager.setupListeners();\n        this._styleManager.clearStyleCache();\n        this._styleManager.clearSourceCache();\n        this._styleManager.update();\n      }\n    }\n\n    /**\n     * Updates the default properties of the component based on the current theme.\n     * It compares the previous component configuration properties with the current style manager properties,\n     * and updates the component's properties accordingly. If the properties are unchanged, no action is taken.\n     * This method is crucial for ensuring the component's properties are synchronized with the theme.\n     */\n    _updatePropDefaults() {\n      // If the current properties are the same as the previous configuration, no update is needed\n\n      if (\n        !Object.keys(this._styleManager.props).length ||\n        JSON.stringify(this._styleManager.props) ===\n          JSON.stringify(this._prevComponentConfigProps)\n      ) {\n        return;\n      }\n\n      // Compare current properties with previous configuration and get the payload\n      const payload = this._prevComponentConfigProps\n        ? mergeObjectsWithSecondDominant(\n            this._prevComponentConfigProps || {},\n            this._styleManager.props || {}\n          )\n        : this._styleManager.props || {};\n\n      // Store a deep copy of the current properties for future comparison\n      this._prevComponentConfigProps =\n        this._styleManager.props &&\n        JSON.parse(JSON.stringify(this._styleManager.props));\n\n      // This will be used by withUpdates to set defaults\n      this.__componentConfigProps = payload;\n    }\n\n    /**\n     * On component attach, ensures the StyleManager has been reinitialized if it was previously destroyed in detach.\n     * @private\n     * @returns {void}\n     */\n    _attach() {\n      super._attach();\n      if (!this._styleManager.isActive) {\n        this._styleManager.init(this);\n      }\n    }\n\n    /**\n     * Detaches the component and destroys the style manager.\n     * @private\n     * @returns {void}\n     */\n    _detach() {\n      super._detach();\n      this._styleManager.destroy();\n    }\n\n    /**\n     * Updates the mode to 'unfocused' when the component is unfocused.\n     * @private\n     * @internal\n     * @returns {void}\n     */\n    _unfocus() {\n      if (this._isFocusedMode) this.mode = 'unfocused';\n      super._unfocus();\n    }\n\n    /**\n     * Updates the mode to 'focused' when the component is focused.\n     * @private\n     * @returns {void}\n     */\n    _focus() {\n      if (!this._isDisabledMode) this.mode = 'focused';\n      super._focus();\n    }\n\n    /**\n     * Checks if dimensions need updating, and updates if necessary.\n     * Fixes mount issues if height is controlled by a component's style alone.\n     * Setters for w/h will set the wSetByUser and hSetByUser flag to block this functionality and allow customization.\n     * @private\n     * @returns {void}\n     */\n    _checkDimensionUpdates() {\n      let dimensionUpdateRequired = false;\n\n      if (!this._wSetByUser && this.style.w && this._w !== this.style.w) {\n        this._w = this.style.w;\n        dimensionUpdateRequired = true;\n      }\n\n      if (!this._hSetByUser && this.style.h && this._h !== this.style.h) {\n        this._h = this.style.h;\n        dimensionUpdateRequired = true;\n      }\n\n      if (dimensionUpdateRequired) {\n        this._updateDimensions();\n      }\n    }\n\n    /**\n     * Called by the update manager to trigger the _update lifecycle.\n     * If `queueRequestUpdate` is undefined, then it's OK to call `_update()` directly because\n     * the component does not have the `withUpdates` mixin, and hence `requestUpdate()` will not be defined either.\n     * This check allows this mixin to work without `withUpdates`.\n     * @private\n     * @returns {void}\n     */\n    _updateThemeComponent() {\n      if (!this.style) return;\n      if (!this._isAttached()) return;\n      this._checkDimensionUpdates();\n      this.queueRequestUpdate\n        ? this.queueRequestUpdate()\n        : this._update && this._update();\n      this._updateItemLayout && this._updateItemLayout();\n    }\n\n    /**\n     * Queues component for update by the Global Update Manager.\n     * @returns {void}\n     */\n    queueThemeUpdate() {\n      updateManager.addUpdateTheme(this);\n    }\n\n    static get name() {\n      return Base.name;\n    }\n\n    static get __componentName() {\n      if (!super.__componentName) {\n        throw new Error(\n          `A valid static __componentName property is required for theming to work properly. Please add this to the ${this.constructor.name} class.`\n        );\n      }\n      return super.__componentName;\n    }\n\n    static get __mixinStyle() {\n      return mixinStyle;\n    }\n\n    /**\n     * Reference to the global theme\n     * @return {object}\n     */\n    get theme() {\n      const subTheme =\n        this._targetSubTheme && context.getSubTheme(this._targetSubTheme);\n      return subTheme || context.theme;\n    }\n\n    /**\n     * Set component level styles\n     * @param {object} v - The styles to set, mode, and tone are not allowed\n     */\n    set style(v) {\n      if (Object.prototype.toString.call(v) !== '[object Object]') {\n        context.error('style must be an object');\n        return;\n      }\n      this._componentLevelStyle = v;\n      this._styleManager.clearStyleCache();\n      this._styleManager.update();\n    }\n\n    /**\n     * Get component level styles\n     * @return {object}\n     */\n    get style() {\n      return this._style;\n    }\n\n    /**\n     * Get component level styles\n     * @return {object}\n     */\n    get _componentStyle() {\n      /** No longer supported */\n      context.info(\n        '_componentStyle will soon be deprecated. Please use Component.style'\n      );\n      return this._style;\n    }\n\n    /**\n     * Set component styleConfig\n     * @param {object} v - Special configuration rules to override styles\n     */\n    set styleConfig(v) {\n      context.info(\n        'style config is deprecated. Please use style = { base: {}, tone: {}, mode: {} }'\n      );\n      this._styleConfig = v;\n      this._styleManager.update();\n    }\n\n    /**\n     * Get component styleConfig\n     * @return {object}\n     */\n    get styleConfig() {\n      return this._styleConfig;\n    }\n\n    /**\n     * Theme configuration for overrides and defaults\n     * @return {object}\n     */\n    get _componentConfig() {\n      return getComponentConfig(this);\n    }\n\n    /**\n     * Get the mode property\n     * @return {string}\n     */\n    get mode() {\n      return this._mode || this._componentConfig?.mode || 'unfocused';\n    }\n\n    /**\n     * Set the mode property\n     * @param {string} v - The mode value to set\n     */\n    set mode(v) {\n      if (typeof v !== 'string' || this._mode === v) return;\n      this._mode = v;\n      const event = this[`on${capitalizeFirstLetter(v)}`];\n      if (event && typeof event === 'function') event.call(this);\n      this._styleManager.update();\n    }\n\n    /**\n     * Get the tone property\n     * @return {string}\n     */\n    get tone() {\n      return this._tone || this._componentConfig.tone || 'neutral';\n    }\n\n    /**\n     * Set the tone property\n     * @param {string} value - The tone value to set\n     */\n    set tone(v) {\n      if (typeof v !== 'string' || this._tone === v) return;\n      this._tone = v;\n      this._styleManager.update();\n    }\n\n    /**\n     * Allow for w to be overwritten by user if also in component's style file\n     * @return {number}\n     */\n    get w() {\n      return (this._wSetByUser && this._w) || this.style?.w || 0;\n    }\n\n    /**\n     * Set the w property\n     * @param {number} v - The w value to set\n     */\n    set w(v) {\n      if (this._w === v) return;\n      super.w = v;\n      this._wSetByUser = true;\n      this._updateThemeComponent();\n    }\n\n    /**\n     * Get the h property\n     * @return {number}\n     */\n    get h() {\n      return (this._hSetByUser && this._h) || this.style?.h || this._h || 0;\n    }\n\n    /**\n     * Set the h property\n     * @param {number} v - The h value to set\n     */\n    set h(v) {\n      if (this._h === v) return;\n      super.h = v;\n      this._hSetByUser = true;\n      this._updateThemeComponent();\n    }\n  };\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport context from '../../globals/context';\nimport { updateManager } from '../../globals/global-update-manager/GlobalUpdateManager';\nimport { clone } from '../../utils';\n\nfunction capital(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n// Merge the componentConfigProp with the prop value\nfunction mergeProps(componentConfigProp, prop) {\n  let result = prop;\n  if (\n    typeof componentConfigProp === 'object' &&\n    Object.keys(componentConfigProp).length &&\n    typeof prop === 'object'\n  ) {\n    result = clone(componentConfigProp, prop);\n  }\n\n  return result ?? componentConfigProp;\n}\n\nfunction getPropertyDescriptor(name, key) {\n  return {\n    get() {\n      const customGetter = this[`_get${capital(name)}`];\n      if (customGetter && typeof customGetter === 'function') {\n        const value = customGetter.call(this, this[key]);\n        this[key] = value || this.__componentConfigProps?.[name]; // Defaults can also be set from withThemeStyles if used\n        return mergeProps(this.__componentConfigProps?.[name], value);\n      }\n\n      return mergeProps(this.__componentConfigProps?.[name], this[key]); // Defaults can also be set from withThemeStyles if used\n    },\n    set(value) {\n      const oldValue = this[key];\n      if (value !== oldValue) {\n        const changeHandler = this[`_set${capital(name)}`];\n        if (changeHandler && typeof changeHandler === 'function') {\n          value = changeHandler.call(this, value);\n        }\n\n        const newValue = key === 'style' ? clone(this[key], value) : value;\n\n        if (\n          typeof this[key] === 'object' &&\n          this[key] !== null &&\n          this[key].style\n        ) {\n          // If the property is for a nested component, recursively combine it with the component's existing styles, ensuring that any styles defined in componentConfig are also applied.\n          const style = clone(this[key].style, value.style || {});\n          newValue.style = style;\n        }\n\n        this[key] = newValue;\n        this.queueRequestUpdate();\n      }\n    },\n    configurable: true,\n    enumerable: true\n  };\n}\n\nfunction getAliasPropertyDescriptor(prev, curr) {\n  const deprecationWarning = `The property \"${prev}\" is deprecated and will be removed in a future release. Please use \"${curr}\" instead.`;\n  return {\n    get() {\n      console.warn(deprecationWarning);\n      return this[curr];\n    },\n    set(value) {\n      console.warn(deprecationWarning);\n      this[curr] = value;\n    }\n  };\n}\n\nexport default function withUpdates(Base) {\n  return class extends Base {\n    static get name() {\n      return Base.name;\n    }\n\n    _construct() {\n      const prototype = Object.getPrototypeOf(this);\n      if (!prototype._withUpdatesInitialized) {\n        // create custom accessors and mutators for the props in the properties array\n        const props = this.constructor.properties || [];\n        props.forEach(name => {\n          const key = '_' + name;\n          const descriptor = getPropertyDescriptor(name, key);\n          if (descriptor !== undefined) {\n            Object.defineProperty(prototype, name, descriptor);\n          }\n        });\n\n        // create custom accessors and mutators that map the props in the alias array to\n        // the props in the properties array (and use the getters/setters defined above)\n        const aliasProps = this.constructor.aliasProperties || [];\n        aliasProps.forEach(alias => {\n          if (\n            alias &&\n            typeof alias.prev === 'string' &&\n            typeof alias.curr === 'string'\n          ) {\n            const descriptor = getAliasPropertyDescriptor(\n              alias.prev,\n              alias.curr\n            );\n            if (descriptor !== undefined) {\n              Object.defineProperty(prototype, alias.prev, descriptor);\n            }\n          }\n        });\n\n        prototype._withUpdatesInitialized = true;\n      }\n\n      this._whenEnabled = new Promise(resolve => {\n        this._whenEnabledResolver = resolve;\n      });\n\n      super._construct && super._construct();\n    }\n\n    queueRequestUpdate() {\n      if (!this._isAttached()) return;\n      updateManager.addRequestUpdate(this);\n    }\n\n    _firstEnable() {\n      this._readyForUpdates = true;\n      this._whenEnabledResolver();\n      updateManager.deleteRequestUpdate(this);\n      this.requestUpdate();\n      super._firstEnable && super._firstEnable();\n    }\n\n    requestEarlyUpdate() {\n      this._readyForUpdates = true;\n      if (updateManager.hasQueuedRequestFor(this)) {\n        updateManager.deleteRequestUpdate(this);\n        // method also triggers ready for updates\n        this._readyForUpdates = true;\n        this.requestUpdate();\n        return true;\n      }\n      return false;\n    }\n\n    _detach() {\n      super._detach();\n      updateManager.deleteRequestUpdate(this);\n    }\n\n    /**\n     * Request an immediate component update.\n     *\n     * @remarks\n     * Except for when calling `super._update()` from a `_update()`\n     * implementation, call this instead of calling `_update()` directly\n     *\n     * @param {boolean} force If set, bypasses the '_readyForUpdates' check\n     */\n    requestUpdate(force = false) {\n      if (this._readyForUpdates || force) {\n        const result = this._update();\n        if (typeof result === 'object' && result !== null && result.catch) {\n          // This is a promise, make sure to capture any errors\n          result.catch(e => {\n            context.error(\n              `asyncronous _update() error in '${this.constructor.__componentName}'`,\n              this,\n              e\n            );\n          });\n        }\n      }\n    }\n\n    logPropTable() {\n      console.table(this._propTable);\n    }\n\n    get _propTable() {\n      return this.constructor.properties.reduce((acc, prop) => {\n        acc[prop] = this[prop];\n        return acc;\n      }, {});\n    }\n  };\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport lng from '@lightningjs/core';\n\nexport default class FadeShader extends lng.shaders.WebGLDefaultShader {\n  constructor(context) {\n    super(context);\n    this._margin = { left: 0, right: 0 };\n  }\n\n  set positionLeft(v) {\n    this._positionLeft = v;\n  }\n\n  set positionRight(v) {\n    this._positionRight = v;\n  }\n\n  setupUniforms(operation) {\n    super.setupUniforms(operation);\n    const owner = operation.shaderOwner;\n\n    if (this._positionLeft === 0) {\n      this._positionLeft = 0.001;\n    }\n    if (this._positionRight === 0) {\n      this._positionRight = 0.001;\n    }\n\n    const renderPrecision = this.ctx.stage.getRenderPrecision();\n    this._setUniform(\n      'margin',\n      [\n        this._positionLeft * renderPrecision,\n        this._positionRight * renderPrecision\n      ],\n      this.gl.uniform1fv\n    );\n    this._setUniform(\n      'resolution',\n      new Float32Array([\n        owner._w * renderPrecision,\n        owner._h * renderPrecision\n      ]),\n      this.gl.uniform2fv\n    );\n  }\n}\n\nFadeShader.fragmentShaderSource = `\n  #ifdef GL_ES\n  # ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n  # else\n  precision lowp float;\n  # endif\n  #endif\n\n  #define PI 3.14159265359\n\n  varying vec2 vTextureCoord;\n  varying vec4 vColor;\n\n  uniform sampler2D uSampler;\n  uniform vec2 resolution;\n  uniform float margin[2];\n\n  void main() {\n      vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n      vec2 halfRes = 0.5 * resolution.xy;\n      vec2 point = vTextureCoord.xy * resolution;\n\n\n      vec2 pos1 = vec2(point.x, point.y);\n      vec2 pos2 = pos1;\n      pos2.x += margin[0];\n\n      vec2 d = pos2 - pos1;\n      float t = dot(pos1, d) / dot(d, d);\n      t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));\n\n      vec2 pos3 = vec2(vTextureCoord.x * resolution.x, vTextureCoord.y);\n      pos3.x -= resolution.x - margin[1];\n      vec2 pos4 = vec2(vTextureCoord.x + margin[1], vTextureCoord.y);\n\n      vec2 d2 = pos4 - pos3;\n      float t2 = dot(pos3, d2) / dot(d2, d2);\n      t2 = smoothstep(0.0, 1.0, clamp(t2, 0.0, 1.0));\n\n      color = mix(vec4(0.0), color, t);\n      color = mix(color, vec4(0.0), t2);\n\n      gl_FragColor = color;\n  }\n`;\n","import lng from '@lightningjs/core';\n\n/**\n * Represents an image texture that supports loading blob images and SVG strings without using web workers.\n */\n\n/**\n * Checks the file type based on the given string.\n * @param {string} str - The input string to check.\n * @returns {string} The file type.\n */\nfunction checkFileType(str) {\n  if (str.startsWith('<svg')) {\n    return 'SVG';\n  } else if (str.startsWith('blob:')) {\n    return 'Blob';\n  } else if (/\\.(jpeg|jpg|gif|png|svg)$/i.test(str)) {\n    return 'Image';\n  } else {\n    return 'Unknown';\n  }\n}\n\n/**\n * Creates an SVG canvas.\n * @param {function} cb - The callback function.\n * @param {object} stage - The stage object.\n * @param {string} url - The URL of the SVG.\n * @param {number} w - The width of the canvas.\n * @param {number} h - The height of the canvas.\n */\nfunction createSvg(cb, stage, url, w, h) {\n  const canvas = stage.platform.getDrawingCanvas();\n  const ctx = canvas.getContext('2d');\n  ctx.imageSmoothingEnabled = true;\n\n  const img = new Image();\n  img.onload = () => {\n    canvas.width = w;\n    canvas.height = h;\n    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n    cb(null, { source: canvas, w, h });\n  };\n  img.onerror = err => {\n    cb(err);\n  };\n\n  // On the PS4 platform setting the `crossOrigin` attribute on images\n  // can cause CORS failures.\n  if (!lng.Utils.isPS4) {\n    img.crossOrigin = 'Anonymous';\n  }\n\n  img.src = url;\n}\n\n/**\n * Loads an image from the given source.\n * @param {object} params - The parameters object.\n * @param {string} params.src - The source URL of the image.\n * @param {function} cb - The callback function.\n * @returns {function} A cancel callback function.\n */\nfunction imageLoader({ src }, cb) {\n  const image = new Image();\n\n  // On the PS4 platform setting the `crossOrigin` attribute on\n  // images can cause CORS failures.\n  if (!(src.substr(0, 5) == 'data:') && !lng.Utils.isPS4) {\n    image.crossOrigin = 'Anonymous';\n  }\n  image.onerror = function () {\n    // Ignore error message when cancelled.\n    if (image.src) {\n      return cb('Image load error');\n    }\n  };\n  image.onload = function () {\n    cb(null, {\n      source: image,\n      renderInfo: { src: src, compressed: false },\n      hasAlpha: true\n    });\n  };\n\n  image.src = src;\n\n  return function () {\n    // Cancel Callback\n    image.onerror = null;\n    image.onload = null;\n    image.removeAttribute('src');\n  };\n}\n\n/**\n * Represents an image texture.\n */\nexport default class CustomImageTexture extends lng.Texture {\n  /**\n   * Creates a new ImageTexture instance.\n   * @param {object} stage - The stage object.\n   */\n  constructor(stage) {\n    super(stage);\n\n    this._src = undefined;\n    this._hasAlpha = false;\n  }\n\n  /**\n   * Gets the source URL of the image.\n   * @returns {string} The source URL.\n   */\n  get src() {\n    return this._src;\n  }\n\n  /**\n   * Sets the source URL of the image.\n   * @param {string} v - The source URL.\n   */\n  set src(v) {\n    if (this._src !== v) {\n      this._src = v;\n      this._changed();\n    }\n  }\n\n  /**\n   * Gets the flag indicating whether the image has an alpha channel.\n   * @returns {boolean} The flag value.\n   */\n  get hasAlpha() {\n    return this._hasAlpha;\n  }\n\n  /**\n   * Sets the flag indicating whether the image has an alpha channel.\n   * @param {boolean} v - The flag value.\n   */\n  set hasAlpha(v) {\n    if (this._hasAlpha !== v) {\n      this._hasAlpha = v;\n      this._changed();\n    }\n  }\n\n  /**\n   * Gets the width of the image.\n   * @returns {number} The width value.\n   */\n  get w() {\n    return this._w;\n  }\n\n  /**\n   * Sets the width of the image.\n   * @param {number} l - The width value.\n   */\n  set w(l) {\n    this._w = l;\n    this._changed();\n  }\n\n  /**\n   * Gets the height of the image.\n   * @returns {number} The height value.\n   */\n  get h() {\n    return this._h;\n  }\n\n  /**\n   * Sets the height of the image.\n   * @param {number} l - The height value.\n   */\n  set h(l) {\n    this._h = l;\n    this._changed();\n  }\n\n  /**\n   * Checks if the image texture is valid.\n   * @returns {boolean} True if valid, otherwise false.\n   */\n  _getIsValid() {\n    return !!this._src;\n  }\n\n  /**\n   * Gets the lookup ID of the image texture.\n   * @returns {string} The lookup ID.\n   */\n  _getLookupId() {\n    return this._src;\n  }\n\n  /**\n   * Gets the source loader function for the image texture.\n   * @returns {function} The source loader function.\n   */\n  _getSourceLoader() {\n    const w = this._w;\n    const h = this._h;\n    let src = this._src;\n    const hasAlpha = this._hasAlpha;\n    if (this.stage.getOption('srcBasePath')) {\n      const fc = src.charCodeAt(0);\n      if (\n        src.indexOf('//') === -1 &&\n        ((fc >= 65 && fc <= 90) || (fc >= 97 && fc <= 122) || fc == 46)\n      ) {\n        // Alphabetical or dot: prepend base path.\n        src = this.stage.getOption('srcBasePath') + src;\n      }\n    }\n\n    return cb => {\n      const fileType = checkFileType(src);\n      switch (fileType) {\n        case 'SVG':\n          return createSvg(\n            cb,\n            this.stage,\n            `data:image/svg+xml,${encodeURIComponent(src)}`,\n            w,\n            h\n          );\n\n        case 'Blob':\n          return imageLoader({ src }, cb);\n        default:\n          return this.stage.platform.loadSrcTexture(\n            { src: src, hasAlpha: hasAlpha },\n            cb\n          );\n      }\n    };\n  }\n\n  /**\n   * Gets the non-default properties of the image texture.\n   * @returns {object} The non-default properties.\n   */\n  getNonDefaults() {\n    const obj = super.getNonDefaults();\n    if (this._src) {\n      obj.src = this._src;\n    }\n    return obj;\n  }\n}\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport lng from '@lightningjs/core';\nimport logger from '../globals/context/logger';\n\n/**\n *\n * Layout Utils\n *\n */\n\n/**\n * Copyright (c) 2009-2012 Jeremy Ashkenas, DocumentCloud\n * Licensed under the MIT License\n * Copyright (c) 2012-2018 The Debounce Contributors. See CONTRIBUTORS\n * Licensed under the MIT License\n */\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear'\n * that is a function which will clear the timer to prevent previously scheduled executions.\n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {function} function to wrap\n * @param {number} timeout in ms (`100`)\n * @param {boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nexport function debounce(func, wait, immediate) {\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  }\n\n  var debounced = function () {\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function () {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  debounced.flush = function () {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n}\n\nexport function getEuclideanDistance(xA, yA, xB, yB) {\n  const xDiff = xA - xB;\n  const yDiff = yA - yB;\n  return Math.sqrt(Math.pow(xDiff, 2) + Math.sqrt(Math.pow(yDiff, 2)));\n}\n\n/**\n * Returns the shortest distance between a coordinate and a corner or center of an element.\n * @param {[number, number]} coordinate\n * @param {Element} element\n *\n * @return {number} shortest distance between a coordinate and a corner or center of an element.\n */\nexport function getShortestDistance(coordinate, element) {\n  const [xA, yA] = coordinate;\n  const [xB, yB] = element.core ? element.core.getAbsoluteCoords(0, 0) : [0, 0];\n\n  const distanceToStart = getEuclideanDistance(xA, yA, xB, yB);\n  const distanceToMiddle = getEuclideanDistance(\n    xA,\n    yA,\n    xB + element.w / 2,\n    yB + element.h / 2\n  );\n  const distanceToEnd = getEuclideanDistance(\n    xA,\n    yA,\n    xB + element.w,\n    yB + element.h\n  );\n\n  return Math.min(distanceToStart, distanceToMiddle, distanceToEnd);\n}\n\nexport function isComponentOnScreen(component, offsets = {}) {\n  if (!component) return false;\n\n  const {\n    w,\n    h,\n    core: { renderContext: { px, py }, _scissor: scissor = [] } = {}\n  } = component;\n  const stageH = component.stage.h / component.stage.getRenderPrecision();\n  const stageW = component.stage.w / component.stage.getRenderPrecision();\n\n  let finalX = px;\n  let finalY = py;\n  // keep track of the different between the the absolute world position and relative position\n  const relativeOffsetX = px - component.x;\n  const relativeOffsetY = py - component.y;\n  const offsetX = offsets.offsetX - relativeOffsetX || 0;\n  const offsetY = offsets.offsetY - relativeOffsetY || 0;\n  // if the current component is animating, apply the relative offset to the transition value\n  if (component.transition('x')) {\n    finalX = px - component.x + component.transition('x').targetValue;\n  }\n  if (component.transition('y')) {\n    finalY = py - component.y + component.transition('y').targetValue;\n  }\n  // apply any offset passed into the function\n  // this is mainly used to parent components that are transitioning,\n  // like in the case of Rows nested inside of Columns where the Rows themselves do not animate,\n  // but their parent container does\n  finalX += offsetX;\n  finalY += offsetY;\n\n  const wVis = finalX >= 0 && finalX + w <= stageW;\n  const hVis = finalY >= 0 && finalY + h <= stageH;\n\n  if (!wVis || !hVis) return false;\n\n  if (scissor && scissor.length) {\n    const [\n      leftBounds = null,\n      topBounds = null,\n      clipWidth = null,\n      clipHeight = null\n    ] = scissor;\n\n    const withinLeftClippingBounds =\n      Math.round(finalX + w) >= Math.round(leftBounds);\n    const withinRightClippingBounds =\n      Math.round(finalX) <= Math.round(leftBounds + clipWidth);\n    const withinTopClippingBounds =\n      Math.round(finalY + h) >= Math.round(topBounds);\n    const withinBottomClippingBounds =\n      Math.round(finalY + h) <= Math.round(topBounds + clipHeight);\n\n    return (\n      withinLeftClippingBounds &&\n      withinRightClippingBounds &&\n      withinTopClippingBounds &&\n      withinBottomClippingBounds\n    );\n  }\n\n  return true;\n}\n\n/**\n * Returns the width of an item based on upCount.\n *\n * @param {number} upCount\n * @returns {number}\n */\nexport function getWidthByUpCount(theme, upCount = 1) {\n  const screenW = theme.layout.screenW;\n  const columnCount = theme.layout.columnCount;\n  const marginX = theme.layout.marginX;\n  const gutterX = theme.layout.gutterX;\n\n  if (upCount < 1 || upCount > columnCount) {\n    console.error(\n      `Column expects a number between 1 & ${columnCount}. Received ${upCount}`\n    );\n    return;\n  }\n\n  // the screen width, minus the margin x on each side\n  const columnWidth = screenW - marginX * 2;\n  // the total space of column gaps in between items\n  const columnGapTotal = (upCount - 1) * gutterX;\n  // the remaining amount of space left for all items\n  const totalColumnsWidth = columnWidth - columnGapTotal;\n  // the width of each item in that remaining width\n  return totalColumnsWidth / upCount;\n}\n\n/**\n * Returns the width of an item based on how many columns to span.\n *\n * @param {number} columnSpan\n * @returns {number}\n */\nexport function getWidthByColumnSpan(theme, columnSpan) {\n  const columnCount = theme.layout.columnCount;\n  const gutterX = theme.layout.gutterX;\n\n  return (\n    getWidthByUpCount(theme, columnCount) * columnSpan +\n    gutterX * (columnSpan - 1)\n  );\n}\n\n/**\n * Returns the x position of a specified column number based on the theme's columnCount.\n *\n * @param {number} column\n * @returns {number}\n */\nexport function getColumnX(theme, column = 1) {\n  const columnCount = theme.layout.columnCount;\n  const marginX = theme.layout.marginX;\n  const gutterX = theme.layout.gutterX;\n\n  return marginX + (getWidthByUpCount(theme, columnCount) + gutterX) * column;\n}\n\n/**\n * Determines the width and height of an item based off the data passed into the item\n * (either all necessary parameters to calculate the dimensions dynamically,\n * OR all the necessary parameters to hard set the dimensions).\n *\n * @param { object } obj\n * @param { object } fallback\n *\n * @return { { number, number } }\n */\nexport function getDimensions(theme, obj = {}, fallback = {}) {\n  const { w, h, ratioX, ratioY, upCount } = obj;\n  const fallbackW = fallback.w || 0;\n  const fallbackH = fallback.h || 0;\n  let dimensions = {};\n\n  // hard set width and height values were passed in and should override other params\n  if (w && h) {\n    dimensions = {\n      w,\n      h: h\n    };\n  } else if (h && ratioX && ratioY) {\n    // hard set height and ratio values were passed in, meaning the row has items with mixed ratios, so the width needs to be calculated\n    dimensions = {\n      w: Math.round((h * ratioX) / ratioY),\n      h: h\n    };\n    // calculate dynamic width and height based off item ratios\n  } else if (ratioX && ratioY && upCount) {\n    dimensions = getItemRatioDimensions(theme, ratioX, ratioY, upCount);\n  } else if (h && upCount) {\n    // calculate dynamic width based off a row upcount and a given height\n    dimensions = {\n      w: Math.round(getWidthByUpCount(theme, upCount)),\n      h: h\n    };\n  } else if (h) {\n    dimensions = {\n      w: fallbackW,\n      h: h\n    };\n  } else if (w) {\n    dimensions = {\n      w: w,\n      h: fallbackH\n    };\n  } else {\n    // not enough information was provided to properly size the component\n    dimensions = {\n      w: fallbackW,\n      h: fallbackH\n    };\n  }\n\n  dimensions = {\n    ...dimensions,\n    ratioX,\n    ratioY,\n    upCount\n  };\n\n  return dimensions;\n}\n\n/**\n * Calculates the width and height of an item based off the given ratios\n * and number of columns across the screen that should be visible before peaking\n *\n * @param { number } ratioX\n * @param { number } ratioY\n * @param { number } upCount\n *\n * @return { { number, number } }\n */\nexport function getItemRatioDimensions(theme, ratioX, ratioY, upCount) {\n  let w, h;\n\n  if (ratioX && ratioY && upCount) {\n    w = Math.round(getWidthByUpCount(theme, upCount));\n    h = Math.round((w / ratioX) * ratioY);\n  } else {\n    w = 0;\n    h = 0;\n  }\n  return { w, h };\n}\n\n/**\n * /Layout utils\n */\n\nexport function getAspectRatioW(h, ratio = '16:9', seperator = ':') {\n  const [ratioW, ratioH] = ratio.split(seperator);\n  return h * (ratioW / ratioH);\n}\n\nexport function getAspectRatioH(w, ratio = '16:9', seperator = ':') {\n  const [ratioW, ratioH] = ratio.split(seperator);\n  return w / (ratioW / ratioH);\n}\n\n/**\n * Combines rgb hex string and alpha into argb hexadecimal number\n * @param {string|number} hex - 6 alphanumeric characters between 0-f or argb hexadecimal number\n * @param {number} [alpha] - number between 0-1 (0 is invisible, 1 is opaque)\n */\nexport function getHexColor(hex, alpha = 1) {\n  if (!hex) {\n    return 0x00;\n  }\n\n  if (typeof hex === 'number') {\n    hex = hex.toString(16).slice(2);\n  }\n\n  hex = hex.replace('#', '');\n\n  const hexAlpha = Math.round(alpha * 255).toString(16);\n  const str = `0x${hexAlpha}${hex}`;\n  return Number(str);\n}\n\n/**\n * Returns valid string of HEX color\n *\n * @param {string} color\n * @param {boolean} fill\n */\nexport function getValidColor(color) {\n  if (typeof color === 'string' || typeof color === 'number') {\n    if (/^0x[0-9a-fA-F]{8}/g.test(color)) {\n      // User enters a valid 0x00000000 hex code\n      return Number(color);\n    } else if (/^#[0-9a-fA-F]{6}/g.test(color)) {\n      // User enters valid #000000 hex code\n      return getHexColor(color.substr(1, 6));\n    } else if (typeof color === 'string' && /^[0-9]{8,10}/g.test(color)) {\n      return parseInt(color);\n    } else if (\n      typeof color === 'number' &&\n      /^[0-9]{8,10}/g.test(color.toString())\n    ) {\n      return color;\n    } else if (typeof color === 'string' && color.indexOf('rgba') > -1) {\n      return rgba2argb(color);\n    } else if (typeof color === 'string' && color.indexOf('rgb') > -1) {\n      const rgba = [...color.replace(/rgb\\(|\\)/g, '').split(','), '255'];\n      return lng.StageUtils.getArgbNumber(rgba);\n    }\n  }\n  return null;\n}\n\nfunction simplifyFraction([numerator, denominator]) {\n  for (let i = numerator; i > 0; i--) {\n    if (!(numerator % i) && !(denominator % i)) {\n      return [numerator / i, denominator / i];\n    }\n  }\n}\n\n/**\n * Reduce a fraction represented as a string\n * @param {string} - a reprentation of a fraction in this format 16/9\n * @return {string} - a reduced representation of the fraction\n */\nexport function reduceFraction(string) {\n  return simplifyFraction(string.split('/').map(n => +n)).join('/');\n}\n\n/**\n * Gets the value at `path` of `object`.\n * @param {object} object\n * @param {string|Array} path\n * @return {*} value if exists else undefined\n */\nexport const getValFromObjPath = (object, path) => {\n  if (typeof path === 'string')\n    path = path.split('.').filter(key => key.length);\n  return path.reduce((dive, key) => dive && dive[key], object);\n};\n\n/**\n * Lightning uses ARGB values, use this function\n * to convert know color to Lightning value\n * https://ifpb.github.io/javascript-guide/ecma/expression-and-operator/argb.html\n */\nexport function rgba2argb(rgbaStr) {\n  const rgba = rgbaStr.replace(/rgba\\(|\\)/g, '').split(',');\n  // Multiple Alpha Value\n  rgba[3] = rgba[3] * 255;\n  return lng.StageUtils.getArgbNumber(rgba);\n}\n\nexport function capitalizeFirstLetter(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nexport function lowercaseFirstLetter(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1);\n}\n\n/**\n * Helpers for lng.Tools.getRoundRect\n */\nexport const RoundRect = {\n  /**\n   * Returns a value that will render as the given width (w)\n   * when passed to lng.Tools.getRoundRect\n   * @param {number} w - px value for expected width\n   * @param {*} options\n   * @param {number} options.padding - px value for both left and right padding\n   * @param {number} options.paddingLeft - px value for left padding, overrides options.padding\n   * @param {number} options.paddingRight - px value for right padding, overrides options.padding\n   * @param {number} options.strokeWidth - px value for stroke width\n   */\n  getWidth(w, options = {}) {\n    const { padding, paddingLeft, paddingRight, strokeWidth } = {\n      padding: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n      strokeWidth: 0,\n      ...options\n    };\n\n    if (!w) return 0;\n\n    return (\n      w - (paddingLeft || padding) - (paddingRight || padding) - strokeWidth\n    );\n  },\n  /**\n   * Returns a value that will render as the given height (h)\n   * when passed to lng.Tools.getRoundRect\n   * @param {number} h - px value for expected width\n   * @param {*} options\n   * @param {number} options.padding - px value for both bottom and top padding\n   * @param {number} options.paddingBottom - px value for bottom padding, overrides options.padding\n   * @param {number} options.paddingTop - px value for top padding, overrides options.padding\n   * @param {number} options.strokeWidth - px value for stroke width\n   */\n  getHeight(h, options = {}) {\n    const { padding, paddingBottom, paddingTop, strokeWidth } = {\n      padding: 0,\n      paddingBottom: 0,\n      paddingTop: 0,\n      strokeWidth: 0,\n      ...options\n    };\n\n    if (!h) return 0;\n\n    return (\n      h - (paddingBottom || padding) - (paddingTop || padding) - strokeWidth\n    );\n  }\n};\n\n/**\n * Merges two objects together and returns the duplicate.\n *\n * @param {object} target - object to be cloned\n * @param {object} [object] - secondary object to merge into clone\n */\nexport function clone(target, object) {\n  // Make sure getters and setters are applied correctly\n  const _clone = Object.create(Object.getPrototypeOf(target));\n  Object.defineProperties(_clone, Object.getOwnPropertyDescriptors(target));\n  if (!object || target === object) return _clone;\n\n  for (const key in object) {\n    const value = object[key];\n    if (target.hasOwnProperty(key)) {\n      _clone[key] = getMergeValue(key, target, object);\n    } else {\n      _clone[key] = value;\n    }\n  }\n\n  return _clone;\n}\n\nfunction getMergeValue(key, target, object) {\n  const targetVal = target[key];\n  const objectVal = object[key];\n  const targetValType = typeof targetVal;\n  const objectValType = typeof objectVal;\n\n  if (\n    targetValType !== objectValType ||\n    objectValType === 'function' ||\n    Array.isArray(objectVal)\n  ) {\n    return objectVal;\n  }\n\n  if (objectVal && objectValType === 'object') {\n    return clone(targetVal, objectVal);\n  }\n\n  return objectVal;\n}\n\n/**\n * Returns the rendered width of a given text texture\n * @param {object} text - text texture properties\n * @param {string} text.text - text value\n * @param {string} text.fontStyle - css font-style property\n * @param {(string|number)} text.fontWeight - css font-weight property\n * @param {string} [fontSize=0] - css font-size property (in px)\n * @param {string} [text.fontFamily=sans-serif] - css font-weight property\n * @param {string} text.fontFace - alias for fontFamily\n *\n * @return {number} text width\n * */\nexport function measureTextWidth(text = {}) {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  const {\n    fontStyle,\n    fontWeight,\n    fontSize,\n    fontFamily = text.fontFace || 'sans-serif'\n  } = text;\n  const fontCss = [\n    fontStyle,\n    fontWeight,\n    fontSize ? `${fontSize}px` : '0',\n    `'${fontFamily}'`\n  ]\n    .filter(Boolean)\n    .join(' ');\n  ctx.font = fontCss;\n  const textMetrics = ctx.measureText(text.text || '');\n\n  return Math.round(textMetrics.width);\n}\n\n/**\n * Returns first argument that is a number. Useful for finding ARGB numbers. Does not convert strings to numbers\n * @param {...*} number - maybe a number\n **/\nexport function getFirstNumber(...numbers) {\n  return numbers.find(Number.isFinite);\n}\n\n/**\n * Naively looks for dimensional prop (i.e. w, h, x, y, etc.), first searching for\n * a transition target value then defaulting to the current set value\n * @param {string} prop - property key\n * @param {lng.Component} component - Lightning component to operate against\n */\nexport function getDimension(prop, component) {\n  if (!component) return 0;\n\n  const transition = component.transition(prop);\n  if (transition.isRunning()) return transition.targetValue;\n\n  let renderProp = prop;\n  if (prop === 'w') {\n    renderProp = 'renderWidth';\n  } else if (prop === 'h') {\n    renderProp = 'renderHeight';\n  }\n  return component[renderProp] || component[prop];\n}\n\nexport const getX = component => getDimension('x', component);\nexport const getY = component => getDimension('y', component);\nexport const getW = component => getDimension('w', component);\nexport const getH = component => getDimension('h', component);\n\n/**\n * Array.prototype.flat() is not supported in WPE Browser\n *\n * @param {array} arr\n *\n * @return {array}\n */\nexport function flatten(arr) {\n  return arr.reduce(\n    (flat, toFlatten) =>\n      flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten),\n    []\n  );\n}\n\nexport function objectPropertyOf(object, path) {\n  return path.reduce(\n    (obj, key) => (obj && obj[key] !== 'undefined' ? obj[key] : undefined),\n    object\n  );\n}\n\nexport function stringifyCompare(objA, objB) {\n  return JSON.stringify(objA) === JSON.stringify(objB);\n}\n\nexport function delayForAnimation(callback, delay = 16) {\n  setTimeout(callback, delay);\n}\n\nexport function downloadFile(content, fileName, contentType) {\n  const validContentTypes = ['plain', 'json'];\n  if (!validContentTypes.includes(contentType)) {\n    contentType = 'plain';\n  }\n  const dataStr =\n    `data:text/${contentType};charset=utf-8,` +\n    encodeURIComponent(JSON.stringify(content));\n  const dlAnchorElem = document.createElement('a');\n  dlAnchorElem.setAttribute('href', dataStr);\n  dlAnchorElem.setAttribute('download', fileName);\n  dlAnchorElem.click();\n}\n\nexport const degreesToRadians = deg => deg * (Math.PI / 180);\n\n/**\n *\n * Markup utils\n *\n */\n\nconst MARKUP_STRING_PATTERN = /({ICON.*?}|{BADGE:.*?}|{NEWLINE}|{TEXT:.*?})/g;\n\nexport function isMarkupString(str = '') {\n  if (typeof str !== 'string') {\n    return false;\n  }\n  return MARKUP_STRING_PATTERN.test(str);\n}\n\n/**\n * Returns an array of strings and icon, badge, newline, and text objects from a string using the syntax:\n * 'This is an {ICON:<title>|<url>} and {BADGE:<title>} badge test with a {NEWLINE} newline and {TEXT:<text>|<style>}.'\n *\n * i.e. 'This is an {ICON:settings|./assets/icons/settings.png} icon and {BADGE:HD} badge with a{NEWLINE} and {TEXT:red text|red}.'\n *  would create the array:\n *  [\n *    'This is an ',\n *    { icon: './assets/icons/settings.png', title: 'settings' },\n *    ' icon and ',\n *    { badge: 'HD' },\n *    ' badge with a',\n *    { newline: true },\n *    ' and ',\n *    { text: 'red text', style: 'red' },\n *    '.'\n *  ]\n *\n * @param {(string|object)} str\n *\n * @return {array}\n */\nexport function parseInlineContent(str = '') {\n  const content = [];\n  if ((str && typeof str === 'string') || str.text) {\n    const string = typeof str === 'string' ? str : str.text;\n    const iconRegEx = /^{ICON:(.*?)?\\|(.*?)?}$/g;\n    const badgeRegEx = /^{BADGE:(.*?)}$/g;\n    const newlineRegEx = /^{NEWLINE}$/g;\n    const textRegEx = /^{TEXT:(.*?)?\\|(.*?)?}$/g;\n\n    const splitStr = string.split(MARKUP_STRING_PATTERN);\n\n    if (splitStr && splitStr.length) {\n      splitStr.forEach(item => {\n        let formattedItem = item;\n        const badge = badgeRegEx.exec(item);\n        const icon = iconRegEx.exec(item);\n        const newline = newlineRegEx.exec(item);\n        const text = textRegEx.exec(item);\n\n        if (badge && badge[1]) {\n          formattedItem = { badge: badge[1] };\n        } else if (icon && icon[1]) {\n          formattedItem = { title: icon[1], icon: icon[2] || icon[1] };\n        } else if (newline) {\n          formattedItem = { newline: true };\n        } else if (text && text[1]) {\n          formattedItem = { text: text[1], style: text[2] };\n        }\n        content.push(formattedItem);\n      });\n    }\n  }\n  return content;\n}\n\n/**\n * Given any number of arguments, returns the greatest number passed to the function.\n * If no valid numbers are passed in (ex. NaN, undefined, null), `undefined` will be returned.\n * @param {...*} arguments Any number of arguments may be passed into the function.\n *\n * @return {number|undefined} The greatest number passed in as an argument or `undefined` if no valid number was passed in.\n */\nexport function max() {\n  if (!arguments) {\n    return;\n  }\n\n  const args = Array.from(arguments).filter(arg => !isNaN(arg) && arg != null);\n\n  if (!args.length) {\n    return;\n  }\n\n  return Math.max(...args);\n}\n\n/**\n * Abstracts logic for conditionally forcing a zIndex Context on a component so that\n * any child components with zIndex are relative to it, and not the global zIndex context.\n * @param {lng.Component} component\n * @param {number} zOffset\n */\nexport function createConditionalZContext(component, zOffset) {\n  if (!component.zIndex && typeof zOffset !== 'undefined' && zOffset !== 0) {\n    component.forceZIndexContext = true;\n    component.zIndex = 0;\n  }\n}\n\n/**\n * Runs a side effect function when any values of specified properties on an element change.\n * @param {object} options - defines the `element`, `watchProps`, and `sideEffect` options\n * @param {lng.Element} options.element - Lightning element on which property changes will watched\n * @param {String[]} options.watchProps - properties that when their value changes a side effect function is invoked\n * @param {function} options.sideEffect - function to be invoked when a watched property's value changes\n * @returns {lng.Element}\n */\nexport function watchForUpdates({\n  element,\n  watchProps = [],\n  sideEffect = () => {}\n}) {\n  if (!element?.isElement) {\n    logger.error(\n      `watchForUpdates: Expected a Lightning Element passed to element parameter, received ${typeof element}`\n    );\n  }\n\n  const initialOnAfterUpdate = element.__core?._onAfterUpdate;\n\n  element.onAfterUpdate = function (element) {\n    let hasChanged = false;\n\n    watchProps.forEach(prop => {\n      if (element.transition(prop) && element.transition(prop).isRunning()) {\n        return;\n      }\n\n      const prevValueKey = `__watchPrev${prop}`;\n      const nextValue = element[prop];\n\n      if (nextValue !== element[prevValueKey]) {\n        element[prevValueKey] = nextValue;\n        hasChanged = true;\n      }\n    });\n\n    if (hasChanged) {\n      sideEffect();\n    }\n\n    // if an element already has an onAfterUpdate function, preserve that behavior\n    if (initialOnAfterUpdate) {\n      initialOnAfterUpdate(element);\n    }\n  }.bind(this);\n\n  return element;\n}\n\n/**\n * Given a Lightning text alignment option (left, right, center),\n * return the Lightning flexbox equivalent.\n *\n * @param {string} align\n * @returns {string}\n */\nexport function convertTextAlignToFlexJustify(align) {\n  switch (align) {\n    case 'left':\n      return 'flex-start';\n    case 'center':\n      return 'center';\n    case 'right':\n      return 'flex-end';\n    default:\n      // if there is no alignment passed in, the Lightning Text default is \"left\"\n      console.warn(\n        `Expected \"textAlign\" values are \"left,\" \"center,\" and \"right,\" but instead, ${align} was received and will fall back to \"left.\"`\n      );\n      return 'flex-start';\n  }\n}\n\n/**\n * Prevents user input radius from inverting.\n *\n * @param {number} user input radius\n * @param {number} width\n * @param {number} height\n * @param {number} offset\n * @return {number} max radius for object before border begins to invert\n */\nexport function getMaxRoundRadius(radius, width, height, offset = 0) {\n  const maxRadius = r =>\n    Math.max(0, Math.min(r, Math.min(width, height) / 2) + offset);\n  return Array.isArray(radius)\n    ? radius.map(r => Number(maxRadius(r)) || 0)\n    : Number(maxRadius(radius)) || 0;\n}\n\nconst utils = {\n  isMarkupString,\n  capitalizeFirstLetter,\n  degreesToRadians,\n  downloadFile,\n  delayForAnimation,\n  stringifyCompare,\n  objectPropertyOf,\n  flatten,\n  getDimension,\n  getFirstNumber,\n  measureTextWidth,\n  clone,\n  getMergeValue,\n  RoundRect,\n  rgba2argb,\n  getValFromObjPath,\n  reduceFraction,\n  getValidColor,\n  getHexColor,\n  getAspectRatioH,\n  getAspectRatioW,\n  getWidthByUpCount,\n  getDimensions,\n  getWidthByColumnSpan,\n  createConditionalZContext,\n  watchForUpdates,\n  convertTextAlignToFlexJustify,\n  getMaxRoundRadius\n};\n\nexport default utils;\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/*\nCreate a Lightning Object pool and then get the component from the pool.\n\nBy default we create two objects, with expectations that one is used at a time\n\nLearn more about object pools\nhttps://egghead.io/blog/object-pool-design-pattern\n*/\n\nconst pools = new Map();\n\nfunction get(key) {\n  if (pools.has(key)) {\n    const pool = pools.get(key);\n    let index = pool.index;\n\n    if (index >= pool.components.length) {\n      index = 0;\n    }\n    pool.index = index + 1;\n\n    return pool.components[index];\n  }\n\n  return false;\n}\n\nfunction clear() {\n  pools.clear();\n}\n\nfunction create({ name, component, stage, size = 2 }) {\n  if (pools.has(name)) {\n    return get(name);\n  }\n\n  component = component || { type: name };\n  const components = [];\n  for (let i = 0; i < size; i++) {\n    components.push(stage.c(component));\n  }\n\n  pools.set(name, {\n    index: 0,\n    components\n  });\n\n  return get(name);\n}\n\nexport default {\n  get,\n  create,\n  clear\n};\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { context } from '@lightningjs/ui-components/src';\n\n// creates an array of extensions\n// added to the theme by setTheme in themeSelect\n// const extensions = [];\n\nexport const themeSelectFromMessageEvent = event => {\n  themeSelect(event.data.theme);\n};\n// called in ThemePicker\nexport const themeSelect = theme => {\n  if (!theme) return;\n  let targetTheme;\n  switch (theme) {\n    // Insert other themes to swap to here\n    // Can also utilize the \"extensions\" array above to add to the theme\n    default:\n      targetTheme = {};\n      break;\n  }\n  return targetTheme.name && context.theme.name !== targetTheme.name\n    ? context.setTheme(targetTheme)\n    : Promise.resolve();\n};\n\n// registers all window events needed on load\n// called in preview.js file\nexport const registerEventListeners = () => {\n  // logger and stores themes\n  context.debug = true;\n  context.on('themeUpdate', () => {\n    window.parent.postMessage('themeSet', '*');\n  });\n\n  // Prevent scrolling when navigating with arrows on canvas\n  window.addEventListener(\n    'keydown',\n    function (e) {\n      if (\n        ['Space', 'ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].indexOf(\n          e.code\n        ) > -1\n      ) {\n        e.preventDefault();\n      }\n    },\n    false\n  );\n  context.storybookCustomTheme = JSON.parse(JSON.stringify(context.theme));\n};\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport lng from '@lightningjs/core';\nimport 'lightningInspect';\nimport {\n  withAnnouncer,\n  Speech,\n  pool,\n  context\n} from '@lightningjs/ui-components/src';\nimport { themeSelectFromMessageEvent } from './.storybook/utils/registerEvents';\n\n/**\n * creates the Lightning App and attaches it to the DOM for use in Storybook\n * @returns Lightning App\n */\nexport const createApp = parameters => {\n  // Make sure app is only created once if path=/story\n  if (window.top.location.search.indexOf('path=/docs/') <= -1) {\n    if (window.APP) return window.APP;\n  }\n\n  pool.clear();\n\n  const announcerOptions = {\n    language: 'en-US',\n    ...parameters.announcerOptions\n  };\n\n  const appParams = {\n    stage: {\n      w: 1280,\n      h: 720,\n      precision: 2 / 3,\n      canvas2d: false,\n      useImageWorker: false,\n      inspector: false,\n      defaultFontFace: 'XfinityStandardMedium',\n      fontSharp: {\n        precision: 2 / 3,\n        fontSize: 12\n      }\n    },\n    debug: true\n  };\n\n  window.CONTEXT = context; // Used by addons\n\n  window.APP = new (class LightningUIApp extends withAnnouncer(\n    lng.Application,\n    Speech,\n    announcerOptions\n  ) {\n    _construct() {\n      this.announcerTimeout = 15 * 1000;\n    }\n\n    _attach() {\n      window.addEventListener('message', themeSelectFromMessageEvent, false);\n    }\n\n    $storyChanged() {\n      this.emit('storyChanged');\n    }\n\n    _getFocused() {\n      return ((this.childList.first || {}).childList || {}).first || this;\n    }\n  })(appParams);\n  document.body.appendChild(window.APP.stage.getCanvas());\n  return window.APP;\n};\n\nexport const clearInspector = () => {\n  // Clear any lightning inspector info\n  if (document.querySelectorAll('[type=StoryApp]').length > 1) {\n    const div = document.querySelector('[type=StoryApp]');\n    div && div.parentNode.remove();\n  }\n};\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  GridOverlay,\n  context,\n  utils,\n  TextBox\n} from '@lightningjs/ui-components/src';\nimport { createApp, clearInspector } from '../../../index';\n\nlet previousID = null;\nlet remountProps = {};\n\n/**\n * returns true if any of the following are true\n *    - if the selected story changed\n *    - parameters.remountAll is true on the story\n *    - an arg changes an its associated argType has a remount property set to true\n * @returns boolean of if the story component should remount\n */\nfunction shouldTriggerUpdate({ id, args, argTypes, parameters }) {\n  const storyChanged = previousID !== id;\n  let triggerUpdate = storyChanged;\n  previousID = id;\n\n  // create remountProps object to track which props should trigger remounting\n  if (storyChanged) {\n    remountProps = {};\n    if (parameters.remountAll) {\n      // track all props except mode for triggering remount\n      Object.keys(args).forEach(key => {\n        if (key === 'mode') {\n          return;\n        }\n        remountProps[key] = args[key];\n      });\n    } else {\n      // track only props with truthy remount property on their associated argType\n      Object.keys(argTypes).forEach(key => {\n        if (argTypes[key].remount) {\n          remountProps[key] = args[key];\n        }\n      });\n    }\n  }\n\n  // evaluate if any props tracked in remountProps changed and should trigger a remount\n  Object.keys(remountProps).forEach(key => {\n    if (remountProps[key] !== args[key]) {\n      triggerUpdate = true;\n      remountProps[key] = args[key];\n    }\n  });\n\n  return triggerUpdate;\n}\n\n/** creates a global decorator that creates a single instance of the Lightning app */\n\nexport const withLightning = (\n  StoryComponent,\n  { id, args, argTypes, parameters, globals }\n) => {\n  /**\n   * the Lightning Element in the 'dom'\n   */\n  const app = createApp({ theme: globals.LUITheme });\n  clearInspector();\n  app.announcerEnabled = globals.announce;\n  app.debug = globals.announce;\n  // toggle stage color\n  !globals.stageColor\n    ? app.stage.setClearColor(utils.getValidColor('#21232A'))\n    : app.stage.setClearColor(utils.getValidColor('#cccccc'));\n\n  // // If an update is required patch in the new child element\n  if (shouldTriggerUpdate({ id, args, argTypes, parameters })) {\n    app.childList.clear();\n    app.childList.a({\n      StoryComponent: {\n        type: class extends StoryComponent() {\n          static _states() {\n            return [\n              class ModeUnfocusState extends this {\n                _getFocused() {\n                  return this;\n                }\n              },\n              class ModeFocusState extends this {\n                _getFocused() {\n                  return this.componentTarget; // Text Element\n                }\n              }\n            ];\n          }\n          // FIXME: Assess what config.optimization.minimize is doing different in production vs develop - this was prior to v7 upgrade\n          get componentTarget() {\n            // using this check on type Element because production vs develop build issue\n            return this.childList.first instanceof lng.Component\n              ? this.childList.first\n              : this;\n          }\n          _init() {\n            if (this.componentTarget) {\n              // Notify application every time the style is updated. Used for componentStyles panel\n              this.componentTarget.on('styleUpdated', () => {\n                //FIXME: why are we setting this time out here and in setup?\n                setTimeout(() => {\n                  this.fireAncestors('$storyChanged');\n                });\n              });\n            }\n            super._init();\n            this._refocus(); // Force Lightning to reset focus\n          }\n          _setup() {\n            // This ensures the component has its args before the first update cycle.\n            if (Object.keys(args).length) {\n              const argsToPatch = {};\n              for (const prop in args) {\n                // Apply arguments from controls\n                const propValue =\n                  'undefined' !== typeof args[prop]\n                    ? args[prop]\n                    : parameters.argTypes[prop].defaultValue;\n                if (!parameters.argActions || !parameters.argActions[prop]) {\n                  argsToPatch[prop] = propValue;\n                }\n              }\n              this.componentTarget.patch({\n                ...argsToPatch\n              });\n            }\n\n            setTimeout(() => {\n              this.fireAncestors('$storyChanged');\n            });\n          }\n        },\n        w: w => w,\n        h: h => h,\n        x: context.theme.layout.marginX,\n        y: context.theme.layout.marginY\n      }\n    });\n    app._refocus();\n  }\n\n  // sets mode\n  app\n    .tag('StoryComponent')\n    ._setState(\n      !args.mode || (args.mode && args.mode === 'focused')\n        ? 'ModeFocusState'\n        : 'ModeUnfocusState'\n    );\n  //forces position update on theme change instead of just when triggerUpdate is true\n  context.on('themeUpdate', () => {\n    app.tag('StoryComponent') &&\n      app.tag('StoryComponent').patch(\n        parameters.storyDetails\n          ? {\n              x: context.theme.layout.marginX\n            }\n          : {\n              x: context.theme.layout.marginX,\n              y: context.theme.layout.marginY\n            }\n      );\n  });\n  if (!app.tag('GridOverlay')) {\n    app.childList.a({ GridOverlay: { type: GridOverlay, zIndex: 100 } });\n  }\n  app.tag('GridOverlay').patch({\n    // do not render this on top of the actual GridOverlay component's story\n    alpha: id.includes('gridoverlay')\n      ? 0\n      : parseFloat(globals['GridOverlay-alpha']),\n    showColumns: globals['GridOverlay-toggle-showColumns'] === 'true',\n    showMargins: globals['GridOverlay-toggle-showMargins'] === 'true',\n    showSafe: globals['GridOverlay-toggle-showSafe'] === 'true',\n    showGutters: globals['GridOverlay-toggle-showGutters'] === 'true',\n    showText: globals['GridOverlay-toggle-showText'] === 'true'\n  });\n\n  // add optional story description to the canvas\n  if (parameters.storyDetails) {\n    if (!app.tag('StoryDetails')) {\n      const StoryDetails = {\n        StoryDetails: {\n          type: TextBox,\n          content: parameters.storyDetails,\n          style: {\n            textStyle: {\n              wordWrapWidth:\n                context.theme.layout.screenW - context.theme.spacer.sm * 2\n            }\n          },\n          x: context.theme.spacer.sm,\n          y: context.theme.spacer.sm,\n          onAfterUpdate: ({ y, h }) => {\n            if (h > context.theme.layout.marginY) {\n              app.tag('StoryComponent').y = y + h + context.theme.spacer.xl;\n            }\n          }\n        }\n      };\n      app.childList.a(StoryDetails);\n    }\n\n    app.tag('StoryDetails').patch({ content: parameters.storyDetails });\n  }\n\n  /**\n   * the first child under StoryComponent\n   */\n  const LightningUIComponent = app.tag('StoryComponent').childList.first;\n\n  if (LightningUIComponent && Object.keys(args).length) {\n    for (const prop in args) {\n      // Apply arguments from controls\n      const propValue =\n        'undefined' !== typeof args[prop]\n          ? args[prop]\n          : parameters.argTypes[prop].defaultValue;\n      if (!parameters.argActions || !parameters.argActions[prop]) {\n        LightningUIComponent[prop] = propValue;\n      }\n    }\n  }\n  // applying argAction\n  if (\n    LightningUIComponent &&\n    parameters.argActions &&\n    Object.keys(parameters.argActions).length\n  ) {\n    for (const prop in parameters.argActions) {\n      if ('function' === typeof parameters.argActions[prop]) {\n        try {\n          parameters.argActions[prop](args[prop], app.tag('StoryComponent'));\n        } catch (err) {\n          console.error('unable to apply argAction for ' + prop);\n        }\n      }\n    }\n    return app.getCanvas();\n  }\n  return app.stage.getCanvas();\n};\n","/**\n * Copyright 2023 Comcast Cable Communications Management, LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// these two lines need to be in this order\n// to wait until the inspector is enabled before attaching it\nimport { withLightning } from './addons/decorators/withLightning';\nimport { registerEventListeners, themeSelect } from './utils/registerEvents';\nimport { themes } from '@storybook/theming';\n\n// loads window event listeners\nregisterEventListeners();\n/**\n * custom global props that can be accessed in decorators and add-ons\n * globalTypes can only be set in preview.js\n * @see https://storybook.js.org/docs/react/essentials/toolbars-and-globals#globals\n */\nconst preview = {\n  parameters: {\n    actions: { argTypesRegex: '^on.*' },\n    backgrounds: {\n      disable: true\n    },\n    controls: {\n      hideNoControlsWarning: true,\n      expanded: true,\n      sort: 'requiredFirst'\n    },\n    docs: {\n      theme: themes.dark,\n      argTypes: {\n        sort: 'alpha',\n        exclude: ['mode']\n      }\n    },\n    options: {\n      /** NOTE:  v7 storySort must be self-contained function & no reference to outside variables\n     https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#v7-style-story-sort\n      */\n      storySort: {\n        method: 'alphabetical',\n        order: [\n          'Docs',\n          [\n            'Introduction',\n            'Read Me',\n            'Base',\n            'Contributing',\n            'Lightning Resources',\n            'Lightning Community Guide',\n            'Theming',\n            [\n              'Overview',\n              'Component Config',\n              'Tones',\n              'Modes',\n              'Extensions',\n              'Subtheming',\n              'Use in Storybook',\n              'Theme Properties',\n              '*'\n            ],\n            'Unit Testing',\n            [\n              'Overview',\n              'Test Renderer',\n              'Test Utils',\n              ['makeCreateComponent', '*']\n            ]\n          ],\n          'Collections',\n          'Utilities',\n          'Components',\n          'Patterns',\n          'Templates'\n        ]\n      }\n    }\n  },\n  globalTypes: {\n    LUITheme: {\n      name: 'Theme',\n      description: 'Theme select',\n      defaultValue: 'base'\n    },\n    'GridOverlay-alpha': {\n      defaultValue: '0'\n    },\n    'GridOverlay-toggle-showColumns': {\n      defaultValue: 'true'\n    },\n    'GridOverlay-toggle-showMargins': {\n      defaultValue: 'false'\n    },\n    'GridOverlay-toggle-showSafe': {\n      defaultValue: 'false'\n    },\n    'GridOverlay-toggle-showGutters': {\n      defaultValue: 'false'\n    },\n    'GridOverlay-toggle-showText': {\n      defaultValue: 'false'\n    },\n    announce: {\n      defaultValue: false\n    },\n    stageColor: {\n      defaultValue: false\n    }\n  },\n  decorators: [withLightning],\n  loaders: [\n    async ({ globals }) => {\n      await themeSelect(globals.LUITheme);\n      return;\n    }\n  ]\n};\nexport default preview;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = \"../../../node_modules/@storybook/core/dist/theming sync recursive\";\nmodule.exports = webpackEmptyContext;","var map = {\n\t\"./Overview.mdx\": [\n\t\t\"../../@lightningjs/ui-components-test-utils/src/docs/Overview.mdx\",\n\t\t5600,\n\t\t9436\n\t],\n\t\"./TestRenderer/create.mdx\": [\n\t\t\"../../@lightningjs/ui-components-test-utils/src/docs/TestRenderer/create.mdx\",\n\t\t5600,\n\t\t7557\n\t],\n\t\"./TestRenderer/toJSON.mdx\": [\n\t\t\"../../@lightningjs/ui-components-test-utils/src/docs/TestRenderer/toJSON.mdx\",\n\t\t5600,\n\t\t2012\n\t],\n\t\"./TestUtils/completeAnimation.mdx\": [\n\t\t\"../../@lightningjs/ui-components-test-utils/src/docs/TestUtils/completeAnimation.mdx\",\n\t\t5600,\n\t\t9738\n\t],\n\t\"./TestUtils/fastForward.mdx\": [\n\t\t\"../../@lightningjs/ui-components-test-utils/src/docs/TestUtils/fastForward.mdx\",\n\t\t5600,\n\t\t4942\n\t],\n\t\"./TestUtils/makeCreateComponent.mdx\": [\n\t\t\"../../@lightningjs/ui-components-test-utils/src/docs/TestUtils/makeCreateComponent.mdx\",\n\t\t5600,\n\t\t1200\n\t],\n\t\"./TestUtils/nextTick.mdx\": [\n\t\t\"../../@lightningjs/ui-components-test-utils/src/docs/TestUtils/nextTick.mdx\",\n\t\t5600,\n\t\t9221\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = \"../../@lightningjs/ui-components-test-utils/src/docs lazy recursive ^\\\\.\\\\/.*$ include: (?%21.*node_modules)(?:\\\\/@lightningjs\\\\/ui-components-test-utils\\\\/src\\\\/docs(?:\\\\/(?%21\\\\.)(?:(?:(?%21(?:^%7C\\\\/)\\\\.).)*?)\\\\/%7C\\\\/%7C$)(?%21\\\\.)(?=.)[^/]*?\\\\.mdx)$\";\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./Overview.mdx\": [\n\t\t\"../../@lightningjs/ui-components-test-utils/src/docs/Overview.mdx\",\n\t\t5600,\n\t\t9436\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = \"../../@lightningjs/ui-components-test-utils/src/docs lazy recursive ^\\\\.\\\\/.*$ include: (?%21.*node_modules)(?:\\\\/@lightningjs\\\\/ui-components-test-utils\\\\/src\\\\/docs\\\\/(?%21\\\\.)(?=.)[^/]*?\\\\.mdx)$\";\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./components/Artwork/Artwork.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Artwork/Artwork.mdx\",\n\t\t5600,\n\t\t1930,\n\t\t3121\n\t],\n\t\"./components/Badge/Badge.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Badge/Badge.mdx\",\n\t\t5600,\n\t\t1185\n\t],\n\t\"./components/Button/Button.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Button/Button.mdx\",\n\t\t5600,\n\t\t463\n\t],\n\t\"./components/Card/Card.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Card/Card.mdx\",\n\t\t5600,\n\t\t8007\n\t],\n\t\"./components/Card/CardRadio.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Card/CardRadio.mdx\",\n\t\t5600,\n\t\t3878,\n\t\t9172\n\t],\n\t\"./components/Card/CardSection.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Card/CardSection.mdx\",\n\t\t5600,\n\t\t3878,\n\t\t7972\n\t],\n\t\"./components/Card/CardTitle.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Card/CardTitle.mdx\",\n\t\t5600,\n\t\t3878,\n\t\t9983\n\t],\n\t\"./components/CardContent/CardContent.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/CardContent/CardContent.mdx\",\n\t\t5600,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3878,\n\t\t6915,\n\t\t11,\n\t\t5225\n\t],\n\t\"./components/Checkbox/Checkbox.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Checkbox/Checkbox.mdx\",\n\t\t5600,\n\t\t669\n\t],\n\t\"./components/Column/Column.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Column/Column.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t2341,\n\t\t6243\n\t],\n\t\"./components/Control/Control.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Control/Control.mdx\",\n\t\t5600,\n\t\t4165\n\t],\n\t\"./components/ControlRow/ControlRow.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ControlRow/ControlRow.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t1323,\n\t\t1735,\n\t\t8237\n\t],\n\t\"./components/FocusManager/FocusManager.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/FocusManager/FocusManager.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t7633\n\t],\n\t\"./components/Gradient/Gradient.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Gradient/Gradient.mdx\",\n\t\t5600,\n\t\t9367\n\t],\n\t\"./components/GridOverlay/GridOverlay.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/GridOverlay/GridOverlay.mdx\",\n\t\t5600,\n\t\t9153\n\t],\n\t\"./components/Icon/Icon.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Icon/Icon.mdx\",\n\t\t5600,\n\t\t3901\n\t],\n\t\"./components/InlineContent/InlineContent.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/InlineContent/InlineContent.mdx\",\n\t\t5600,\n\t\t377\n\t],\n\t\"./components/Input/Input.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Input/Input.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t2363,\n\t\t8593\n\t],\n\t\"./components/Key/Key.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Key/Key.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t3069,\n\t\t8901\n\t],\n\t\"./components/Keyboard/Keyboard.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/Keyboard.mdx\",\n\t\t5600,\n\t\t8613\n\t],\n\t\"./components/Knob/Knob.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Knob/Knob.mdx\",\n\t\t5600,\n\t\t3211\n\t],\n\t\"./components/Label/Label.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Label/Label.mdx\",\n\t\t5600,\n\t\t8601\n\t],\n\t\"./components/ListItem/ListItem.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ListItem/ListItem.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t2067,\n\t\t9529\n\t],\n\t\"./components/ListItem/ListItemPicker.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ListItem/ListItemPicker.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t2067,\n\t\t5316,\n\t\t6391\n\t],\n\t\"./components/ListItem/ListItemSlider.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ListItem/ListItemSlider.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t4042,\n\t\t2067,\n\t\t3245,\n\t\t5146\n\t],\n\t\"./components/Marquee/Marquee.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Marquee/Marquee.mdx\",\n\t\t5600,\n\t\t8189\n\t],\n\t\"./components/MetadataBase/MetadataBase.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/MetadataBase/MetadataBase.mdx\",\n\t\t5600,\n\t\t7679,\n\t\t6923\n\t],\n\t\"./components/MetadataCard/MetadataCard.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/MetadataCard/MetadataCard.mdx\",\n\t\t5600,\n\t\t7679,\n\t\t3645\n\t],\n\t\"./components/MetadataCardContent/MetadataCardContent.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/MetadataCardContent/MetadataCardContent.mdx\",\n\t\t5600,\n\t\t7679,\n\t\t6915,\n\t\t7365\n\t],\n\t\"./components/MetadataTile/MetadataTile.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/MetadataTile/MetadataTile.mdx\",\n\t\t5600,\n\t\t7679,\n\t\t4077\n\t],\n\t\"./components/NavigationManager/NavigationManager.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/NavigationManager/NavigationManager.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t8965\n\t],\n\t\"./components/ProgressBar/ProgressBar.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ProgressBar/ProgressBar.mdx\",\n\t\t5600,\n\t\t7809\n\t],\n\t\"./components/Provider/Provider.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Provider/Provider.mdx\",\n\t\t5600,\n\t\t997\n\t],\n\t\"./components/Radio/Radio.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Radio/Radio.mdx\",\n\t\t5600,\n\t\t8225\n\t],\n\t\"./components/Row/Row.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Row/Row.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t1323,\n\t\t6361\n\t],\n\t\"./components/ScrollWrapper/ScrollWrapper.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ScrollWrapper/ScrollWrapper.mdx\",\n\t\t5600,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t4042,\n\t\t1137\n\t],\n\t\"./components/Shadow/Shadow.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Shadow/Shadow.mdx\",\n\t\t5600,\n\t\t3879\n\t],\n\t\"./components/Slider/Slider.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Slider/Slider.mdx\",\n\t\t5600,\n\t\t7525\n\t],\n\t\"./components/Surface/Surface.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Surface/Surface.mdx\",\n\t\t5600,\n\t\t8057\n\t],\n\t\"./components/TabBar/Tab.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/TabBar/Tab.mdx\",\n\t\t5600,\n\t\t9023,\n\t\t4996\n\t],\n\t\"./components/TabBar/TabBar.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/TabBar/TabBar.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t9023,\n\t\t643\n\t],\n\t\"./components/TextBox/TextBox.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/TextBox/TextBox.mdx\",\n\t\t5600,\n\t\t3865\n\t],\n\t\"./components/Tile/Tile.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Tile/Tile.mdx\",\n\t\t5600,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3963\n\t],\n\t\"./components/TitleRow/TitleRow.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/TitleRow/TitleRow.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t1323,\n\t\t6739\n\t],\n\t\"./components/Toggle/Toggle.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Toggle/Toggle.mdx\",\n\t\t5600,\n\t\t7043\n\t],\n\t\"./components/Tooltip/Tooltip.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Tooltip/Tooltip.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t2833\n\t],\n\t\"./docs/Base.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/Base.mdx\",\n\t\t5600,\n\t\t9382\n\t],\n\t\"./docs/Introduction.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/Introduction.mdx\",\n\t\t5600,\n\t\t3485\n\t],\n\t\"./docs/LightningCommunityGuide.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/LightningCommunityGuide.mdx\",\n\t\t5600,\n\t\t2000\n\t],\n\t\"./docs/LightningResources.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/LightningResources.mdx\",\n\t\t5600,\n\t\t6636\n\t],\n\t\"./docs/Storybook.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/Storybook.mdx\",\n\t\t5600,\n\t\t879\n\t],\n\t\"./docs/Theming.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/Theming.mdx\",\n\t\t5600,\n\t\t6681\n\t],\n\t\"./docs/ThemingAttributes.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/ThemingAttributes.mdx\",\n\t\t5600,\n\t\t7538\n\t],\n\t\"./docs/ThemingComponentConfig.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/ThemingComponentConfig.mdx\",\n\t\t5600,\n\t\t696\n\t],\n\t\"./docs/ThemingExtensions.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/ThemingExtensions.mdx\",\n\t\t5600,\n\t\t2851\n\t],\n\t\"./docs/ThemingHierarchy.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/ThemingHierarchy.mdx\",\n\t\t5600,\n\t\t7190\n\t],\n\t\"./docs/ThemingMode.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/ThemingMode.mdx\",\n\t\t5600,\n\t\t7468\n\t],\n\t\"./docs/ThemingStorybook.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/ThemingStorybook.mdx\",\n\t\t5600,\n\t\t8543\n\t],\n\t\"./docs/ThemingSubTheming.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/ThemingSubTheming.mdx\",\n\t\t5600,\n\t\t4713\n\t],\n\t\"./docs/ThemingTone.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/ThemingTone.mdx\",\n\t\t5600,\n\t\t8773\n\t],\n\t\"./docs/ThemingTutorial.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/ThemingTutorial.mdx\",\n\t\t5600,\n\t\t6711\n\t],\n\t\"./mixins/withAnnouncer/withAnnouncer.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withAnnouncer/withAnnouncer.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t5715\n\t],\n\t\"./mixins/withClassCache/withClassCache.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withClassCache/withClassCache.mdx\",\n\t\t5600,\n\t\t1105\n\t],\n\t\"./mixins/withEditItems/withEditItems.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withEditItems/withEditItems.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t1323,\n\t\t2555\n\t],\n\t\"./mixins/withHandleKey/withHandleKey.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withHandleKey/withHandleKey.mdx\",\n\t\t5600,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3515\n\t],\n\t\"./mixins/withLayout/withLayout.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withLayout/withLayout.mdx\",\n\t\t5600,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t4433\n\t],\n\t\"./mixins/withMarqueeSync/withMarqueeSync.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withMarqueeSync/withMarqueeSync.mdx\",\n\t\t5600,\n\t\t1587\n\t],\n\t\"./mixins/withSelections/withSelections.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withSelections/withSelections.mdx\",\n\t\t5600,\n\t\t5338,\n\t\t5675\n\t],\n\t\"./mixins/withTags/withTags.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withTags/withTags.mdx\",\n\t\t5600,\n\t\t8651\n\t],\n\t\"./mixins/withThemeStyles/withThemeStyles.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withThemeStyles/withThemeStyles.mdx\",\n\t\t5600,\n\t\t4947\n\t],\n\t\"./mixins/withUpdates/withUpdates.mdx\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withUpdates/withUpdates.mdx\",\n\t\t5600,\n\t\t4899\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = \"../../@lightningjs/ui-components/src lazy recursive ^\\\\.\\\\/.*$ include: (?%21.*node_modules)(?:\\\\/@lightningjs\\\\/ui-components\\\\/src(?:\\\\/(?%21\\\\.)(?:(?:(?%21(?:^%7C\\\\/)\\\\.).)*?)\\\\/%7C\\\\/%7C$)(?%21\\\\.)(?=.)[^/]*?\\\\.mdx)$\";\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./components/Artwork/Artwork.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Artwork/Artwork.stories.js\",\n\t\t1930,\n\t\t5139\n\t],\n\t\"./components/Artwork/Artwork.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Artwork/Artwork.stories.js\",\n\t\t1930,\n\t\t5139\n\t],\n\t\"./components/Badge/Badge.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Badge/Badge.stories.js\",\n\t\t291\n\t],\n\t\"./components/Badge/Badge.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Badge/Badge.stories.js\",\n\t\t291\n\t],\n\t\"./components/Button/Button.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Button/Button.stories.js\",\n\t\t5338,\n\t\t7721\n\t],\n\t\"./components/Button/Button.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Button/Button.stories.js\",\n\t\t5338,\n\t\t7721\n\t],\n\t\"./components/Button/ButtonSmall.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Button/ButtonSmall.stories.js\",\n\t\t5338,\n\t\t6610\n\t],\n\t\"./components/Button/ButtonSmall.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Button/ButtonSmall.stories.js\",\n\t\t5338,\n\t\t6610\n\t],\n\t\"./components/Card/Card.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Card/Card.stories.js\",\n\t\t3878,\n\t\t2513\n\t],\n\t\"./components/Card/Card.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Card/Card.stories.js\",\n\t\t3878,\n\t\t2513\n\t],\n\t\"./components/Card/CardRadio.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Card/CardRadio.stories.js\",\n\t\t3878,\n\t\t9134\n\t],\n\t\"./components/Card/CardRadio.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Card/CardRadio.stories.js\",\n\t\t3878,\n\t\t9134\n\t],\n\t\"./components/Card/CardSection.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Card/CardSection.stories.js\",\n\t\t3878,\n\t\t5278\n\t],\n\t\"./components/Card/CardSection.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Card/CardSection.stories.js\",\n\t\t3878,\n\t\t5278\n\t],\n\t\"./components/Card/CardTitle.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Card/CardTitle.stories.js\",\n\t\t3878,\n\t\t1977\n\t],\n\t\"./components/Card/CardTitle.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Card/CardTitle.stories.js\",\n\t\t3878,\n\t\t1977\n\t],\n\t\"./components/CardContent/CardContent.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/CardContent/CardContent.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3878,\n\t\t6915,\n\t\t11\n\t],\n\t\"./components/CardContent/CardContent.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/CardContent/CardContent.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3878,\n\t\t6915,\n\t\t11\n\t],\n\t\"./components/CardContent/CardContentHorizontal.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/CardContent/CardContentHorizontal.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3878,\n\t\t6915,\n\t\t11,\n\t\t5367\n\t],\n\t\"./components/CardContent/CardContentHorizontal.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/CardContent/CardContentHorizontal.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3878,\n\t\t6915,\n\t\t11,\n\t\t5367\n\t],\n\t\"./components/CardContent/CardContentHorizontalLarge.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/CardContent/CardContentHorizontalLarge.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3878,\n\t\t6915,\n\t\t11,\n\t\t9856\n\t],\n\t\"./components/CardContent/CardContentHorizontalLarge.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/CardContent/CardContentHorizontalLarge.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3878,\n\t\t6915,\n\t\t11,\n\t\t9856\n\t],\n\t\"./components/CardContent/CardContentVertical.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/CardContent/CardContentVertical.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3878,\n\t\t6915,\n\t\t11,\n\t\t4485\n\t],\n\t\"./components/CardContent/CardContentVertical.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/CardContent/CardContentVertical.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3878,\n\t\t6915,\n\t\t11,\n\t\t4485\n\t],\n\t\"./components/CardContent/CardContentVerticalSmall.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/CardContent/CardContentVerticalSmall.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3878,\n\t\t6915,\n\t\t11,\n\t\t238\n\t],\n\t\"./components/CardContent/CardContentVerticalSmall.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/CardContent/CardContentVerticalSmall.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t3878,\n\t\t6915,\n\t\t11,\n\t\t238\n\t],\n\t\"./components/Checkbox/Checkbox.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Checkbox/Checkbox.stories.js\",\n\t\t6151\n\t],\n\t\"./components/Checkbox/Checkbox.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Checkbox/Checkbox.stories.js\",\n\t\t6151\n\t],\n\t\"./components/Checkbox/CheckboxSmall.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Checkbox/CheckboxSmall.stories.js\",\n\t\t8040\n\t],\n\t\"./components/Checkbox/CheckboxSmall.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Checkbox/CheckboxSmall.stories.js\",\n\t\t8040\n\t],\n\t\"./components/Column/Column.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Column/Column.stories.js\",\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t2341\n\t],\n\t\"./components/Column/Column.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Column/Column.stories.js\",\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t2341\n\t],\n\t\"./components/Control/Control.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Control/Control.stories.js\",\n\t\t5338,\n\t\t6095\n\t],\n\t\"./components/Control/Control.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Control/Control.stories.js\",\n\t\t5338,\n\t\t6095\n\t],\n\t\"./components/Control/ControlSmall.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Control/ControlSmall.stories.js\",\n\t\t5338,\n\t\t1735,\n\t\t2368\n\t],\n\t\"./components/Control/ControlSmall.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Control/ControlSmall.stories.js\",\n\t\t5338,\n\t\t1735,\n\t\t2368\n\t],\n\t\"./components/ControlRow/ControlRow.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ControlRow/ControlRow.stories.js\",\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t1323,\n\t\t1735,\n\t\t4759\n\t],\n\t\"./components/ControlRow/ControlRow.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ControlRow/ControlRow.stories.js\",\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t1323,\n\t\t1735,\n\t\t4759\n\t],\n\t\"./components/FocusManager/FocusManager.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/FocusManager/FocusManager.stories.js\",\n\t\t5338,\n\t\t9251\n\t],\n\t\"./components/FocusManager/FocusManager.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/FocusManager/FocusManager.stories.js\",\n\t\t5338,\n\t\t9251\n\t],\n\t\"./components/Gradient/Gradient.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Gradient/Gradient.stories.js\",\n\t\t289\n\t],\n\t\"./components/Gradient/Gradient.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Gradient/Gradient.stories.js\",\n\t\t289\n\t],\n\t\"./components/GridOverlay/GridOverlay.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/GridOverlay/GridOverlay.stories.js\",\n\t\t4179\n\t],\n\t\"./components/GridOverlay/GridOverlay.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/GridOverlay/GridOverlay.stories.js\",\n\t\t4179\n\t],\n\t\"./components/Icon/Icon.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Icon/Icon.stories.js\",\n\t\t8311\n\t],\n\t\"./components/Icon/Icon.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Icon/Icon.stories.js\",\n\t\t8311\n\t],\n\t\"./components/InlineContent/InlineContent.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/InlineContent/InlineContent.stories.js\",\n\t\t9627\n\t],\n\t\"./components/InlineContent/InlineContent.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/InlineContent/InlineContent.stories.js\",\n\t\t9627\n\t],\n\t\"./components/Input/Input.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Input/Input.stories.js\",\n\t\t5338,\n\t\t2363,\n\t\t6115\n\t],\n\t\"./components/Input/Input.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Input/Input.stories.js\",\n\t\t5338,\n\t\t2363,\n\t\t6115\n\t],\n\t\"./components/Key/Key.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Key/Key.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t2639\n\t],\n\t\"./components/Key/Key.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Key/Key.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t2639\n\t],\n\t\"./components/Keyboard/Keyboard.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/Keyboard.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575\n\t],\n\t\"./components/Keyboard/Keyboard.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/Keyboard.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575\n\t],\n\t\"./components/Keyboard/KeyboardEmail.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/KeyboardEmail.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575,\n\t\t1677\n\t],\n\t\"./components/Keyboard/KeyboardEmail.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/KeyboardEmail.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575,\n\t\t1677\n\t],\n\t\"./components/Keyboard/KeyboardFullscreen.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/KeyboardFullscreen.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575,\n\t\t8892\n\t],\n\t\"./components/Keyboard/KeyboardFullscreen.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/KeyboardFullscreen.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575,\n\t\t8892\n\t],\n\t\"./components/Keyboard/KeyboardInput.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/KeyboardInput.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575,\n\t\t2363,\n\t\t2649\n\t],\n\t\"./components/Keyboard/KeyboardInput.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/KeyboardInput.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575,\n\t\t2363,\n\t\t2649\n\t],\n\t\"./components/Keyboard/KeyboardNumbers.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/KeyboardNumbers.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575,\n\t\t6691\n\t],\n\t\"./components/Keyboard/KeyboardNumbers.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/KeyboardNumbers.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575,\n\t\t6691\n\t],\n\t\"./components/Keyboard/KeyboardQwerty.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/KeyboardQwerty.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575,\n\t\t8035\n\t],\n\t\"./components/Keyboard/KeyboardQwerty.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/KeyboardQwerty.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575,\n\t\t8035\n\t],\n\t\"./components/Keyboard/KeyboardSearch.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/KeyboardSearch.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575,\n\t\t2643\n\t],\n\t\"./components/Keyboard/KeyboardSearch.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Keyboard/KeyboardSearch.stories.js\",\n\t\t5338,\n\t\t3069,\n\t\t8575,\n\t\t2643\n\t],\n\t\"./components/Knob/Knob.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Knob/Knob.stories.js\",\n\t\t1661\n\t],\n\t\"./components/Knob/Knob.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Knob/Knob.stories.js\",\n\t\t1661\n\t],\n\t\"./components/Label/Label.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Label/Label.stories.js\",\n\t\t6747\n\t],\n\t\"./components/Label/Label.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Label/Label.stories.js\",\n\t\t6747\n\t],\n\t\"./components/ListItem/ListItem.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ListItem/ListItem.stories.js\",\n\t\t5338,\n\t\t2067,\n\t\t4827\n\t],\n\t\"./components/ListItem/ListItem.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ListItem/ListItem.stories.js\",\n\t\t5338,\n\t\t2067,\n\t\t4827\n\t],\n\t\"./components/ListItem/ListItemPicker.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ListItem/ListItemPicker.stories.js\",\n\t\t5338,\n\t\t5316,\n\t\t5137\n\t],\n\t\"./components/ListItem/ListItemPicker.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ListItem/ListItemPicker.stories.js\",\n\t\t5338,\n\t\t5316,\n\t\t5137\n\t],\n\t\"./components/ListItem/ListItemSlider.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ListItem/ListItemSlider.stories.js\",\n\t\t5338,\n\t\t4042,\n\t\t3245,\n\t\t4188\n\t],\n\t\"./components/ListItem/ListItemSlider.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ListItem/ListItemSlider.stories.js\",\n\t\t5338,\n\t\t4042,\n\t\t3245,\n\t\t4188\n\t],\n\t\"./components/Marquee/Marquee.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Marquee/Marquee.stories.js\",\n\t\t6423\n\t],\n\t\"./components/Marquee/Marquee.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Marquee/Marquee.stories.js\",\n\t\t6423\n\t],\n\t\"./components/MetadataBase/MetadataBase.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/MetadataBase/MetadataBase.stories.js\",\n\t\t7679,\n\t\t9725\n\t],\n\t\"./components/MetadataBase/MetadataBase.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/MetadataBase/MetadataBase.stories.js\",\n\t\t7679,\n\t\t9725\n\t],\n\t\"./components/MetadataCard/MetadataCard.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/MetadataCard/MetadataCard.stories.js\",\n\t\t7679,\n\t\t1655\n\t],\n\t\"./components/MetadataCard/MetadataCard.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/MetadataCard/MetadataCard.stories.js\",\n\t\t7679,\n\t\t1655\n\t],\n\t\"./components/MetadataCardContent/MetadataCardContent.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/MetadataCardContent/MetadataCardContent.stories.js\",\n\t\t7679,\n\t\t6915,\n\t\t287\n\t],\n\t\"./components/MetadataCardContent/MetadataCardContent.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/MetadataCardContent/MetadataCardContent.stories.js\",\n\t\t7679,\n\t\t6915,\n\t\t287\n\t],\n\t\"./components/MetadataTile/MetadataTile.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/MetadataTile/MetadataTile.stories.js\",\n\t\t7679,\n\t\t983\n\t],\n\t\"./components/MetadataTile/MetadataTile.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/MetadataTile/MetadataTile.stories.js\",\n\t\t7679,\n\t\t983\n\t],\n\t\"./components/NavigationManager/NavigationManager.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/NavigationManager/NavigationManager.stories.js\",\n\t\t5338,\n\t\t7807\n\t],\n\t\"./components/NavigationManager/NavigationManager.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/NavigationManager/NavigationManager.stories.js\",\n\t\t5338,\n\t\t7807\n\t],\n\t\"./components/ProgressBar/ProgressBar.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ProgressBar/ProgressBar.stories.js\",\n\t\t5427\n\t],\n\t\"./components/ProgressBar/ProgressBar.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ProgressBar/ProgressBar.stories.js\",\n\t\t5427\n\t],\n\t\"./components/Provider/Provider.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Provider/Provider.stories.js\",\n\t\t3327\n\t],\n\t\"./components/Provider/Provider.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Provider/Provider.stories.js\",\n\t\t3327\n\t],\n\t\"./components/Radio/Radio.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Radio/Radio.stories.js\",\n\t\t547\n\t],\n\t\"./components/Radio/Radio.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Radio/Radio.stories.js\",\n\t\t547\n\t],\n\t\"./components/Radio/RadioSmall.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Radio/RadioSmall.stories.js\",\n\t\t2932\n\t],\n\t\"./components/Radio/RadioSmall.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Radio/RadioSmall.stories.js\",\n\t\t2932\n\t],\n\t\"./components/Row/Row.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Row/Row.stories.js\",\n\t\t5338,\n\t\t1323\n\t],\n\t\"./components/Row/Row.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Row/Row.stories.js\",\n\t\t5338,\n\t\t1323\n\t],\n\t\"./components/ScrollWrapper/ScrollWrapper.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ScrollWrapper/ScrollWrapper.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t4042,\n\t\t7987\n\t],\n\t\"./components/ScrollWrapper/ScrollWrapper.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/ScrollWrapper/ScrollWrapper.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t4042,\n\t\t7987\n\t],\n\t\"./components/Shadow/Shadow.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Shadow/Shadow.stories.js\",\n\t\t3153\n\t],\n\t\"./components/Shadow/Shadow.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Shadow/Shadow.stories.js\",\n\t\t3153\n\t],\n\t\"./components/Slider/Slider.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Slider/Slider.stories.js\",\n\t\t4042,\n\t\t3375\n\t],\n\t\"./components/Slider/Slider.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Slider/Slider.stories.js\",\n\t\t4042,\n\t\t3375\n\t],\n\t\"./components/Slider/SliderLarge.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Slider/SliderLarge.stories.js\",\n\t\t4042,\n\t\t8232\n\t],\n\t\"./components/Slider/SliderLarge.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Slider/SliderLarge.stories.js\",\n\t\t4042,\n\t\t8232\n\t],\n\t\"./components/Surface/Surface.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Surface/Surface.stories.js\",\n\t\t7771\n\t],\n\t\"./components/Surface/Surface.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Surface/Surface.stories.js\",\n\t\t7771\n\t],\n\t\"./components/TabBar/Tab.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/TabBar/Tab.stories.js\",\n\t\t9023,\n\t\t46\n\t],\n\t\"./components/TabBar/Tab.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/TabBar/Tab.stories.js\",\n\t\t9023,\n\t\t46\n\t],\n\t\"./components/TabBar/TabBar.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/TabBar/TabBar.stories.js\",\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t9023,\n\t\t8197\n\t],\n\t\"./components/TabBar/TabBar.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/TabBar/TabBar.stories.js\",\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t9023,\n\t\t8197\n\t],\n\t\"./components/TextBox/TextBox.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/TextBox/TextBox.stories.js\",\n\t\t8027\n\t],\n\t\"./components/TextBox/TextBox.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/TextBox/TextBox.stories.js\",\n\t\t8027\n\t],\n\t\"./components/Tile/Tile.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Tile/Tile.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t2877\n\t],\n\t\"./components/Tile/Tile.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Tile/Tile.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t2877\n\t],\n\t\"./components/TitleRow/TitleRow.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/TitleRow/TitleRow.stories.js\",\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t1323,\n\t\t9861\n\t],\n\t\"./components/TitleRow/TitleRow.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/TitleRow/TitleRow.stories.js\",\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t1323,\n\t\t9861\n\t],\n\t\"./components/Toggle/Toggle.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Toggle/Toggle.stories.js\",\n\t\t7061\n\t],\n\t\"./components/Toggle/Toggle.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Toggle/Toggle.stories.js\",\n\t\t7061\n\t],\n\t\"./components/Toggle/ToggleSmall.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Toggle/ToggleSmall.stories.js\",\n\t\t5358\n\t],\n\t\"./components/Toggle/ToggleSmall.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Toggle/ToggleSmall.stories.js\",\n\t\t5358\n\t],\n\t\"./components/Tooltip/Tooltip.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Tooltip/Tooltip.stories.js\",\n\t\t5338,\n\t\t9459\n\t],\n\t\"./components/Tooltip/Tooltip.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/components/Tooltip/Tooltip.stories.js\",\n\t\t5338,\n\t\t9459\n\t],\n\t\"./docs/ThemingFoundations.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/ThemingFoundations.stories.js\",\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t6491\n\t],\n\t\"./docs/ThemingFoundations.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/docs/ThemingFoundations.stories.js\",\n\t\t5338,\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t6491\n\t],\n\t\"./mixins/withAnnouncer/withAnnouncer.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withAnnouncer/withAnnouncer.stories.js\",\n\t\t5338,\n\t\t133\n\t],\n\t\"./mixins/withAnnouncer/withAnnouncer.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withAnnouncer/withAnnouncer.stories.js\",\n\t\t5338,\n\t\t133\n\t],\n\t\"./mixins/withEditItems/withEditItems.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withEditItems/withEditItems.stories.js\",\n\t\t5338,\n\t\t1323,\n\t\t3597\n\t],\n\t\"./mixins/withEditItems/withEditItems.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withEditItems/withEditItems.stories.js\",\n\t\t5338,\n\t\t1323,\n\t\t3597\n\t],\n\t\"./mixins/withHandleKey/withHandleKey.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withHandleKey/withHandleKey.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t4637\n\t],\n\t\"./mixins/withHandleKey/withHandleKey.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withHandleKey/withHandleKey.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t4637\n\t],\n\t\"./mixins/withLayout/withLayout.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withLayout/withLayout.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t4563\n\t],\n\t\"./mixins/withLayout/withLayout.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withLayout/withLayout.stories.js\",\n\t\t7679,\n\t\t1930,\n\t\t8527,\n\t\t4563\n\t],\n\t\"./mixins/withMarqueeSync/withMarqueeSync.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withMarqueeSync/withMarqueeSync.stories.js\",\n\t\t1909\n\t],\n\t\"./mixins/withMarqueeSync/withMarqueeSync.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withMarqueeSync/withMarqueeSync.stories.js\",\n\t\t1909\n\t],\n\t\"./mixins/withSelections/withSelections.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withSelections/withSelections.stories.js\",\n\t\t5338,\n\t\t8477\n\t],\n\t\"./mixins/withSelections/withSelections.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withSelections/withSelections.stories.js\",\n\t\t5338,\n\t\t8477\n\t],\n\t\"./mixins/withTags/withTags.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withTags/withTags.stories.js\",\n\t\t6282\n\t],\n\t\"./mixins/withTags/withTags.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withTags/withTags.stories.js\",\n\t\t6282\n\t],\n\t\"./mixins/withThemeStyles/withThemeStyles.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withThemeStyles/withThemeStyles.stories.js\",\n\t\t9285\n\t],\n\t\"./mixins/withThemeStyles/withThemeStyles.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withThemeStyles/withThemeStyles.stories.js\",\n\t\t9285\n\t],\n\t\"./mixins/withUpdates/withUpdates.stories\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withUpdates/withUpdates.stories.js\",\n\t\t8853\n\t],\n\t\"./mixins/withUpdates/withUpdates.stories.js\": [\n\t\t\"../../@lightningjs/ui-components/src/mixins/withUpdates/withUpdates.stories.js\",\n\t\t8853\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = \"../../@lightningjs/ui-components/src lazy recursive ^\\\\.\\\\/.*$ include: (?%21.*node_modules)(?:\\\\/@lightningjs\\\\/ui-components\\\\/src(?:\\\\/(?%21\\\\.)(?:(?:(?%21(?:^%7C\\\\/)\\\\.).)*?)\\\\/%7C\\\\/%7C$)(?%21\\\\.)(?=.)[^/]*?\\\\.stories\\\\.(js%7Cjsx%7Cts%7Ctsx))$\";\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./Contributing.mdx\": [\n\t\t\"./src/Contributing.mdx\",\n\t\t5600,\n\t\t4073\n\t],\n\t\"./Readme.mdx\": [\n\t\t\"./src/Readme.mdx\",\n\t\t5600,\n\t\t7511\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = \"./src lazy recursive ^\\\\.\\\\/.*$ include: (?%21.*node_modules)(?:\\\\/src\\\\/(?%21\\\\.)(?=.)[^/]*?\\\\.mdx)$\";\nmodule.exports = webpackAsyncContext;","const pipeline = (x) => x();\n\nconst importers = [\n  async (path) => {\n    if (!/^\\.[\\\\/](?:src\\/(?!\\.)(?=.)[^/]*?\\.mdx)$/.exec(path)) {\n      return;\n    }\n  \n    const pathRemainder = path.substring(6);\n    return import(\n      /* webpackChunkName: \"[request]\" */\n      /* webpackInclude: /(?!.*node_modules)(?:\\/src\\/(?!\\.)(?=.)[^/]*?\\.mdx)$/ */\n      './src/' + pathRemainder\n    );\n  }\n  ,\n  async (path) => {\n    if (!/^(?:\\.\\.\\/\\.\\.\\/@lightningjs\\/ui-components\\/src(?:\\/(?!\\.)(?:(?:(?!(?:^|\\/)\\.).)*?)\\/|\\/|$)(?!\\.)(?=.)[^/]*?\\.mdx)$/.exec(path)) {\n      return;\n    }\n  \n    const pathRemainder = path.substring(37);\n    return import(\n      /* webpackChunkName: \"[request]\" */\n      /* webpackInclude: /(?!.*node_modules)(?:\\/@lightningjs\\/ui-components\\/src(?:\\/(?!\\.)(?:(?:(?!(?:^|\\/)\\.).)*?)\\/|\\/|$)(?!\\.)(?=.)[^/]*?\\.mdx)$/ */\n      '../../@lightningjs/ui-components/src/' + pathRemainder\n    );\n  }\n  ,\n  async (path) => {\n    if (!/^(?:\\.\\.\\/\\.\\.\\/@lightningjs\\/ui-components\\/src(?:\\/(?!\\.)(?:(?:(?!(?:^|\\/)\\.).)*?)\\/|\\/|$)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$/.exec(path)) {\n      return;\n    }\n  \n    const pathRemainder = path.substring(37);\n    return import(\n      /* webpackChunkName: \"[request]\" */\n      /* webpackInclude: /(?!.*node_modules)(?:\\/@lightningjs\\/ui-components\\/src(?:\\/(?!\\.)(?:(?:(?!(?:^|\\/)\\.).)*?)\\/|\\/|$)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$/ */\n      '../../@lightningjs/ui-components/src/' + pathRemainder\n    );\n  }\n  ,\n  async (path) => {\n    if (!/^(?:\\.\\.\\/\\.\\.\\/@lightningjs\\/ui-components-test-utils\\/src\\/docs\\/(?!\\.)(?=.)[^/]*?\\.mdx)$/.exec(path)) {\n      return;\n    }\n  \n    const pathRemainder = path.substring(53);\n    return import(\n      /* webpackChunkName: \"[request]\" */\n      /* webpackInclude: /(?!.*node_modules)(?:\\/@lightningjs\\/ui-components-test-utils\\/src\\/docs\\/(?!\\.)(?=.)[^/]*?\\.mdx)$/ */\n      '../../@lightningjs/ui-components-test-utils/src/docs/' + pathRemainder\n    );\n  }\n  ,\n  async (path) => {\n    if (!/^(?:\\.\\.\\/\\.\\.\\/@lightningjs\\/ui-components-test-utils\\/src\\/docs(?:\\/(?!\\.)(?:(?:(?!(?:^|\\/)\\.).)*?)\\/|\\/|$)(?!\\.)(?=.)[^/]*?\\.mdx)$/.exec(path)) {\n      return;\n    }\n  \n    const pathRemainder = path.substring(53);\n    return import(\n      /* webpackChunkName: \"[request]\" */\n      /* webpackInclude: /(?!.*node_modules)(?:\\/@lightningjs\\/ui-components-test-utils\\/src\\/docs(?:\\/(?!\\.)(?:(?:(?!(?:^|\\/)\\.).)*?)\\/|\\/|$)(?!\\.)(?=.)[^/]*?\\.mdx)$/ */\n      '../../@lightningjs/ui-components-test-utils/src/docs/' + pathRemainder\n    );\n  }\n  \n];\n\nexport async function importFn(path) {\n  for (let i = 0; i < importers.length; i++) {\n    const moduleExports = await pipeline(() => importers[i](path));\n    if (moduleExports) {\n      return moduleExports;\n    }\n  }\n}","import { global } from '@storybook/global';\n\nimport { ClientApi, PreviewWeb, addons, composeConfigs } from 'storybook/internal/preview-api';\nimport { createBrowserChannel } from 'storybook/internal/channels';\n\nimport { importFn } from './storybook-stories.js';\n\nconst getProjectAnnotations = () =>\ncomposeConfigs([require('/home/runner/work/Lightning-UI-Components/Lightning-UI-Components/node_modules/@storybook/html/dist/entry-preview.mjs'),require('/home/runner/work/Lightning-UI-Components/Lightning-UI-Components/node_modules/@storybook/html/dist/entry-preview-docs.mjs'),require('/home/runner/work/Lightning-UI-Components/Lightning-UI-Components/node_modules/@storybook/addon-essentials/dist/actions/preview.mjs'),require('/home/runner/work/Lightning-UI-Components/Lightning-UI-Components/node_modules/@storybook/addon-essentials/dist/highlight/preview.mjs'),require('/home/runner/work/Lightning-UI-Components/Lightning-UI-Components/node_modules/@storybook/addon-docs/dist/preview.mjs'),require('/home/runner/work/Lightning-UI-Components/Lightning-UI-Components/packages/apps/lightning-ui-docs/.storybook/preview.js'),]);\n\nconst channel = createBrowserChannel({ page: 'preview' });\naddons.setChannel(channel);\n\nif (global.CONFIG_TYPE === 'DEVELOPMENT'){\nwindow.__STORYBOOK_SERVER_CHANNEL__ = channel;\n}\n\nconst preview = new PreviewWeb(importFn, getProjectAnnotations);\n\nwindow.__STORYBOOK_PREVIEW__ = preview;\nwindow.__STORYBOOK_STORY_STORE__ = preview.storyStore;\nwindow.__STORYBOOK_ADDONS_CHANNEL__ = channel;\n\nif (import.meta.webpackHot) {\nimport.meta.webpackHot.accept('./storybook-stories.js', () => {\n// importFn has changed so we need to patch the new one in\npreview.onStoriesChanged({ importFn });\n});\n\nimport.meta.webpackHot.accept(['/home/runner/work/Lightning-UI-Components/Lightning-UI-Components/node_modules/@storybook/html/dist/entry-preview.mjs','/home/runner/work/Lightning-UI-Components/Lightning-UI-Components/node_modules/@storybook/html/dist/entry-preview-docs.mjs','/home/runner/work/Lightning-UI-Components/Lightning-UI-Components/node_modules/@storybook/addon-essentials/dist/actions/preview.mjs','/home/runner/work/Lightning-UI-Components/Lightning-UI-Components/node_modules/@storybook/addon-essentials/dist/highlight/preview.mjs','/home/runner/work/Lightning-UI-Components/Lightning-UI-Components/node_modules/@storybook/addon-docs/dist/preview.mjs','/home/runner/work/Lightning-UI-Components/Lightning-UI-Components/packages/apps/lightning-ui-docs/.storybook/preview.js',], () => {\n// getProjectAnnotations has changed so we need to patch the new one in\npreview.onGetProjectAnnotationsChanged({ getProjectAnnotations });\n});\n}","module.exports = __STORYBOOK_MODULE_CHANNELS__;","module.exports = __STORYBOOK_MODULE_CLIENT_LOGGER__;","module.exports = __STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__;","module.exports = __STORYBOOK_MODULE_CORE_EVENTS__;","module.exports = __STORYBOOK_MODULE_GLOBAL__;","module.exports = __STORYBOOK_MODULE_PREVIEW_API__;"],"names":[],"sourceRoot":""}